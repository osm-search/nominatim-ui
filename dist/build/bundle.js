!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function i(t){t.forEach(e)}function o(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let r,a;function l(t,e){return t===e||(r||(r=document.createElement("a")),r.href=e,t===r.href)}function c(e,...n){if(null==e){for(const t of n)t(void 0);return t}const i=e.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}function h(t){let e;return c(t,(t=>e=t))(),e}function u(t,e,n){t.$$.on_destroy.push(c(e,n))}function d(t,e,n,i){if(t){const o=p(t,e,n,i);return t[0](o)}}function p(t,e,n,i){return t[1]&&i?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](i(e))):n.ctx}function m(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let i=0;i<n;i+=1)t[i]=e.dirty[i]|o[i];return t}return e.dirty|o}return e.dirty}function f(t,e,n,i,o,s){if(o){const r=p(e,n,i,s);t.p(r,o)}}function _(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function g(t,e){t.appendChild(e)}function v(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode&&t.parentNode.removeChild(t)}function b(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function w(t){return document.createElement(t)}function x(t){return document.createTextNode(t)}function $(){return x(" ")}function T(){return x("")}function P(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function M(t){return function(e){return e.preventDefault(),t.call(this,e)}}function k(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function C(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function E(t,e){e=""+e,t.data!==e&&(t.data=e)}function A(t,e){t.value=null==e?"":e}function S(t,e,n){for(let n=0;n<t.options.length;n+=1){const i=t.options[n];if(i.__value===e)return void(i.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function O(t,e,n){t.classList.toggle(e,!!n)}class z{is_svg=!1;e=void 0;n=void 0;t=void 0;a=void 0;constructor(t=!1){this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){var i;this.e||(this.is_svg?this.e=(i=e.nodeName,document.createElementNS("http://www.w3.org/2000/svg",i)):this.e=w(11===e.nodeType?"TEMPLATE":e.nodeName),this.t="TEMPLATE"!==e.tagName?e:e.content,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)v(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(y)}}function I(t){a=t}function N(t){(function(){if(!a)throw new Error("Function called outside component initialization");return a})().$$.on_mount.push(t)}const B=[],D=[];let Z=[];const j=[],R=Promise.resolve();let H=!1;function F(t){Z.push(t)}function W(t){j.push(t)}const q=new Set;let U=0;function V(){if(0!==U)return;const t=a;do{try{for(;U<B.length;){const t=B[U];U++,I(t),K(t.$$)}}catch(t){throw B.length=0,U=0,t}for(I(null),B.length=0,U=0;D.length;)D.pop()();for(let t=0;t<Z.length;t+=1){const e=Z[t];q.has(e)||(q.add(e),e())}Z.length=0}while(B.length);for(;j.length;)j.pop()();H=!1,q.clear(),I(t)}function K(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(F)}}const G=new Set;let Y;function X(){Y={r:0,c:[],p:Y}}function J(){Y.r||i(Y.c),Y=Y.p}function Q(t,e){t&&t.i&&(G.delete(t),t.i(e))}function tt(t,e,n,i){if(t&&t.o){if(G.has(t))return;G.add(t),Y.c.push((()=>{G.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}else i&&i()}function et(t){return void 0!==t?.length?t:Array.from(t)}function nt(t,e,n){const i=t.$$.props[e];void 0!==i&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function it(t){t&&t.c()}function ot(t,n,s){const{fragment:r,after_update:a}=t.$$;r&&r.m(n,s),F((()=>{const n=t.$$.on_mount.map(e).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...n):i(n),t.$$.on_mount=[]})),a.forEach(F)}function st(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];Z.forEach((i=>-1===t.indexOf(i)?e.push(i):n.push(i))),n.forEach((t=>t())),Z=e}(n.after_update),i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function rt(t,e){-1===t.$$.dirty[0]&&(B.push(t),H||(H=!0,R.then(V)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function at(e,o,s,r,l,c,h=null,u=[-1]){const d=a;I(e);const p=e.$$={fragment:null,ctx:[],props:c,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(d?d.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:o.target||d.$$.root};h&&h(p.root);let m=!1;if(p.ctx=s?s(e,o.props||{},((t,n,...i)=>{const o=i.length?i[0]:n;return p.ctx&&l(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),m&&rt(e,t)),n})):[],p.update(),m=!0,i(p.before_update),p.fragment=!!r&&r(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(y)}else p.fragment&&p.fragment.c();o.intro&&Q(e.$$.fragment),ot(e,o.target,o.anchor),V()}I(d)}class lt{$$=void 0;$$set=void 0;$destroy(){st(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const t=i.indexOf(n);-1!==t&&i.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function ct(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}(function(){const t=new Map,e={set(e,n,i){t.has(e)||t.set(e,new Map);const o=t.get(e);o.has(n)||0===o.size?o.set(n,i):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(o.keys())[0]}.`)},get:(e,n)=>t.has(e)&&t.get(e).get(n)||null,remove(e,n){if(!t.has(e))return;const i=t.get(e);i.delete(n),0===i.size&&t.delete(e)}},n=1e6,i=1e3,o="transitionend",s=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,((t,e)=>`#${CSS.escape(e)}`))),t),r=t=>null==t?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),a=t=>{do{t+=Math.floor(Math.random()*n)}while(document.getElementById(t));return t},l=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const o=Number.parseFloat(e),s=Number.parseFloat(n);return o||s?(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*i):0},c=t=>{t.dispatchEvent(new Event(o))},h=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),u=t=>h(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(s(t)):null,d=t=>{if(!h(t)||0===t.getClientRects().length)return!1;const e="visible"===getComputedStyle(t).getPropertyValue("visibility"),n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const e=t.closest("summary");if(e&&e.parentNode!==n)return!1;if(null===e)return!1}return e},p=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),m=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?m(t.parentNode):null},f=()=>{},_=t=>{t.offsetHeight},g=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,v=[],y=t=>{"loading"===document.readyState?(v.length||document.addEventListener("DOMContentLoaded",(()=>{for(const t of v)t()})),v.push(t)):t()},b=()=>"rtl"===document.documentElement.dir,w=t=>{y((()=>{const e=g();if(e){const n=t.NAME,i=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=i,t.jQueryInterface)}}))},x=(t,e=[],n=t)=>"function"==typeof t?t(...e):n,$=(t,e,n=!0)=>{if(!n)return void x(t);const i=5,s=l(e)+i;let r=!1;const a=({target:n})=>{n===e&&(r=!0,e.removeEventListener(o,a),x(t))};e.addEventListener(o,a),setTimeout((()=>{r||c(e)}),s)},L=(t,e,n,i)=>{const o=t.length;let s=t.indexOf(e);return-1===s?!n&&i?t[o-1]:t[0]:(s+=n?1:-1,i&&(s=(s+o)%o),t[Math.max(0,Math.min(s,o-1))])},T=/[^.]*(?=\..*)\.|.*/,P=/\..*/,M=/::\d+$/,k={};let C=1;const E={mouseenter:"mouseover",mouseleave:"mouseout"},A=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function S(t,e){return e&&`${e}::${C++}`||t.uidEvent||C++}function O(t){const e=S(t);return t.uidEvent=e,k[e]=k[e]||{},k[e]}function z(t,e){return function n(i){return F(i,{delegateTarget:t}),n.oneOff&&H.off(t,i.type,e),e.apply(t,[i])}}function I(t,e,n){return function i(o){const s=t.querySelectorAll(e);for(let{target:r}=o;r&&r!==this;r=r.parentNode)for(const a of s)if(a===r)return F(o,{delegateTarget:r}),i.oneOff&&H.off(t,o.type,e,n),n.apply(r,[o])}}function N(t,e,n=null){return Object.values(t).find((t=>t.callable===e&&t.delegationSelector===n))}function B(t,e,n){const i="string"==typeof e,o=i?n:e||n;let s=R(t);return A.has(s)||(s=t),[i,o,s]}function D(t,e,n,i,o){if("string"!=typeof e||!t)return;let[s,r,a]=B(e,n,i);if(e in E){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};r=t(r)}const l=O(t),c=l[a]||(l[a]={}),h=N(c,r,s?n:null);if(h)return void(h.oneOff=h.oneOff&&o);const u=S(r,e.replace(T,"")),d=s?I(t,n,r):z(t,r);d.delegationSelector=s?n:null,d.callable=r,d.oneOff=o,d.uidEvent=u,c[u]=d,t.addEventListener(a,d,s)}function Z(t,e,n,i,o){const s=N(e[n],i,o);s&&(t.removeEventListener(n,s,Boolean(o)),delete e[n][s.uidEvent])}function j(t,e,n,i){const o=e[n]||{};for(const[s,r]of Object.entries(o))s.includes(i)&&Z(t,e,n,r.callable,r.delegationSelector)}function R(t){return t=t.replace(P,""),E[t]||t}const H={on(t,e,n,i){D(t,e,n,i,!1)},one(t,e,n,i){D(t,e,n,i,!0)},off(t,e,n,i){if("string"!=typeof e||!t)return;const[o,s,r]=B(e,n,i),a=r!==e,l=O(t),c=l[r]||{},h=e.startsWith(".");if(void 0===s){if(h)for(const n of Object.keys(l))j(t,l,n,e.slice(1));for(const[n,i]of Object.entries(c)){const o=n.replace(M,"");a&&!e.includes(o)||Z(t,l,r,i.callable,i.delegationSelector)}}else{if(!Object.keys(c).length)return;Z(t,l,r,s,o?n:null)}},trigger(t,e,n){if("string"!=typeof e||!t)return null;const i=g();let o=null,s=!0,r=!0,a=!1;e!==R(e)&&i&&(o=i.Event(e,n),i(t).trigger(o),s=!o.isPropagationStopped(),r=!o.isImmediatePropagationStopped(),a=o.isDefaultPrevented());const l=F(new Event(e,{bubbles:s,cancelable:!0}),n);return a&&l.preventDefault(),r&&t.dispatchEvent(l),l.defaultPrevented&&o&&o.preventDefault(),l}};function F(t,e={}){for(const[n,i]of Object.entries(e))try{t[n]=i}catch(e){Object.defineProperty(t,n,{configurable:!0,get:()=>i})}return t}function W(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return t}}function q(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}const U={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${q(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${q(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter((t=>t.startsWith("bs")&&!t.startsWith("bsConfig")));for(const i of n){let n=i.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1,n.length),e[n]=W(t.dataset[i])}return e},getDataAttribute:(t,e)=>W(t.getAttribute(`data-bs-${q(e)}`))};class V{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const n=h(e)?U.getDataAttribute(e,"config"):{};return{...this.constructor.Default,..."object"==typeof n?n:{},...h(e)?U.getDataAttributes(e):{},..."object"==typeof t?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[n,i]of Object.entries(e)){const e=t[n],o=h(e)?"element":r(e);if(!new RegExp(i).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${o}" but expected type "${i}".`)}}}const K="5.3.2";class G extends V{constructor(t,n){super(),(t=u(t))&&(this._element=t,this._config=this._getConfig(n),e.set(this._element,this.constructor.DATA_KEY,this))}dispose(){e.remove(this._element,this.constructor.DATA_KEY),H.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,n=!0){$(t,e,n)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return e.get(u(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return K}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const Y=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&"#"!==n?s(n.trim()):null}return e},X={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter((t=>t.matches(e))),parents(t,e){const n=[];let i=t.parentNode.closest(e);for(;i;)n.push(i),i=i.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((t=>`${t}:not([tabindex^="-"])`)).join(",");return this.find(e,t).filter((t=>!p(t)&&d(t)))},getSelectorFromElement(t){const e=Y(t);return e&&X.findOne(e)?e:null},getElementFromSelector(t){const e=Y(t);return e?X.findOne(e):null},getMultipleElementsFromSelector(t){const e=Y(t);return e?X.find(e):[]}},J=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,i=t.NAME;H.on(document,n,`[data-bs-dismiss="${i}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),p(this))return;const o=X.getElementFromSelector(this)||this.closest(`.${i}`);t.getOrCreateInstance(o)[e]()}))},Q="alert",tt=".bs.alert",et=`close${tt}`,nt=`closed${tt}`,it="fade",ot="show";class st extends G{static get NAME(){return Q}close(){if(H.trigger(this._element,et).defaultPrevented)return;this._element.classList.remove(ot);const t=this._element.classList.contains(it);this._queueCallback((()=>this._destroyElement()),this._element,t)}_destroyElement(){this._element.remove(),H.trigger(this._element,nt),this.dispose()}static jQueryInterface(t){return this.each((function(){const e=st.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}J(st,"close"),w(st);const rt="button",at="active",lt='[data-bs-toggle="button"]',ct="click.bs.button.data-api";class ht extends G{static get NAME(){return rt}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(at))}static jQueryInterface(t){return this.each((function(){const e=ht.getOrCreateInstance(this);"toggle"===t&&e[t]()}))}}H.on(document,ct,lt,(t=>{t.preventDefault();const e=t.target.closest(lt);ht.getOrCreateInstance(e).toggle()})),w(ht);const ut="swipe",dt=".bs.swipe",pt=`touchstart${dt}`,mt=`touchmove${dt}`,ft=`touchend${dt}`,_t=`pointerdown${dt}`,gt=`pointerup${dt}`,vt="touch",yt="pen",bt="pointer-event",wt=40,xt={endCallback:null,leftCallback:null,rightCallback:null},$t={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Lt extends V{constructor(t,e){super(),this._element=t,t&&Lt.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return xt}static get DefaultType(){return $t}static get NAME(){return ut}dispose(){H.off(this._element,dt)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),x(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=wt)return;const e=t/this._deltaX;this._deltaX=0,e&&x(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(H.on(this._element,_t,(t=>this._start(t))),H.on(this._element,gt,(t=>this._end(t))),this._element.classList.add(bt)):(H.on(this._element,pt,(t=>this._start(t))),H.on(this._element,mt,(t=>this._move(t))),H.on(this._element,ft,(t=>this._end(t))))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===yt||t.pointerType===vt)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Tt="carousel",Pt=".bs.carousel",Mt=".data-api",kt=500,Ct="next",Et="prev",At="left",St="right",Ot=`slide${Pt}`,zt=`slid${Pt}`,It=`keydown${Pt}`,Nt=`mouseenter${Pt}`,Bt=`mouseleave${Pt}`,Dt=`dragstart${Pt}`,Zt=`load${Pt}${Mt}`,jt=`click${Pt}${Mt}`,Rt="carousel",Ht="active",Ft="slide",Wt="carousel-item-end",qt="carousel-item-start",Ut="carousel-item-next",Vt="carousel-item-prev",Kt=".active",Gt=".carousel-item",Yt=Kt+Gt,Xt=".carousel-item img",Jt=".carousel-indicators",Qt="[data-bs-slide], [data-bs-slide-to]",te='[data-bs-ride="carousel"]',ee={ArrowLeft:St,ArrowRight:At},ne={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ie={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class oe extends G{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=X.findOne(Jt,this._element),this._addEventListeners(),this._config.ride===Rt&&this.cycle()}static get Default(){return ne}static get DefaultType(){return ie}static get NAME(){return Tt}next(){this._slide(Ct)}nextWhenVisible(){!document.hidden&&d(this._element)&&this.next()}prev(){this._slide(Et)}pause(){this._isSliding&&c(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?H.one(this._element,zt,(()=>this.cycle())):this.cycle())}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void H.one(this._element,zt,(()=>this.to(t)));const n=this._getItemIndex(this._getActive());if(n===t)return;const i=t>n?Ct:Et;this._slide(i,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&H.on(this._element,It,(t=>this._keydown(t))),"hover"===this._config.pause&&(H.on(this._element,Nt,(()=>this.pause())),H.on(this._element,Bt,(()=>this._maybeEnableCycle()))),this._config.touch&&Lt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of X.find(Xt,this._element))H.on(t,Dt,(t=>t.preventDefault()));const t={leftCallback:()=>this._slide(this._directionToOrder(At)),rightCallback:()=>this._slide(this._directionToOrder(St)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),kt+this._config.interval))}};this._swipeHelper=new Lt(this._element,t)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=ee[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=X.findOne(Kt,this._indicatorsElement);e.classList.remove(Ht),e.removeAttribute("aria-current");const n=X.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);n&&(n.classList.add(Ht),n.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const n=this._getActive(),i=t===Ct,o=e||L(this._getItems(),n,i,this._config.wrap);if(o===n)return;const s=this._getItemIndex(o),r=e=>H.trigger(this._element,e,{relatedTarget:o,direction:this._orderToDirection(t),from:this._getItemIndex(n),to:s});if(r(Ot).defaultPrevented)return;if(!n||!o)return;const a=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=o;const l=i?qt:Wt,c=i?Ut:Vt;o.classList.add(c),_(o),n.classList.add(l),o.classList.add(l);const h=()=>{o.classList.remove(l,c),o.classList.add(Ht),n.classList.remove(Ht,c,l),this._isSliding=!1,r(zt)};this._queueCallback(h,n,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains(Ft)}_getActive(){return X.findOne(Yt,this._element)}_getItems(){return X.find(Gt,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return b()?t===At?Et:Ct:t===At?Ct:Et}_orderToDirection(t){return b()?t===Et?At:St:t===Et?St:At}static jQueryInterface(t){return this.each((function(){const e=oe.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)}))}}H.on(document,jt,Qt,(function(t){const e=X.getElementFromSelector(this);if(!e||!e.classList.contains(Rt))return;t.preventDefault();const n=oe.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");return i?(n.to(i),void n._maybeEnableCycle()):"next"===U.getDataAttribute(this,"slide")?(n.next(),void n._maybeEnableCycle()):(n.prev(),void n._maybeEnableCycle())})),H.on(window,Zt,(()=>{const t=X.find(te);for(const e of t)oe.getOrCreateInstance(e)})),w(oe);const se="collapse",re=".bs.collapse",ae=`show${re}`,le=`shown${re}`,ce=`hide${re}`,he=`hidden${re}`,ue=`click${re}.data-api`,de="show",pe="collapse",me="collapsing",fe="collapsed",_e=`:scope .${pe} .${pe}`,ge="collapse-horizontal",ve="width",ye="height",be=".collapse.show, .collapse.collapsing",we='[data-bs-toggle="collapse"]',xe={parent:null,toggle:!0},$e={parent:"(null|element)",toggle:"boolean"};class Le extends G{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const n=X.find(we);for(const t of n){const e=X.getSelectorFromElement(t),n=X.find(e).filter((t=>t===this._element));null!==e&&n.length&&this._triggerArray.push(t)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return xe}static get DefaultType(){return $e}static get NAME(){return se}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(be).filter((t=>t!==this._element)).map((t=>Le.getOrCreateInstance(t,{toggle:!1})))),t.length&&t[0]._isTransitioning)return;if(H.trigger(this._element,ae).defaultPrevented)return;for(const e of t)e.hide();const e=this._getDimension();this._element.classList.remove(pe),this._element.classList.add(me),this._element.style[e]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(me),this._element.classList.add(pe,de),this._element.style[e]="",H.trigger(this._element,le)},i=`scroll${e[0].toUpperCase()+e.slice(1)}`;this._queueCallback(n,this._element,!0),this._element.style[e]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(H.trigger(this._element,ce).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,_(this._element),this._element.classList.add(me),this._element.classList.remove(pe,de);for(const t of this._triggerArray){const e=X.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0;const e=()=>{this._isTransitioning=!1,this._element.classList.remove(me),this._element.classList.add(pe),H.trigger(this._element,he)};this._element.style[t]="",this._queueCallback(e,this._element,!0)}_isShown(t=this._element){return t.classList.contains(de)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=u(t.parent),t}_getDimension(){return this._element.classList.contains(ge)?ve:ye}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(we);for(const e of t){const t=X.getElementFromSelector(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(t){const e=X.find(_e,this._config.parent);return X.find(t,this._config.parent).filter((t=>!e.includes(t)))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const n of t)n.classList.toggle(fe,!e),n.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each((function(){const n=Le.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}}))}}H.on(document,ue,we,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();for(const t of X.getMultipleElementsFromSelector(this))Le.getOrCreateInstance(t,{toggle:!1}).toggle()})),w(Le);var Te="top",Pe="bottom",Me="right",ke="left",Ce="auto",Ee=[Te,Pe,Me,ke],Ae="start",Se="end",Oe="clippingParents",ze="viewport",Ie="popper",Ne="reference",Be=Ee.reduce((function(t,e){return t.concat([e+"-"+Ae,e+"-"+Se])}),[]),De=[].concat(Ee,[Ce]).reduce((function(t,e){return t.concat([e,e+"-"+Ae,e+"-"+Se])}),[]),Ze="beforeRead",je="read",Re="afterRead",He="beforeMain",Fe="main",We="afterMain",qe="beforeWrite",Ue="write",Ve="afterWrite",Ke=[Ze,je,Re,He,Fe,We,qe,Ue,Ve];function Ge(t){return t?(t.nodeName||"").toLowerCase():null}function Ye(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Xe(t){return t instanceof Ye(t).Element||t instanceof Element}function Je(t){return t instanceof Ye(t).HTMLElement||t instanceof HTMLElement}function Qe(t){return"undefined"!=typeof ShadowRoot&&(t instanceof Ye(t).ShadowRoot||t instanceof ShadowRoot)}function tn(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},i=e.attributes[t]||{},o=e.elements[t];Je(o)&&Ge(o)&&(Object.assign(o.style,n),Object.keys(i).forEach((function(t){var e=i[t];!1===e?o.removeAttribute(t):o.setAttribute(t,!0===e?"":e)})))}))}function en(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var i=e.elements[t],o=e.attributes[t]||{},s=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});Je(i)&&Ge(i)&&(Object.assign(i.style,s),Object.keys(o).forEach((function(t){i.removeAttribute(t)})))}))}}const nn={name:"applyStyles",enabled:!0,phase:"write",fn:tn,effect:en,requires:["computeStyles"]};function on(t){return t.split("-")[0]}var sn=Math.max,rn=Math.min,an=Math.round;function ln(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function cn(){return!/^((?!chrome|android).)*safari/i.test(ln())}function hn(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var i=t.getBoundingClientRect(),o=1,s=1;e&&Je(t)&&(o=t.offsetWidth>0&&an(i.width)/t.offsetWidth||1,s=t.offsetHeight>0&&an(i.height)/t.offsetHeight||1);var r=(Xe(t)?Ye(t):window).visualViewport,a=!cn()&&n,l=(i.left+(a&&r?r.offsetLeft:0))/o,c=(i.top+(a&&r?r.offsetTop:0))/s,h=i.width/o,u=i.height/s;return{width:h,height:u,top:c,right:l+h,bottom:c+u,left:l,x:l,y:c}}function un(t){var e=hn(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function dn(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Qe(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function pn(t){return Ye(t).getComputedStyle(t)}function mn(t){return["table","td","th"].indexOf(Ge(t))>=0}function fn(t){return((Xe(t)?t.ownerDocument:t.document)||window.document).documentElement}function _n(t){return"html"===Ge(t)?t:t.assignedSlot||t.parentNode||(Qe(t)?t.host:null)||fn(t)}function gn(t){return Je(t)&&"fixed"!==pn(t).position?t.offsetParent:null}function vn(t){var e=/firefox/i.test(ln());if(/Trident/i.test(ln())&&Je(t)&&"fixed"===pn(t).position)return null;var n=_n(t);for(Qe(n)&&(n=n.host);Je(n)&&["html","body"].indexOf(Ge(n))<0;){var i=pn(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||e&&"filter"===i.willChange||e&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}function yn(t){for(var e=Ye(t),n=gn(t);n&&mn(n)&&"static"===pn(n).position;)n=gn(n);return n&&("html"===Ge(n)||"body"===Ge(n)&&"static"===pn(n).position)?e:n||vn(t)||e}function bn(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function wn(t,e,n){return sn(t,rn(e,n))}function xn(t,e,n){var i=wn(t,e,n);return i>n?n:i}function $n(){return{top:0,right:0,bottom:0,left:0}}function Ln(t){return Object.assign({},$n(),t)}function Tn(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}var Pn=function(t,e){return Ln("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:Tn(t,Ee))};function Mn(t){var e,n=t.state,i=t.name,o=t.options,s=n.elements.arrow,r=n.modifiersData.popperOffsets,a=on(n.placement),l=bn(a),c=[ke,Me].indexOf(a)>=0?"height":"width";if(s&&r){var h=Pn(o.padding,n),u=un(s),d="y"===l?Te:ke,p="y"===l?Pe:Me,m=n.rects.reference[c]+n.rects.reference[l]-r[l]-n.rects.popper[c],f=r[l]-n.rects.reference[l],_=yn(s),g=_?"y"===l?_.clientHeight||0:_.clientWidth||0:0,v=m/2-f/2,y=h[d],b=g-u[c]-h[p],w=g/2-u[c]/2+v,x=wn(y,w,b),$=l;n.modifiersData[i]=((e={})[$]=x,e.centerOffset=x-w,e)}}function kn(t){var e=t.state,n=t.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=e.elements.popper.querySelector(i)))&&dn(e.elements.popper,i)&&(e.elements.arrow=i)}const Cn={name:"arrow",enabled:!0,phase:"main",fn:Mn,effect:kn,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function En(t){return t.split("-")[1]}var An={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Sn(t,e){var n=t.x,i=t.y,o=e.devicePixelRatio||1;return{x:an(n*o)/o||0,y:an(i*o)/o||0}}function On(t){var e,n=t.popper,i=t.popperRect,o=t.placement,s=t.variation,r=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,h=t.roundOffsets,u=t.isFixed,d=r.x,p=void 0===d?0:d,m=r.y,f=void 0===m?0:m,_="function"==typeof h?h({x:p,y:f}):{x:p,y:f};p=_.x,f=_.y;var g=r.hasOwnProperty("x"),v=r.hasOwnProperty("y"),y=ke,b=Te,w=window;if(c){var x=yn(n),$="clientHeight",L="clientWidth";x===Ye(n)&&"static"!==pn(x=fn(n)).position&&"absolute"===a&&($="scrollHeight",L="scrollWidth"),(o===Te||(o===ke||o===Me)&&s===Se)&&(b=Pe,f-=(u&&x===w&&w.visualViewport?w.visualViewport.height:x[$])-i.height,f*=l?1:-1),o!==ke&&(o!==Te&&o!==Pe||s!==Se)||(y=Me,p-=(u&&x===w&&w.visualViewport?w.visualViewport.width:x[L])-i.width,p*=l?1:-1)}var T,P=Object.assign({position:a},c&&An),M=!0===h?Sn({x:p,y:f},Ye(n)):{x:p,y:f};return p=M.x,f=M.y,l?Object.assign({},P,((T={})[b]=v?"0":"",T[y]=g?"0":"",T.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+f+"px)":"translate3d("+p+"px, "+f+"px, 0)",T)):Object.assign({},P,((e={})[b]=v?f+"px":"",e[y]=g?p+"px":"",e.transform="",e))}function zn(t){var e=t.state,n=t.options,i=n.gpuAcceleration,o=void 0===i||i,s=n.adaptive,r=void 0===s||s,a=n.roundOffsets,l=void 0===a||a,c={placement:on(e.placement),variation:En(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,On(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:r,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,On(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const In={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:zn,data:{}};var Nn={passive:!0};function Bn(t){var e=t.state,n=t.instance,i=t.options,o=i.scroll,s=void 0===o||o,r=i.resize,a=void 0===r||r,l=Ye(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach((function(t){t.addEventListener("scroll",n.update,Nn)})),a&&l.addEventListener("resize",n.update,Nn),function(){s&&c.forEach((function(t){t.removeEventListener("scroll",n.update,Nn)})),a&&l.removeEventListener("resize",n.update,Nn)}}const Dn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Bn,data:{}};var Zn={left:"right",right:"left",bottom:"top",top:"bottom"};function jn(t){return t.replace(/left|right|bottom|top/g,(function(t){return Zn[t]}))}var Rn={start:"end",end:"start"};function Hn(t){return t.replace(/start|end/g,(function(t){return Rn[t]}))}function Fn(t){var e=Ye(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Wn(t){return hn(fn(t)).left+Fn(t).scrollLeft}function qn(t,e){var n=Ye(t),i=fn(t),o=n.visualViewport,s=i.clientWidth,r=i.clientHeight,a=0,l=0;if(o){s=o.width,r=o.height;var c=cn();(c||!c&&"fixed"===e)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:r,x:a+Wn(t),y:l}}function Un(t){var e,n=fn(t),i=Fn(t),o=null==(e=t.ownerDocument)?void 0:e.body,s=sn(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),r=sn(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-i.scrollLeft+Wn(t),l=-i.scrollTop;return"rtl"===pn(o||n).direction&&(a+=sn(n.clientWidth,o?o.clientWidth:0)-s),{width:s,height:r,x:a,y:l}}function Vn(t){var e=pn(t),n=e.overflow,i=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}function Kn(t){return["html","body","#document"].indexOf(Ge(t))>=0?t.ownerDocument.body:Je(t)&&Vn(t)?t:Kn(_n(t))}function Gn(t,e){var n;void 0===e&&(e=[]);var i=Kn(t),o=i===(null==(n=t.ownerDocument)?void 0:n.body),s=Ye(i),r=o?[s].concat(s.visualViewport||[],Vn(i)?i:[]):i,a=e.concat(r);return o?a:a.concat(Gn(_n(r)))}function Yn(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Xn(t,e){var n=hn(t,!1,"fixed"===e);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Jn(t,e,n){return e===ze?Yn(qn(t,n)):Xe(e)?Xn(e,n):Yn(Un(fn(t)))}function Qn(t){var e=Gn(_n(t)),n=["absolute","fixed"].indexOf(pn(t).position)>=0&&Je(t)?yn(t):t;return Xe(n)?e.filter((function(t){return Xe(t)&&dn(t,n)&&"body"!==Ge(t)})):[]}function ti(t,e,n,i){var o="clippingParents"===e?Qn(t):[].concat(e),s=[].concat(o,[n]),r=s[0],a=s.reduce((function(e,n){var o=Jn(t,n,i);return e.top=sn(o.top,e.top),e.right=rn(o.right,e.right),e.bottom=rn(o.bottom,e.bottom),e.left=sn(o.left,e.left),e}),Jn(t,r,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function ei(t){var e,n=t.reference,i=t.element,o=t.placement,s=o?on(o):null,r=o?En(o):null,a=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(s){case Te:e={x:a,y:n.y-i.height};break;case Pe:e={x:a,y:n.y+n.height};break;case Me:e={x:n.x+n.width,y:l};break;case ke:e={x:n.x-i.width,y:l};break;default:e={x:n.x,y:n.y}}var c=s?bn(s):null;if(null!=c){var h="y"===c?"height":"width";switch(r){case Ae:e[c]=e[c]-(n[h]/2-i[h]/2);break;case Se:e[c]=e[c]+(n[h]/2-i[h]/2)}}return e}function ni(t,e){void 0===e&&(e={});var n=e,i=n.placement,o=void 0===i?t.placement:i,s=n.strategy,r=void 0===s?t.strategy:s,a=n.boundary,l=void 0===a?Oe:a,c=n.rootBoundary,h=void 0===c?ze:c,u=n.elementContext,d=void 0===u?Ie:u,p=n.altBoundary,m=void 0!==p&&p,f=n.padding,_=void 0===f?0:f,g=Ln("number"!=typeof _?_:Tn(_,Ee)),v=d===Ie?Ne:Ie,y=t.rects.popper,b=t.elements[m?v:d],w=ti(Xe(b)?b:b.contextElement||fn(t.elements.popper),l,h,r),x=hn(t.elements.reference),$=ei({reference:x,element:y,strategy:"absolute",placement:o}),L=Yn(Object.assign({},y,$)),T=d===Ie?L:x,P={top:w.top-T.top+g.top,bottom:T.bottom-w.bottom+g.bottom,left:w.left-T.left+g.left,right:T.right-w.right+g.right},M=t.modifiersData.offset;if(d===Ie&&M){var k=M[o];Object.keys(P).forEach((function(t){var e=[Me,Pe].indexOf(t)>=0?1:-1,n=[Te,Pe].indexOf(t)>=0?"y":"x";P[t]+=k[n]*e}))}return P}function ii(t,e){void 0===e&&(e={});var n=e,i=n.placement,o=n.boundary,s=n.rootBoundary,r=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?De:l,h=En(i),u=h?a?Be:Be.filter((function(t){return En(t)===h})):Ee,d=u.filter((function(t){return c.indexOf(t)>=0}));0===d.length&&(d=u);var p=d.reduce((function(e,n){return e[n]=ni(t,{placement:n,boundary:o,rootBoundary:s,padding:r})[on(n)],e}),{});return Object.keys(p).sort((function(t,e){return p[t]-p[e]}))}function oi(t){if(on(t)===Ce)return[];var e=jn(t);return[Hn(t),e,Hn(e)]}function si(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var o=n.mainAxis,s=void 0===o||o,r=n.altAxis,a=void 0===r||r,l=n.fallbackPlacements,c=n.padding,h=n.boundary,u=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,m=void 0===p||p,f=n.allowedAutoPlacements,_=e.options.placement,g=on(_),v=l||(g!==_&&m?oi(_):[jn(_)]),y=[_].concat(v).reduce((function(t,n){return t.concat(on(n)===Ce?ii(e,{placement:n,boundary:h,rootBoundary:u,padding:c,flipVariations:m,allowedAutoPlacements:f}):n)}),[]),b=e.rects.reference,w=e.rects.popper,x=new Map,$=!0,L=y[0],T=0;T<y.length;T++){var P=y[T],M=on(P),k=En(P)===Ae,C=[Te,Pe].indexOf(M)>=0,E=C?"width":"height",A=ni(e,{placement:P,boundary:h,rootBoundary:u,altBoundary:d,padding:c}),S=C?k?Me:ke:k?Pe:Te;b[E]>w[E]&&(S=jn(S));var O=jn(S),z=[];if(s&&z.push(A[M]<=0),a&&z.push(A[S]<=0,A[O]<=0),z.every((function(t){return t}))){L=P,$=!1;break}x.set(P,z)}if($)for(var I=function(t){var e=y.find((function(e){var n=x.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return L=e,"break"},N=m?3:1;N>0&&"break"!==I(N);N--);e.placement!==L&&(e.modifiersData[i]._skip=!0,e.placement=L,e.reset=!0)}}const ri={name:"flip",enabled:!0,phase:"main",fn:si,requiresIfExists:["offset"],data:{_skip:!1}};function ai(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function li(t){return[Te,Me,Pe,ke].some((function(e){return t[e]>=0}))}function ci(t){var e=t.state,n=t.name,i=e.rects.reference,o=e.rects.popper,s=e.modifiersData.preventOverflow,r=ni(e,{elementContext:"reference"}),a=ni(e,{altBoundary:!0}),l=ai(r,i),c=ai(a,o,s),h=li(l),u=li(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":u})}const hi={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ci};function ui(t,e,n){var i=on(t),o=[ke,Te].indexOf(i)>=0?-1:1,s="function"==typeof n?n(Object.assign({},e,{placement:t})):n,r=s[0],a=s[1];return r=r||0,a=(a||0)*o,[ke,Me].indexOf(i)>=0?{x:a,y:r}:{x:r,y:a}}function di(t){var e=t.state,n=t.options,i=t.name,o=n.offset,s=void 0===o?[0,0]:o,r=De.reduce((function(t,n){return t[n]=ui(n,e.rects,s),t}),{}),a=r[e.placement],l=a.x,c=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=r}const pi={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:di};function mi(t){var e=t.state,n=t.name;e.modifiersData[n]=ei({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const fi={name:"popperOffsets",enabled:!0,phase:"read",fn:mi,data:{}};function _i(t){return"x"===t?"y":"x"}function gi(t){var e=t.state,n=t.options,i=t.name,o=n.mainAxis,s=void 0===o||o,r=n.altAxis,a=void 0!==r&&r,l=n.boundary,c=n.rootBoundary,h=n.altBoundary,u=n.padding,d=n.tether,p=void 0===d||d,m=n.tetherOffset,f=void 0===m?0:m,_=ni(e,{boundary:l,rootBoundary:c,padding:u,altBoundary:h}),g=on(e.placement),v=En(e.placement),y=!v,b=bn(g),w=_i(b),x=e.modifiersData.popperOffsets,$=e.rects.reference,L=e.rects.popper,T="function"==typeof f?f(Object.assign({},e.rects,{placement:e.placement})):f,P="number"==typeof T?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,k={x:0,y:0};if(x){if(s){var C,E="y"===b?Te:ke,A="y"===b?Pe:Me,S="y"===b?"height":"width",O=x[b],z=O+_[E],I=O-_[A],N=p?-L[S]/2:0,B=v===Ae?$[S]:L[S],D=v===Ae?-L[S]:-$[S],Z=e.elements.arrow,j=p&&Z?un(Z):{width:0,height:0},R=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:$n(),H=R[E],F=R[A],W=wn(0,$[S],j[S]),q=y?$[S]/2-N-W-H-P.mainAxis:B-W-H-P.mainAxis,U=y?-$[S]/2+N+W+F+P.mainAxis:D+W+F+P.mainAxis,V=e.elements.arrow&&yn(e.elements.arrow),K=V?"y"===b?V.clientTop||0:V.clientLeft||0:0,G=null!=(C=null==M?void 0:M[b])?C:0,Y=O+U-G,X=wn(p?rn(z,O+q-G-K):z,O,p?sn(I,Y):I);x[b]=X,k[b]=X-O}if(a){var J,Q="x"===b?Te:ke,tt="x"===b?Pe:Me,et=x[w],nt="y"===w?"height":"width",it=et+_[Q],ot=et-_[tt],st=-1!==[Te,ke].indexOf(g),rt=null!=(J=null==M?void 0:M[w])?J:0,at=st?it:et-$[nt]-L[nt]-rt+P.altAxis,lt=st?et+$[nt]+L[nt]-rt-P.altAxis:ot,ct=p&&st?xn(at,et,lt):wn(p?at:it,et,p?lt:ot);x[w]=ct,k[w]=ct-et}e.modifiersData[i]=k}}const vi={name:"preventOverflow",enabled:!0,phase:"main",fn:gi,requiresIfExists:["offset"]};function yi(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function bi(t){return t!==Ye(t)&&Je(t)?yi(t):Fn(t)}function wi(t){var e=t.getBoundingClientRect(),n=an(e.width)/t.offsetWidth||1,i=an(e.height)/t.offsetHeight||1;return 1!==n||1!==i}function xi(t,e,n){void 0===n&&(n=!1);var i=Je(e),o=Je(e)&&wi(e),s=fn(e),r=hn(t,o,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&(("body"!==Ge(e)||Vn(s))&&(a=bi(e)),Je(e)?((l=hn(e,!0)).x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=Wn(s))),{x:r.left+a.scrollLeft-l.x,y:r.top+a.scrollTop-l.y,width:r.width,height:r.height}}function $i(t){var e=new Map,n=new Set,i=[];function o(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var i=e.get(t);i&&o(i)}})),i.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||o(t)})),i}function Li(t){var e=$i(t);return Ke.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}function Ti(t){var e;return function(){return e||(e=new Promise((function(n){Promise.resolve().then((function(){e=void 0,n(t())}))}))),e}}function Pi(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}var Mi={placement:"bottom",modifiers:[],strategy:"absolute"};function ki(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function Ci(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,i=void 0===n?[]:n,o=e.defaultOptions,s=void 0===o?Mi:o;return function(t,e,n){void 0===n&&(n=s);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},Mi,s),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},r=[],a=!1,l={state:o,setOptions:function(n){var r="function"==typeof n?n(o.options):n;h(),o.options=Object.assign({},s,o.options,r),o.scrollParents={reference:Xe(t)?Gn(t):t.contextElement?Gn(t.contextElement):[],popper:Gn(e)};var a=Li(Pi([].concat(i,o.options.modifiers)));return o.orderedModifiers=a.filter((function(t){return t.enabled})),c(),l.update()},forceUpdate:function(){if(!a){var t=o.elements,e=t.reference,n=t.popper;if(ki(e,n)){o.rects={reference:xi(e,yn(n),"fixed"===o.options.strategy),popper:un(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(t){return o.modifiersData[t.name]=Object.assign({},t.data)}));for(var i=0;i<o.orderedModifiers.length;i++)if(!0!==o.reset){var s=o.orderedModifiers[i],r=s.fn,c=s.options,h=void 0===c?{}:c,u=s.name;"function"==typeof r&&(o=r({state:o,options:h,name:u,instance:l})||o)}else o.reset=!1,i=-1}}},update:Ti((function(){return new Promise((function(t){l.forceUpdate(),t(o)}))})),destroy:function(){h(),a=!0}};if(!ki(t,e))return l;function c(){o.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,i=void 0===n?{}:n,s=t.effect;if("function"==typeof s){var a=s({state:o,name:e,instance:l,options:i}),c=function(){};r.push(a||c)}}))}function h(){r.forEach((function(t){return t()})),r=[]}return l.setOptions(n).then((function(t){!a&&n.onFirstUpdate&&n.onFirstUpdate(t)})),l}}var Ei=Ci(),Ai=Ci({defaultModifiers:[Dn,fi,In,nn]}),Si=Ci({defaultModifiers:[Dn,fi,In,nn,pi,ri,vi,Cn,hi]});const Oi=Object.freeze(Object.defineProperty({__proto__:null,afterMain:We,afterRead:Re,afterWrite:Ve,applyStyles:nn,arrow:Cn,auto:Ce,basePlacements:Ee,beforeMain:He,beforeRead:Ze,beforeWrite:qe,bottom:Pe,clippingParents:Oe,computeStyles:In,createPopper:Si,createPopperBase:Ei,createPopperLite:Ai,detectOverflow:ni,end:Se,eventListeners:Dn,flip:ri,hide:hi,left:ke,main:Fe,modifierPhases:Ke,offset:pi,placements:De,popper:Ie,popperGenerator:Ci,popperOffsets:fi,preventOverflow:vi,read:je,reference:Ne,right:Me,start:Ae,top:Te,variationPlacements:Be,viewport:ze,write:Ue},Symbol.toStringTag,{value:"Module"})),zi="dropdown",Ii=".bs.dropdown",Ni=".data-api",Bi="Escape",Di="Tab",Zi="ArrowUp",ji="ArrowDown",Ri=2,Hi=`hide${Ii}`,Fi=`hidden${Ii}`,Wi=`show${Ii}`,qi=`shown${Ii}`,Ui=`click${Ii}${Ni}`,Vi=`keydown${Ii}${Ni}`,Ki=`keyup${Ii}${Ni}`,Gi="show",Yi="dropup",Xi="dropend",Ji="dropstart",Qi="dropup-center",to="dropdown-center",eo='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',no=`${eo}.${Gi}`,io=".dropdown-menu",oo=".navbar",so=".navbar-nav",ro=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",ao=b()?"top-end":"top-start",lo=b()?"top-start":"top-end",co=b()?"bottom-end":"bottom-start",ho=b()?"bottom-start":"bottom-end",uo=b()?"left-start":"right-start",po=b()?"right-start":"left-start",mo="top",fo="bottom",_o={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},go={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class vo extends G{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=X.next(this._element,io)[0]||X.prev(this._element,io)[0]||X.findOne(io,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return _o}static get DefaultType(){return go}static get NAME(){return zi}toggle(){return this._isShown()?this.hide():this.show()}show(){if(p(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!H.trigger(this._element,Wi,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(so))for(const t of[].concat(...document.body.children))H.on(t,"mouseover",f);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Gi),this._element.classList.add(Gi),H.trigger(this._element,qi,t)}}hide(){if(p(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!H.trigger(this._element,Hi,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))H.off(t,"mouseover",f);this._popper&&this._popper.destroy(),this._menu.classList.remove(Gi),this._element.classList.remove(Gi),this._element.setAttribute("aria-expanded","false"),U.removeDataAttribute(this._menu,"popper"),H.trigger(this._element,Fi,t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!h(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${zi.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(void 0===Oi)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:h(this._config.reference)?t=u(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=Si(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Gi)}_getPlacement(){const t=this._parent;if(t.classList.contains(Xi))return uo;if(t.classList.contains(Ji))return po;if(t.classList.contains(Qi))return mo;if(t.classList.contains(to))return fo;const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains(Yi)?e?lo:ao:e?ho:co}_detectNavbar(){return null!==this._element.closest(oo)}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(U.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...x(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:e}){const n=X.find(ro,this._menu).filter((t=>d(t)));n.length&&L(n,e,t===ji,!n.includes(e)).focus()}static jQueryInterface(t){return this.each((function(){const e=vo.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}static clearMenus(t){if(t.button===Ri||"keyup"===t.type&&t.key!==Di)return;const e=X.find(no);for(const n of e){const e=vo.getInstance(n);if(!e||!1===e._config.autoClose)continue;const i=t.composedPath(),o=i.includes(e._menu);if(i.includes(e._element)||"inside"===e._config.autoClose&&!o||"outside"===e._config.autoClose&&o)continue;if(e._menu.contains(t.target)&&("keyup"===t.type&&t.key===Di||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const s={relatedTarget:e._element};"click"===t.type&&(s.clickEvent=t),e._completeHide(s)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),n=t.key===Bi,i=[Zi,ji].includes(t.key);if(!i&&!n)return;if(e&&!n)return;t.preventDefault();const o=this.matches(eo)?this:X.prev(this,eo)[0]||X.next(this,eo)[0]||X.findOne(eo,t.delegateTarget.parentNode),s=vo.getOrCreateInstance(o);if(i)return t.stopPropagation(),s.show(),void s._selectMenuItem(t);s._isShown()&&(t.stopPropagation(),s.hide(),o.focus())}}H.on(document,Vi,eo,vo.dataApiKeydownHandler),H.on(document,Vi,io,vo.dataApiKeydownHandler),H.on(document,Ui,vo.clearMenus),H.on(document,Ki,vo.clearMenus),H.on(document,Ui,eo,(function(t){t.preventDefault(),vo.getOrCreateInstance(this).toggle()})),w(vo);const yo="backdrop",bo="fade",wo="show",xo=`mousedown.bs.${yo}`,$o={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Lo={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class To extends V{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return $o}static get DefaultType(){return Lo}static get NAME(){return yo}show(t){if(!this._config.isVisible)return void x(t);this._append();const e=this._getElement();this._config.isAnimated&&_(e),e.classList.add(wo),this._emulateAnimation((()=>{x(t)}))}hide(t){this._config.isVisible?(this._getElement().classList.remove(wo),this._emulateAnimation((()=>{this.dispose(),x(t)}))):x(t)}dispose(){this._isAppended&&(H.off(this._element,xo),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(bo),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=u(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),H.on(t,xo,(()=>{x(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(t){$(t,this._getElement(),this._config.isAnimated)}}const Po="focustrap",Mo=".bs.focustrap",ko=`focusin${Mo}`,Co=`keydown.tab${Mo}`,Eo="Tab",Ao="forward",So="backward",Oo={autofocus:!0,trapElement:null},zo={autofocus:"boolean",trapElement:"element"};class Io extends V{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Oo}static get DefaultType(){return zo}static get NAME(){return Po}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),H.off(document,Mo),H.on(document,ko,(t=>this._handleFocusin(t))),H.on(document,Co,(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,H.off(document,Mo))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const n=X.focusableChildren(e);0===n.length?e.focus():this._lastTabNavDirection===So?n[n.length-1].focus():n[0].focus()}_handleKeydown(t){t.key===Eo&&(this._lastTabNavDirection=t.shiftKey?So:Ao)}}const No=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Bo=".sticky-top",Do="padding-right",Zo="margin-right";class jo{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Do,(e=>e+t)),this._setElementAttributes(No,Do,(e=>e+t)),this._setElementAttributes(Bo,Zo,(e=>e-t))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Do),this._resetElementAttributes(No,Do),this._resetElementAttributes(Bo,Zo)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,n){const i=this.getWidth(),o=t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+i)return;this._saveInitialAttribute(t,e);const o=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,`${n(Number.parseFloat(o))}px`)};this._applyManipulationCallback(t,o)}_saveInitialAttribute(t,e){const n=t.style.getPropertyValue(e);n&&U.setDataAttribute(t,e,n)}_resetElementAttributes(t,e){const n=t=>{const n=U.getDataAttribute(t,e);null!==n?(U.removeDataAttribute(t,e),t.style.setProperty(e,n)):t.style.removeProperty(e)};this._applyManipulationCallback(t,n)}_applyManipulationCallback(t,e){if(h(t))e(t);else for(const n of X.find(t,this._element))e(n)}}const Ro="modal",Ho=".bs.modal",Fo="Escape",Wo=`hide${Ho}`,qo=`hidePrevented${Ho}`,Uo=`hidden${Ho}`,Vo=`show${Ho}`,Ko=`shown${Ho}`,Go=`resize${Ho}`,Yo=`click.dismiss${Ho}`,Xo=`mousedown.dismiss${Ho}`,Jo=`keydown.dismiss${Ho}`,Qo=`click${Ho}.data-api`,ts="modal-open",es="fade",ns="show",is="modal-static",os=".modal.show",ss=".modal-dialog",rs=".modal-body",as='[data-bs-toggle="modal"]',ls={backdrop:!0,focus:!0,keyboard:!0},cs={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class hs extends G{constructor(t,e){super(t,e),this._dialog=X.findOne(ss,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new jo,this._addEventListeners()}static get Default(){return ls}static get DefaultType(){return cs}static get NAME(){return Ro}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||H.trigger(this._element,Vo,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ts),this._adjustDialog(),this._backdrop.show((()=>this._showElement(t))))}hide(){this._isShown&&!this._isTransitioning&&(H.trigger(this._element,Wo).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(ns),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated())))}dispose(){H.off(window,Ho),H.off(this._dialog,Ho),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new To({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Io({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=X.findOne(rs,this._dialog);e&&(e.scrollTop=0),_(this._element),this._element.classList.add(ns);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,H.trigger(this._element,Ko,{relatedTarget:t})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){H.on(this._element,Jo,(t=>{t.key===Fo&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())})),H.on(window,Go,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),H.on(this._element,Xo,(t=>{H.one(this._element,Yo,(e=>{this._element===t.target&&this._element===e.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(ts),this._resetAdjustments(),this._scrollBar.reset(),H.trigger(this._element,Uo)}))}_isAnimated(){return this._element.classList.contains(es)}_triggerBackdropTransition(){if(H.trigger(this._element,qo).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._element.style.overflowY;"hidden"===e||this._element.classList.contains(is)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(is),this._queueCallback((()=>{this._element.classList.remove(is),this._queueCallback((()=>{this._element.style.overflowY=e}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),n=e>0;if(n&&!t){const t=b()?"paddingLeft":"paddingRight";this._element.style[t]=`${e}px`}if(!n&&t){const t=b()?"paddingRight":"paddingLeft";this._element.style[t]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each((function(){const n=hs.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t](e)}}))}}H.on(document,Qo,as,(function(t){const e=X.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),H.one(e,Vo,(t=>{t.defaultPrevented||H.one(e,Uo,(()=>{d(this)&&this.focus()}))}));const n=X.findOne(os);n&&hs.getInstance(n).hide(),hs.getOrCreateInstance(e).toggle(this)})),J(hs),w(hs);const us="offcanvas",ds=".bs.offcanvas",ps=".data-api",ms=`load${ds}${ps}`,fs="Escape",_s="show",gs="showing",vs="hiding",ys="offcanvas-backdrop",bs=".offcanvas.show",ws=`show${ds}`,xs=`shown${ds}`,$s=`hide${ds}`,Ls=`hidePrevented${ds}`,Ts=`hidden${ds}`,Ps=`resize${ds}`,Ms=`click${ds}${ps}`,ks=`keydown.dismiss${ds}`,Cs='[data-bs-toggle="offcanvas"]',Es={backdrop:!0,keyboard:!0,scroll:!1},As={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ss extends G{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Es}static get DefaultType(){return As}static get NAME(){return us}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown)return;if(H.trigger(this._element,ws,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||(new jo).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(gs);const e=()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(_s),this._element.classList.remove(gs),H.trigger(this._element,xs,{relatedTarget:t})};this._queueCallback(e,this._element,!0)}hide(){if(!this._isShown)return;if(H.trigger(this._element,$s).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(vs),this._backdrop.hide();const t=()=>{this._element.classList.remove(_s,vs),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new jo).reset(),H.trigger(this._element,Ts)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{"static"!==this._config.backdrop?this.hide():H.trigger(this._element,Ls)},e=Boolean(this._config.backdrop);return new To({className:ys,isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?t:null})}_initializeFocusTrap(){return new Io({trapElement:this._element})}_addEventListeners(){H.on(this._element,ks,(t=>{t.key===fs&&(this._config.keyboard?this.hide():H.trigger(this._element,Ls))}))}static jQueryInterface(t){return this.each((function(){const e=Ss.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}H.on(document,Ms,Cs,(function(t){const e=X.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),p(this))return;H.one(e,Ts,(()=>{d(this)&&this.focus()}));const n=X.findOne(bs);n&&n!==e&&Ss.getInstance(n).hide(),Ss.getOrCreateInstance(e).toggle(this)})),H.on(window,ms,(()=>{for(const t of X.find(bs))Ss.getOrCreateInstance(t).show()})),H.on(window,Ps,(()=>{for(const t of X.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(t).position&&Ss.getOrCreateInstance(t).hide()})),J(Ss),w(Ss);const Os={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},zs=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Is=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Ns=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?!zs.has(n)||Boolean(Is.test(t.nodeValue)):e.filter((t=>t instanceof RegExp)).some((t=>t.test(n)))};function Bs(t,e,n){if(!t.length)return t;if(n&&"function"==typeof n)return n(t);const i=(new window.DOMParser).parseFromString(t,"text/html"),o=[].concat(...i.body.querySelectorAll("*"));for(const t of o){const n=t.nodeName.toLowerCase();if(!Object.keys(e).includes(n)){t.remove();continue}const i=[].concat(...t.attributes),o=[].concat(e["*"]||[],e[n]||[]);for(const e of i)Ns(e,o)||t.removeAttribute(e.nodeName)}return i.body.innerHTML}const Ds="TemplateFactory",Zs={allowList:Os,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},js={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Rs={entry:"(string|element|function|null)",selector:"(string|element)"};class Hs extends V{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Zs}static get DefaultType(){return js}static get NAME(){return Ds}getContent(){return Object.values(this._config.content).map((t=>this._resolvePossibleFunction(t))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[e,n]of Object.entries(this._config.content))this._setContent(t,n,e);const e=t.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&e.classList.add(...n.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,n]of Object.entries(t))super._typeCheckConfig({selector:e,entry:n},Rs)}_setContent(t,e,n){const i=X.findOne(n,t);i&&((e=this._resolvePossibleFunction(e))?h(e)?this._putElementInTemplate(u(e),i):this._config.html?i.innerHTML=this._maybeSanitize(e):i.textContent=e:i.remove())}_maybeSanitize(t){return this._config.sanitize?Bs(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return x(t,[this])}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML="",void e.append(t);e.textContent=t.textContent}}const Fs="tooltip",Ws=new Set(["sanitize","allowList","sanitizeFn"]),qs="fade",Us="show",Vs=".tooltip-inner",Ks=".modal",Gs="hide.bs.modal",Ys="hover",Xs="focus",Js="click",Qs="manual",tr="hide",er="hidden",nr="show",ir="shown",or="inserted",sr="click",rr="focusin",ar="focusout",lr="mouseenter",cr="mouseleave",hr={AUTO:"auto",TOP:"top",RIGHT:b()?"left":"right",BOTTOM:"bottom",LEFT:b()?"right":"left"},ur={allowList:Os,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},dr={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class pr extends G{constructor(t,e){if(void 0===Oi)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ur}static get DefaultType(){return dr}static get NAME(){return Fs}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),H.off(this._element.closest(Ks),Gs,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const t=H.trigger(this._element,this.constructor.eventName(nr)),e=(m(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!e)return;this._disposePopper();const n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));const{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(n),H.trigger(this._element,this.constructor.eventName(or))),this._popper=this._createPopper(n),n.classList.add(Us),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))H.on(t,"mouseover",f);const o=()=>{H.trigger(this._element,this.constructor.eventName(ir)),!1===this._isHovered&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown())return;if(H.trigger(this._element,this.constructor.eventName(tr)).defaultPrevented)return;if(this._getTipElement().classList.remove(Us),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))H.off(t,"mouseover",f);this._activeTrigger[Js]=!1,this._activeTrigger[Xs]=!1,this._activeTrigger[Ys]=!1,this._isHovered=null;const t=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),H.trigger(this._element,this.constructor.eventName(er)))};this._queueCallback(t,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(qs,Us),e.classList.add(`bs-${this.constructor.NAME}-auto`);const n=a(this.constructor.NAME).toString();return e.setAttribute("id",n),this._isAnimated()&&e.classList.add(qs),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Hs({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Vs]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(qs)}_isShown(){return this.tip&&this.tip.classList.contains(Us)}_createPopper(t){const e=x(this._config.placement,[this,t,this._element]),n=hr[e.toUpperCase()];return Si(this._element,t,this._getPopperConfig(n))}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return x(t,[this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:t=>{this._getTipElement().setAttribute("data-popper-placement",t.state.placement)}}]};return{...e,...x(this._config.popperConfig,[e])}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if("click"===e)H.on(this._element,this.constructor.eventName(sr),this._config.selector,(t=>{this._initializeOnDelegatedTarget(t).toggle()}));else if(e!==Qs){const t=e===Ys?this.constructor.eventName(lr):this.constructor.eventName(rr),n=e===Ys?this.constructor.eventName(cr):this.constructor.eventName(ar);H.on(this._element,t,this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusin"===t.type?Xs:Ys]=!0,e._enter()})),H.on(this._element,n,this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusout"===t.type?Xs:Ys]=e._element.contains(t.relatedTarget),e._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},H.on(this._element.closest(Ks),Gs,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=U.getDataAttributes(this._element);for(const t of Object.keys(e))Ws.has(t)&&delete e[t];return t={...e,..."object"==typeof t&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:u(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,n]of Object.entries(this._config))this.constructor.Default[e]!==n&&(t[e]=n);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each((function(){const e=pr.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}w(pr);const mr="popover",fr=".popover-header",_r=".popover-body",gr={...pr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},vr={...pr.DefaultType,content:"(null|string|element|function)"};class yr extends pr{static get Default(){return gr}static get DefaultType(){return vr}static get NAME(){return mr}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[fr]:this._getTitle(),[_r]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each((function(){const e=yr.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}w(yr);const br="scrollspy",wr=".bs.scrollspy",xr=`activate${wr}`,$r=`click${wr}`,Lr=`load${wr}.data-api`,Tr="dropdown-item",Pr="active",Mr='[data-bs-spy="scroll"]',kr="[href]",Cr=".nav, .list-group",Er=".nav-link",Ar=`${Er}, .nav-item > ${Er}, .list-group-item`,Sr=".dropdown",Or=".dropdown-toggle",zr={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Ir={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Nr extends G{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return zr}static get DefaultType(){return Ir}static get NAME(){return br}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=u(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map((t=>Number.parseFloat(t)))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(H.off(this._config.target,$r),H.on(this._config.target,$r,kr,(t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const n=this._rootElement||window,i=e.offsetTop-this._element.offsetTop;if(n.scrollTo)return void n.scrollTo({top:i,behavior:"smooth"});n.scrollTop=i}})))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((t=>this._observerCallback(t)),t)}_observerCallback(t){const e=t=>this._targetLinks.get(`#${t.target.id}`),n=t=>{this._previousScrollData.visibleEntryTop=t.target.offsetTop,this._process(e(t))},i=(this._rootElement||document.documentElement).scrollTop,o=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const s of t){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(s));continue}const t=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&t){if(n(s),!i)return}else o||t||n(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=X.find(kr,this._config.target);for(const e of t){if(!e.hash||p(e))continue;const t=X.findOne(decodeURI(e.hash),this._element);d(t)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,t))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Pr),this._activateParents(t),H.trigger(this._element,xr,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(Tr))X.findOne(Or,t.closest(Sr)).classList.add(Pr);else for(const e of X.parents(t,Cr))for(const t of X.prev(e,Ar))t.classList.add(Pr)}_clearActiveClass(t){t.classList.remove(Pr);const e=X.find(`${kr}.${Pr}`,t);for(const t of e)t.classList.remove(Pr)}static jQueryInterface(t){return this.each((function(){const e=Nr.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}))}}H.on(window,Lr,(()=>{for(const t of X.find(Mr))Nr.getOrCreateInstance(t)})),w(Nr);const Br="tab",Dr=".bs.tab",Zr=`hide${Dr}`,jr=`hidden${Dr}`,Rr=`show${Dr}`,Hr=`shown${Dr}`,Fr=`click${Dr}`,Wr=`keydown${Dr}`,qr=`load${Dr}`,Ur="ArrowLeft",Vr="ArrowRight",Kr="ArrowUp",Gr="ArrowDown",Yr="Home",Xr="End",Jr="active",Qr="fade",ta="show",ea="dropdown",na=".dropdown-toggle",ia=".dropdown-menu",oa=`:not(${na})`,sa='.list-group, .nav, [role="tablist"]',ra=".nav-item, .list-group-item",aa='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',la=`.nav-link${oa}, .list-group-item${oa}, [role="tab"]${oa}, ${aa}`,ca=`.${Jr}[data-bs-toggle="tab"], .${Jr}[data-bs-toggle="pill"], .${Jr}[data-bs-toggle="list"]`;class ha extends G{constructor(t){super(t),this._parent=this._element.closest(sa),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),H.on(this._element,Wr,(t=>this._keydown(t))))}static get NAME(){return Br}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),n=e?H.trigger(e,Zr,{relatedTarget:t}):null;H.trigger(t,Rr,{relatedTarget:e}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){if(!t)return;t.classList.add(Jr),this._activate(X.getElementFromSelector(t));const n=()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),H.trigger(t,Hr,{relatedTarget:e})):t.classList.add(ta)};this._queueCallback(n,t,t.classList.contains(Qr))}_deactivate(t,e){if(!t)return;t.classList.remove(Jr),t.blur(),this._deactivate(X.getElementFromSelector(t));const n=()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),H.trigger(t,jr,{relatedTarget:e})):t.classList.remove(ta)};this._queueCallback(n,t,t.classList.contains(Qr))}_keydown(t){if(![Ur,Vr,Kr,Gr,Yr,Xr].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter((t=>!p(t)));let n;if([Yr,Xr].includes(t.key))n=e[t.key===Yr?0:e.length-1];else{const i=[Vr,Gr].includes(t.key);n=L(e,t.target,i,!0)}n&&(n.focus({preventScroll:!0}),ha.getOrCreateInstance(n).show())}_getChildren(){return X.find(la,this._parent)}_getActiveElem(){return this._getChildren().find((t=>this._elemIsActive(t)))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const t of e)this._setInitialAttributesOnChild(t)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),n=this._getOuterElement(t);t.setAttribute("aria-selected",e),n!==t&&this._setAttributeIfNotExists(n,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=X.getElementFromSelector(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const n=this._getOuterElement(t);if(!n.classList.contains(ea))return;const i=(t,i)=>{const o=X.findOne(t,n);o&&o.classList.toggle(i,e)};i(na,Jr),i(ia,ta),n.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,n){t.hasAttribute(e)||t.setAttribute(e,n)}_elemIsActive(t){return t.classList.contains(Jr)}_getInnerElement(t){return t.matches(la)?t:X.findOne(la,t)}_getOuterElement(t){return t.closest(ra)||t}static jQueryInterface(t){return this.each((function(){const e=ha.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}))}}H.on(document,Fr,aa,(function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),p(this)||ha.getOrCreateInstance(this).show()})),H.on(window,qr,(()=>{for(const t of X.find(ca))ha.getOrCreateInstance(t)})),w(ha);const ua="toast",da=".bs.toast",pa=`mouseover${da}`,ma=`mouseout${da}`,fa=`focusin${da}`,_a=`focusout${da}`,ga=`hide${da}`,va=`hidden${da}`,ya=`show${da}`,ba=`shown${da}`,wa="fade",xa="hide",$a="show",La="showing",Ta={animation:"boolean",autohide:"boolean",delay:"number"},Pa={animation:!0,autohide:!0,delay:5e3};class Ma extends G{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Pa}static get DefaultType(){return Ta}static get NAME(){return ua}show(){if(H.trigger(this._element,ya).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(wa);const t=()=>{this._element.classList.remove(La),H.trigger(this._element,ba),this._maybeScheduleHide()};this._element.classList.remove(xa),_(this._element),this._element.classList.add($a,La),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown())return;if(H.trigger(this._element,ga).defaultPrevented)return;const t=()=>{this._element.classList.add(xa),this._element.classList.remove(La,$a),H.trigger(this._element,va)};this._element.classList.add(La),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove($a),super.dispose()}isShown(){return this._element.classList.contains($a)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const n=t.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){H.on(this._element,pa,(t=>this._onInteraction(t,!0))),H.on(this._element,ma,(t=>this._onInteraction(t,!1))),H.on(this._element,fa,(t=>this._onInteraction(t,!0))),H.on(this._element,_a,(t=>this._onInteraction(t,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const e=Ma.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}J(Ma),w(Ma)})();const ht=[];function ut(e,n=t){let i;const o=new Set;function r(t){if(s(e,t)&&(e=t,i)){const t=!ht.length;for(const t of o)t[1](),ht.push(t,e);if(t){for(let t=0;t<ht.length;t+=2)ht[t][0](ht[t+1]);ht.length=0}}}function a(t){r(t(e))}return{set:r,update:a,subscribe:function(s,l=t){const c=[s,l];return o.add(c),1===o.size&&(i=n(r,a)||t),s(e),()=>{o.delete(c),0===o.size&&i&&(i(),i=null)}}}}
/*!
	 * escape-html
	 * Copyright(c) 2012-2013 TJ Holowaychuk
	 * Copyright(c) 2015 Andreas Lubbe
	 * Copyright(c) 2015 Tiancheng "Timothy" Gu
	 * MIT Licensed
	 */var dt=/["'&<>]/;var pt=ct((function(t){var e,n=""+t,i=dt.exec(n);if(!i)return n;var o="",s=0,r=0;for(s=i.index;s<n.length;s++){switch(n.charCodeAt(s)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}r!==s&&(o+=n.substring(r,s)),r=s+1,o+=e}return r!==s?o+n.substring(r,s):o}));function mt(t,e){return"N"===t?"node":"W"===t?"way":"R"===t?"relation":e&&("T"===t||"I"===t)?"way":""}function ft(t){if(!t.osm_type)return"";var e=mt(t.osm_type,!1);return e?'<a href="https://www.openstreetmap.org/'+e+"/"+t.osm_id+'">'+e+" "+t.osm_id+"</a>":""}function _t(t){if(t.label)return t.label;function e(t){return t&&t[0].toUpperCase()+t.slice(1)}return t.type&&"yes"===t.type&&t.category?e(t.category.replace(/_/g," ")):t.type?e(t.type.replace(/_/g," ")):""}function gt(t){if(!t.calculated_wikipedia)return"";var e=t.calculated_wikipedia.split(":",2),n=pt(t.calculated_wikipedia);return'<a href="https://'+pt(e[0])+".wikipedia.org/wiki/"+pt(e[1])+'" target="_blank">'+n+"</a>"}function vt(t){return t.isarea?"Polygon":"Point"}function yt(t){return"boundary"===t.category&&"administrative"===t.type}function bt(t){return t<4?"other":t<6?"country":t<8?"region":t<10?"state":t<12?"state district":t<14?"county":t<16?"municipality":t<18?"city / town / village":t<20?"city / village district":t<22?"suburb / hamlet":t<24?"neighbourhood":t<26?"city block / square":26===t?"major street":27===t?"minory street / path":t<=30?"house / building":"other"}function wt(t){var e=t.class+":"+t.type;return t.type&&"administrative"===t.type&&t.place_type&&(e=e+" ("+t.place_type+")"),pt(e)}function xt(t){return t&&t<15?t:""}function $t(t,e){return e?t<1?"0":'<abbr class="distance" title="'+t+' meters">~'+(t>=1e3?Math.round(t/1e3,1)+" km":Math.round(t,0)+" m")+"</abbr>":0===t?"0":'<abbr class="distance" title="spheric distance '+t+'">~'+Math.round(1e3*t,4)/1e3+"</abbr>"}function Lt(t){return(" "===t[0]?"*":"")+pt(t)}const Tt=ut(),Pt=ut(),Mt=ut(),kt=ut(),Ct=ut(),Et=Nominatim_Config.Reverse_Only?"reverse":"search",At=[Et,"reverse","details","deletable","polygons","status","about"];function St(t,e){if(void 0===t)t=window.location.pathname.replace(".html","").replace(/^.*\//,""),At.includes(t)||(t=Et),e=new URLSearchParams(window.location.search);else{At.includes(t)||(t=Et),void 0===e&&(e=new URLSearchParams);let n=e.toString();n&&(n="?"+n);let i=t+".html"+n;window.location.protocol.match(/^http/)?window.history.pushState([],"",i):window.location.href=i}if("search"===t&&e.has("q")){const n=function(t){if(!t)return;const e=t.match(/\/(relation|way|node)\/(-?\d+)/)||t.match(/^([nwr])(-?\d+)$/i);return e?[e[1][0].toUpperCase(),Number(e[2])]:void 0}(e.get("q"));n instanceof Array&&(t="details",(e=new URLSearchParams).set("osmtype",n[0]),e.set("osmid",n[1]))}Ct.set({tab:t,params:e}),Mt.set(null),kt.set(null)}function Ot(e){let n;return{c(){n=w("footer"),n.innerHTML='<p class="disclaimer svelte-1f2bd8l">Addresses and postcodes are approximate.\n    Blue circle is search result,\n    smaller red circle is search position (reverse geocoding).</p> <p class="copyright svelte-1f2bd8l"> <a href="https://osm.org/copyright">OpenStreetMap</a> contributors</p>',C(n,"class","svelte-1f2bd8l")},m(t,e){v(t,n,e)},p:t,i:t,o:t,d(t){t&&y(n)}}}class zt extends lt{constructor(t){super(),at(this,t,null,Ot,s,{})}}function It(t){var e=document.getElementById("loading");e&&(e.style.display="start"===t?"block":null)}async function Nt(t,e,n){var i=function(t,e){1===e.dedupe&&delete e.dedupe;return function(t,e){for(var n=Object.keys(e),i=0;i<n.length;i+=1)t[n[i]]=e[n[i]]}(e,Nominatim_Config.Nominatim_API_Endpoint_Params),Zt(t)+"?"+Object.keys(function(t){for(var e=Object.keys(t),n=0;n<e.length;n+=1){var i=t[e[n]];void 0!==i&&""!==i&&null!==i||delete t[e[n]]}return t}(e)).map((t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t]))).join("&")}(t,e);const o=new URLSearchParams(window.location.search).get("mock_api_error");It("start"),"status"!==t&&Mt.set(null);try{await fetch(i,{headers:Nominatim_Config.Nominatim_API_Endpoint_Headers||{}}).then((async t=>{if((t.status>=200&&t.status<300||404===t.status)&&"fetch"!==o){var e;try{e="parse"===o?JSON.parse("{"):await t.json()}catch(t){return void kt.set(`Error parsing JSON data from ${i} (${t})`)}return e}kt.set(`Error fetching data from ${i} (${t.statusText})`)})).then((t=>{t&&(t.error&&kt.set(t.error.message),n(t)),It("finish")}))}catch(t){kt.set(`Error fetching data from ${i} (${t})`),It("finish")}"status"!==t&&Mt.set(i)}var Bt={};async function Dt(t,e){if(window.location.protocol.match(/^http/))if(Bt[t])e.innerHTML=Bt[t];else try{await fetch(t).then((t=>t.text())).then((n=>{n=n.replace("Nominatim_API_Endpoint",Zt()),e.innerHTML=n,Bt[t]=n}))}catch(n){e.innerHTML=`Error fetching content from ${t} (${n})`}else e.innerHTML=`Cannot display data from ${t} here. Browser security prevents loading content from file:// URLs.`}function Zt(t){var e=Nominatim_Config.Nominatim_API_Endpoint;return"function"==typeof e?e(t):t?e+t+".php":e}function jt(t){document.title=[t,Nominatim_Config.Page_Title].filter((t=>t&&t.length>1)).join(" | ")}function Rt(t){let e,n,i,o;const s=t[6].default,r=d(s,t,t[5],null);return{c(){e=w("a"),r&&r.c(),C(e,"href",t[1]),C(e,"class",t[0])},m(s,a){v(s,e,a),r&&r.m(e,null),n=!0,i||(o=P(e,"click",k(M(t[2]))),i=!0)},p(t,[i]){r&&r.p&&(!n||32&i)&&f(r,s,t,t[5],n?m(s,t[5],i,null):_(t[5]),null),(!n||2&i)&&C(e,"href",t[1]),(!n||1&i)&&C(e,"class",t[0])},i(t){n||(Q(r,t),n=!0)},o(t){tt(r,t),n=!1},d(t){t&&y(e),r&&r.d(t),i=!1,o()}}}function Ht(t,e,n){let{$$slots:i={},$$scope:o}=e,{page:s}=e,{params_hash:r={}}=e,{extra_classes:a=""}=e,l=s+".html";return t.$$set=t=>{"page"in t&&n(3,s=t.page),"params_hash"in t&&n(4,r=t.params_hash),"extra_classes"in t&&n(0,a=t.extra_classes),"$$scope"in t&&n(5,o=t.$$scope)},t.$$.update=()=>{if(24&t.$$.dirty){let t=new URLSearchParams(r).toString();n(1,l=s+".html"+(t?"?":"")+t)}},[a,l,function(){St(s,new URLSearchParams(r))},s,r,o,i]}class Ft extends lt{constructor(t){super(),at(this,t,Ht,Rt,s,{page:3,params_hash:4,extra_classes:0})}}function Wt(t){let e,n,i,o;const s=t[7].default,r=d(s,t,t[6],null);return{c(){e=w("a"),r&&r.c(),C(e,"href",t[2]),C(e,"class",t[0])},m(s,a){v(s,e,a),r&&r.m(e,null),n=!0,i||(o=P(e,"click",k(M(t[8]))),i=!0)},p(t,[i]){r&&r.p&&(!n||64&i)&&f(r,s,t,t[6],n?m(s,t[6],i,null):_(t[6]),null),(!n||4&i)&&C(e,"href",t[2]),(!n||1&i)&&C(e,"class",t[0])},i(t){n||(Q(r,t),n=!0)},o(t){tt(r,t),n=!1},d(t){t&&y(e),r&&r.d(t),i=!1,o()}}}function qt(t,e,n){let{$$slots:i={},$$scope:o}=e,{lat:s=null}=e,{lon:r=null}=e,{zoom:a=null}=e,{extra_classes:l=""}=e,c=new URLSearchParams,h="reverse.html";return t.$$set=t=>{"lat"in t&&n(3,s=t.lat),"lon"in t&&n(4,r=t.lon),"zoom"in t&&n(5,a=t.zoom),"extra_classes"in t&&n(0,l=t.extra_classes),"$$scope"in t&&n(6,o=t.$$scope)},t.$$.update=()=>{if(56&t.$$.dirty){let t=new URLSearchParams;s&&r&&(t.set("lat",s),t.set("lon",r),a&&t.set("zoom",a)),n(1,c=t)}if(2&t.$$.dirty){let t=c.toString();n(2,h="reverse.html"+(t?"?":"")+t)}},[l,c,h,s,r,a,o,i,()=>St("reverse",c)]}class Ut extends lt{constructor(t){super(),at(this,t,qt,Wt,s,{lat:3,lon:4,zoom:5,extra_classes:0})}}var Vt=["second","minute","hour","day","week","month","year"];var Kt=["","","","","","",""];var Gt={},Yt=function(t,e){Gt[t]=e},Xt=[60,60,24,7,365/7/12,12];function Jt(t){return t instanceof Date?t:!isNaN(t)||/^\d+$/.test(t)?new Date(parseInt(t)):(t=(t||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(t))}var Qt=function(t,e,n){var i=function(t,e){return(+(e?Jt(e):new Date)-+Jt(t))/1e3}(t,n&&n.relativeDate);return function(t,e){for(var n=t<0?1:0,i=t=Math.abs(t),o=0;t>=Xt[o]&&o<Xt.length;o++)t/=Xt[o];return(t=Math.floor(t))>(0==(o*=2)?9:1)&&(o+=1),e(t,o,i)[n].replace("%s",t.toString())}(i,function(t){return Gt[t]||Gt.en_US}(e))};function te(t){let e,n,i,o,s,r,a,l,c,h,u;return{c(){e=w("div"),n=x("Data from "),i=w("a"),o=x("API request"),s=$(),r=w("span"),a=x("("),l=w("a"),c=x("debug output"),u=x(")"),C(i,"href",t[1]),C(l,"href",h=t[1]+"&debug=1"),C(r,"id","api-request-debug"),C(e,"id","api-request")},m(t,h){v(t,e,h),g(e,n),g(e,i),g(i,o),g(e,s),g(e,r),g(r,a),g(r,l),g(l,c),g(r,u)},p(t,e){2&e&&C(i,"href",t[1]),2&e&&h!==(h=t[1]+"&debug=1")&&C(l,"href",h)},d(t){t&&y(e)}}}function ee(t){let e,n,i,o,s=Qt(new Date(t[0]))+"";return{c(){e=x("Data last updated:\n        "),n=w("abbr"),i=x(s),C(n,"id","data-date"),C(n,"title",o=t[0]+" (UTC timezone)")},m(t,o){v(t,e,o),v(t,n,o),g(n,i)},p(t,e){1&e&&s!==(s=Qt(new Date(t[0]))+"")&&E(i,s),1&e&&o!==(o=t[0]+" (UTC timezone)")&&C(n,"title",o)},d(t){t&&(y(e),y(n))}}}function ne(t){let e;return{c(){e=x("Details")},m(t,n){v(t,e,n)},d(t){t&&y(e)}}}function ie(t){let e,n,i,o,s,r,a,l,c,h,u,d=t[1]&&te(t),p=t[0]&&ee(t);return c=new Ft({props:{page:"status",$$slots:{default:[ne]},$$scope:{ctx:t}}}),{c(){e=w("div"),n=w("div"),n.innerHTML='<div class="spinner-border spinner-border-sm text-primary me-1" role="status"></div>\n    Loading data from API ...',i=$(),o=w("div"),s=w("div"),d&&d.c(),r=$(),a=w("div"),p&&p.c(),l=x("\n      ("),it(c.$$.fragment),h=x(")"),C(n,"id","loading"),C(n,"class","py-2 px-4 svelte-1i1228w"),C(s,"class","col-sm-6"),C(a,"class","col-sm-6 text-end"),C(o,"class","row"),C(e,"id","last-updated"),C(e,"class","container-fluid py-2 px-4 mb-3 svelte-1i1228w")},m(t,m){v(t,e,m),g(e,n),g(e,i),g(e,o),g(o,s),d&&d.m(s,null),g(o,r),g(o,a),p&&p.m(a,null),g(a,l),ot(c,a,null),g(a,h),u=!0},p(t,[e]){t[1]?d?d.p(t,e):(d=te(t),d.c(),d.m(s,null)):d&&(d.d(1),d=null),t[0]?p?p.p(t,e):(p=ee(t),p.c(),p.m(a,l)):p&&(p.d(1),p=null);const n={};8&e&&(n.$$scope={dirty:e,ctx:t}),c.$set(n)},i(t){u||(Q(c.$$.fragment,t),u=!0)},o(t){tt(c.$$.fragment,t),u=!1},d(t){t&&y(e),d&&d.d(),p&&p.d(),st(c)}}}function oe(t,e,n){let i,o,s=!1;return Mt.subscribe((t=>{n(1,o=t),o&&(n(1,o=new URL(o,window.location.origin)),o.searchParams.delete("polygon_geojson"),n(1,o=o.toString())),s||i||(s=!0,Nt("status",{format:"json"},(function(t){n(0,i=t.data_updated),s=!1})))})),[i,o]}Yt("en_US",(function(t,e){if(0===e)return["just now","right now"];var n=Vt[Math.floor(e/2)];return t>1&&(n+="s"),[t+" "+n+" ago","in "+t+" "+n]})),Yt("zh_CN",(function(t,e){if(0===e)return["",""];var n=Kt[~~(e/2)];return[t+" "+n+"",t+" "+n+""]}));class se extends lt{constructor(t){super(),at(this,t,oe,ie,s,{})}}function re(t){let e,n,i,o,s,r;return{c(){e=w("div"),n=x(t[0]),i=$(),o=w("button"),C(o,"type","button"),C(o,"class","btn-close float-end"),C(o,"aria-label","dismiss"),C(e,"id","error"),C(e,"class","container-fluid alert-danger py-3 px-4")},m(a,l){v(a,e,l),g(e,n),g(e,i),g(e,o),s||(r=P(o,"click",t[1]),s=!0)},p(t,e){1&e&&E(n,t[0])},d(t){t&&y(e),s=!1,r()}}}function ae(e){let n,i=e[0]&&re(e);return{c(){i&&i.c(),n=T()},m(t,e){i&&i.m(t,e),v(t,n,e)},p(t,[e]){t[0]?i?i.p(t,e):(i=re(t),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i:t,o:t,d(t){t&&y(n),i&&i.d(t)}}}function le(t,e,n){let i;return kt.subscribe((t=>{n(0,i=t)})),[i,function(){kt.set(null)}]}let ce=class extends lt{constructor(t){super(),at(this,t,le,ae,s,{})}};function he(t){let e,n,i,o,s;return{c(){e=w("img"),i=$(),o=w("h1"),s=x(t[3]),C(e,"alt","logo"),C(e,"id","theme-logo"),l(e.src,n="theme/logo.png")||C(e,"src","theme/logo.png"),C(e,"class","svelte-1q88nx"),C(o,"class","svelte-1q88nx")},m(t,n){v(t,e,n),v(t,i,n),v(t,o,n),g(o,s)},p(t,e){8&e&&E(s,t[3])},d(t){t&&(y(e),y(i),y(o))}}}function ue(t){let e,n,i;return n=new Ft({props:{page:"search",extra_classes:"nav-link "+("search"===t[4]?"active":""),$$slots:{default:[de]},$$scope:{ctx:t}}}),{c(){e=w("li"),it(n.$$.fragment),C(e,"class","nav-item svelte-1q88nx")},m(t,o){v(t,e,o),ot(n,e,null),i=!0},p(t,e){const i={};16&e&&(i.extra_classes="nav-link "+("search"===t[4]?"active":"")),128&e&&(i.$$scope={dirty:e,ctx:t}),n.$set(i)},i(t){i||(Q(n.$$.fragment,t),i=!0)},o(t){tt(n.$$.fragment,t),i=!1},d(t){t&&y(e),st(n)}}}function de(t){let e;return{c(){e=x("Search")},m(t,n){v(t,e,n)},d(t){t&&y(e)}}}function pe(t){let e;return{c(){e=x("Reverse")},m(t,n){v(t,e,n)},d(t){t&&y(e)}}}function me(t){let e;return{c(){e=x("Search By ID")},m(t,n){v(t,e,n)},d(t){t&&y(e)}}}function fe(t){let e;return{c(){e=x("About & Help")},m(t,n){v(t,e,n)},d(t){t&&y(e)}}}function _e(t){let e,n,i,o,s,r,a,l,c,h,u,p,b,L,T,P,M,k,A,S,O,z,I,N,B,D,Z,j,R,H,F;s=new Ft({props:{page:t[2]?"reverse":"search",$$slots:{default:[he]},$$scope:{ctx:t}}});let W=!t[2]&&ue(t);b=new Ut({props:{lat:t[0],lon:t[1],extra_classes:"nav-link "+("reverse"===t[4]?"active":""),$$slots:{default:[pe]},$$scope:{ctx:t}}}),P=new Ft({props:{page:"details",extra_classes:"nav-link "+("details"===t[4]?"active":""),$$slots:{default:[me]},$$scope:{ctx:t}}}),S=new Ft({props:{page:"about",extra_classes:"nav-link "+("about"===t[4]?"active":""),$$slots:{default:[fe]},$$scope:{ctx:t}}});const q=t[6].default,U=d(q,t,t[7],null);return j=new ce({}),H=new se({}),{c(){e=w("header"),n=w("nav"),i=w("div"),o=w("div"),it(s.$$.fragment),r=$(),a=w("button"),a.innerHTML='<span class="navbar-toggler-icon"></span>',l=$(),c=w("div"),h=w("ul"),W&&W.c(),u=$(),p=w("li"),it(b.$$.fragment),L=$(),T=w("li"),it(P.$$.fragment),M=$(),k=w("ul"),A=w("li"),it(S.$$.fragment),O=$(),z=w("section"),I=w("h2"),N=x(t[4]),B=$(),D=w("section"),U&&U.c(),Z=$(),it(j.$$.fragment),R=$(),it(H.$$.fragment),C(o,"class","navbar-brand svelte-1q88nx"),C(a,"class","navbar-toggler"),C(a,"type","button"),C(a,"data-bs-toggle","collapse"),C(a,"data-bs-target","#navbarSupportedContent"),C(a,"aria-controls","navbarSupportedContent"),C(a,"aria-expanded","false"),C(a,"aria-label","Toggle navigation"),C(p,"class","nav-item svelte-1q88nx"),C(T,"class","nav-item svelte-1q88nx"),C(h,"class","navbar-nav me-auto"),C(c,"class","collapse navbar-collapse"),C(c,"id","navbarSupportedContent"),C(A,"class","nav-item svelte-1q88nx"),C(k,"class","navbar-nav"),C(i,"class","container-fluid"),C(n,"class","navbar navbar-expand-sm navbar-light"),C(e,"class","container-fluid"),C(z,"class","page-title-section svelte-1q88nx"),C(D,"class","search-section svelte-1q88nx")},m(t,d){v(t,e,d),g(e,n),g(n,i),g(i,o),ot(s,o,null),g(i,r),g(i,a),g(i,l),g(i,c),g(c,h),W&&W.m(h,null),g(h,u),g(h,p),ot(b,p,null),g(h,L),g(h,T),ot(P,T,null),g(i,M),g(i,k),g(k,A),ot(S,A,null),v(t,O,d),v(t,z,d),g(z,I),g(I,N),v(t,B,d),v(t,D,d),U&&U.m(D,null),v(t,Z,d),ot(j,t,d),v(t,R,d),ot(H,t,d),F=!0},p(t,[e]){const n={};4&e&&(n.page=t[2]?"reverse":"search"),136&e&&(n.$$scope={dirty:e,ctx:t}),s.$set(n),t[2]?W&&(X(),tt(W,1,1,(()=>{W=null})),J()):W?(W.p(t,e),4&e&&Q(W,1)):(W=ue(t),W.c(),Q(W,1),W.m(h,u));const i={};1&e&&(i.lat=t[0]),2&e&&(i.lon=t[1]),16&e&&(i.extra_classes="nav-link "+("reverse"===t[4]?"active":"")),128&e&&(i.$$scope={dirty:e,ctx:t}),b.$set(i);const o={};16&e&&(o.extra_classes="nav-link "+("details"===t[4]?"active":"")),128&e&&(o.$$scope={dirty:e,ctx:t}),P.$set(o);const r={};16&e&&(r.extra_classes="nav-link "+("about"===t[4]?"active":"")),128&e&&(r.$$scope={dirty:e,ctx:t}),S.$set(r),(!F||16&e)&&E(N,t[4]),U&&U.p&&(!F||128&e)&&f(U,q,t,t[7],F?m(q,t[7],e,null):_(t[7]),null)},i(t){F||(Q(s.$$.fragment,t),Q(W),Q(b.$$.fragment,t),Q(P.$$.fragment,t),Q(S.$$.fragment,t),Q(U,t),Q(j.$$.fragment,t),Q(H.$$.fragment,t),F=!0)},o(t){tt(s.$$.fragment,t),tt(W),tt(b.$$.fragment,t),tt(P.$$.fragment,t),tt(S.$$.fragment,t),tt(U,t),tt(j.$$.fragment,t),tt(H.$$.fragment,t),F=!1},d(t){t&&(y(e),y(O),y(z),y(B),y(D),y(Z),y(R)),st(s),W&&W.d(),st(b),st(P),st(S),U&&U.d(t),st(j,t),st(H,t)}}}function ge(t,e,n){let i,o,s,r;u(t,Ct,(t=>n(5,r=t)));let a,l,{$$slots:c={},$$scope:h}=e;return Tt.subscribe((t=>{t&&t.on("move",(function(){n(0,a=t.getCenter().lat.toFixed(5)),n(1,l=t.getCenter().lng.toFixed(5))}))})),t.$$set=t=>{"$$scope"in t&&n(7,h=t.$$scope)},t.$$.update=()=>{32&t.$$.dirty&&n(4,i=r.tab)},n(3,o=Nominatim_Config.Page_Title),n(2,s=Nominatim_Config.Reverse_Only),[a,l,s,o,i,r,c,h]}class ve extends lt{constructor(t){super(),at(this,t,ge,_e,s,{})}}function ye(t){let e,n,i,o,s;const r=t[3].default,a=d(r,t,t[2],null);return{c(){e=w("form"),n=w("div"),a&&a.c(),C(n,"class","row g-2"),C(e,"class","form-inline"),C(e,"role","search"),C(e,"accept-charset","UTF-8"),C(e,"action","")},m(r,l){v(r,e,l),g(e,n),a&&a.m(n,null),i=!0,o||(s=P(e,"submit",M(t[0])),o=!0)},p(t,[e]){a&&a.p&&(!i||4&e)&&f(a,r,t,t[2],i?m(r,t[2],e,null):_(t[2]),null)},i(t){i||(Q(a,t),i=!0)},o(t){tt(a,t),i=!1},d(t){t&&y(e),a&&a.d(t),o=!1,s()}}}function be(t,e,n){let{$$slots:i={},$$scope:o}=e,{page:s}=e;return t.$$set=t=>{"page"in t&&n(1,s=t.page),"$$scope"in t&&n(2,o=t.$$scope)},[function(t){let e=t.target,n=!0;Array.prototype.slice.call(e.elements).forEach((function(t){(function(t){return!("hidden"===t.type&&t.value.length&&t.pattern&&!t.value.match(t.pattern))&&t.checkValidity()})(t)||(alert("Invalid input in "+t.name),n=!1)})),n&&St(s,function(t){var e=new URLSearchParams;return Array.prototype.slice.call(t.elements).forEach((function(t){!t.name||t.disabled||["submit","button"].indexOf(t.type)>-1||["checkbox","radio"].indexOf(t.type)>-1&&!t.checked||void 0!==t.value&&""!==t.value&&("dedupe"!==t.name||1!==t.value&&"1"!==t.value)&&e.set(t.name,t.value)})),e}(e))},s,o,i]}class we extends lt{constructor(t){super(),at(this,t,be,ye,s,{page:1})}}function xe(t){let e,n,i,o,s,r,a,l,c,h,u,d,p,m,f,_,b,x,L,T,P,M,k,E,A,S,O;return{c(){e=w("div"),n=w("input"),o=$(),s=w("div"),r=w("button"),r.textContent="Search",a=$(),l=w("input"),h=$(),u=w("input"),p=$(),m=w("input"),_=$(),b=w("input"),L=$(),T=w("input"),M=$(),k=w("input"),A=$(),S=w("input"),C(n,"id","q"),C(n,"name","q"),C(n,"type","text"),C(n,"class","form-control form-control-sm svelte-1u2ltgo"),C(n,"placeholder","Search"),n.value=i=t[1].q||"",C(e,"class","col-auto"),C(r,"type","submit"),C(r,"class","btn btn-primary btn-sm mx-1"),C(l,"type","hidden"),C(l,"name","viewbox"),l.value=c=t[2]||"",C(u,"type","hidden"),C(u,"name","dedupe"),u.value=d=0===t[1].dedupe?0:1,C(m,"type","hidden"),C(m,"name","bounded"),m.value=f=t[1].bounded?1:"",C(b,"type","hidden"),C(b,"name","accept-language"),b.value=x=t[1]["accept-language"]||"",C(T,"type","hidden"),C(T,"name","countrycodes"),T.value=P=t[1].countrycodes||"",C(T,"pattern","^[a-zA-Z]{2}(,[a-zA-Z]{2})*$"),C(k,"type","hidden"),C(k,"name","limit"),k.value=E=t[1].limit||"",C(S,"type","hidden"),C(S,"name","polygon_threshold"),S.value=O=t[1].polygon_threshold||"",C(s,"class","col-auto")},m(t,i){v(t,e,i),g(e,n),v(t,o,i),v(t,s,i),g(s,r),g(s,a),g(s,l),g(s,h),g(s,u),g(s,p),g(s,m),g(s,_),g(s,b),g(s,L),g(s,T),g(s,M),g(s,k),g(s,A),g(s,S)},p(t,e){2&e&&i!==(i=t[1].q||"")&&n.value!==i&&(n.value=i),4&e&&c!==(c=t[2]||"")&&(l.value=c),2&e&&d!==(d=0===t[1].dedupe?0:1)&&(u.value=d),2&e&&f!==(f=t[1].bounded?1:"")&&(m.value=f),2&e&&x!==(x=t[1]["accept-language"]||"")&&(b.value=x),2&e&&P!==(P=t[1].countrycodes||"")&&(T.value=P),2&e&&E!==(E=t[1].limit||"")&&(k.value=E),2&e&&O!==(O=t[1].polygon_threshold||"")&&(S.value=O)},d(t){t&&(y(e),y(o),y(s))}}}function $e(t){let e,n,i,o,s,r,a,l,c,h,u,d,p,m,f,_,b,x,L,T,P,M,k,E,A,S,O,z,I,N,B,D,Z,j,R,H,F,W,q,U,V,K,G,Y,X,J,Q;return{c(){e=w("div"),n=w("input"),o=$(),s=w("div"),r=w("input"),l=$(),c=w("div"),h=w("input"),d=$(),p=w("div"),m=w("input"),_=$(),b=w("div"),x=w("input"),T=$(),P=w("div"),M=w("input"),E=$(),A=w("div"),S=w("button"),S.textContent="Search",O=$(),z=w("input"),N=$(),B=w("input"),Z=$(),j=w("input"),H=$(),F=w("input"),q=$(),U=w("input"),K=$(),G=w("input"),X=$(),J=w("input"),C(n,"name","street"),C(n,"type","text"),C(n,"class","form-control form-control-sm me-1"),C(n,"placeholder","House number/Street"),n.value=i=t[1].street||"",C(e,"class","col-auto"),C(r,"name","city"),C(r,"type","text"),C(r,"class","form-control form-control-sm me-1"),C(r,"placeholder","City"),r.value=a=t[1].city||"",C(s,"class","col-auto"),C(h,"id","county"),C(h,"name","county"),C(h,"type","text"),C(h,"class","form-control form-control-sm me-1"),C(h,"placeholder","County"),h.value=u=t[1].county||"",C(c,"class","col-auto"),C(m,"name","state"),C(m,"type","text"),C(m,"class","form-control form-control-sm me-1"),C(m,"placeholder","State"),m.value=f=t[1].state||"",C(p,"class","col-auto"),C(x,"name","country"),C(x,"type","text"),C(x,"class","form-control form-control-sm me-1"),C(x,"placeholder","Country"),x.value=L=t[1].country||"",C(b,"class","col-auto"),C(M,"name","postalcode"),C(M,"type","text"),C(M,"class","form-control form-control-sm me-1"),C(M,"placeholder","Postal Code"),M.value=k=t[1].postalcode||"",C(P,"class","col-auto"),C(S,"type","submit"),C(S,"class","btn btn-primary btn-sm"),C(z,"type","hidden"),C(z,"name","viewbox"),z.value=I=t[2]||"",C(B,"type","hidden"),C(B,"name","dedupe"),B.value=D=0===t[1].dedupe?0:1,C(j,"type","hidden"),C(j,"name","bounded"),j.value=R=t[1].bounded?1:"",C(F,"type","hidden"),C(F,"name","accept-language"),F.value=W=t[1]["accept-language"]||"",C(U,"type","hidden"),C(U,"name","countrycodes"),U.value=V=t[1].countrycodes||"",C(U,"pattern","^[a-zA-Z]{2}(,[a-zA-Z]{2})*$"),C(G,"type","hidden"),C(G,"name","limit"),G.value=Y=t[1].limit||"",C(J,"type","hidden"),C(J,"name","polygon_threshold"),J.value=Q=t[1].polygon_threshold||"",C(A,"class","col-auto")},m(t,i){v(t,e,i),g(e,n),v(t,o,i),v(t,s,i),g(s,r),v(t,l,i),v(t,c,i),g(c,h),v(t,d,i),v(t,p,i),g(p,m),v(t,_,i),v(t,b,i),g(b,x),v(t,T,i),v(t,P,i),g(P,M),v(t,E,i),v(t,A,i),g(A,S),g(A,O),g(A,z),g(A,N),g(A,B),g(A,Z),g(A,j),g(A,H),g(A,F),g(A,q),g(A,U),g(A,K),g(A,G),g(A,X),g(A,J)},p(t,e){2&e&&i!==(i=t[1].street||"")&&n.value!==i&&(n.value=i),2&e&&a!==(a=t[1].city||"")&&r.value!==a&&(r.value=a),2&e&&u!==(u=t[1].county||"")&&h.value!==u&&(h.value=u),2&e&&f!==(f=t[1].state||"")&&m.value!==f&&(m.value=f),2&e&&L!==(L=t[1].country||"")&&x.value!==L&&(x.value=L),2&e&&k!==(k=t[1].postalcode||"")&&M.value!==k&&(M.value=k),4&e&&I!==(I=t[2]||"")&&(z.value=I),2&e&&D!==(D=0===t[1].dedupe?0:1)&&(B.value=D),2&e&&R!==(R=t[1].bounded?1:"")&&(j.value=R),2&e&&W!==(W=t[1]["accept-language"]||"")&&(F.value=W),2&e&&V!==(V=t[1].countrycodes||"")&&(U.value=V),2&e&&Y!==(Y=t[1].limit||"")&&(G.value=Y),2&e&&Q!==(Q=t[1].polygon_threshold||"")&&(J.value=Q)},d(t){t&&(y(e),y(o),y(s),y(l),y(c),y(d),y(p),y(_),y(b),y(T),y(P),y(E),y(A))}}}function Le(t){let e,n,o,s,r,a,l,c,h,u,d,p,m,f,_,b,x,L,T,M,k,E,A,S,z,I,N,B,D,Z,j,R,H,F,W,q,U,V,K,G,Y,X,J,et,nt,rt,at,lt,ct,ht,ut,dt,pt,mt,ft,_t,gt,vt,yt,bt,wt,xt,$t,Lt,Tt;return u=new we({props:{page:"search",$$slots:{default:[xe]},$$scope:{ctx:t}}}),m=new we({props:{page:"search",$$slots:{default:[$e]},$$scope:{ctx:t}}}),{c(){e=w("ul"),n=w("li"),o=w("a"),o.textContent="Simple",s=$(),r=w("li"),a=w("a"),a.textContent="Structured",l=$(),c=w("div"),h=w("div"),it(u.$$.fragment),d=$(),p=w("div"),it(m.$$.fragment),f=$(),_=w("details"),b=w("summary"),b.innerHTML="<small>Advanced options</small>",x=$(),L=w("ul"),T=w("li"),M=w("div"),k=w("label"),k.textContent="apply viewbox",E=$(),A=w("input"),z=$(),I=w("li"),N=w("div"),B=w("label"),B.textContent="bounded to viewbox",D=$(),Z=w("input"),R=$(),H=w("li"),F=w("div"),W=w("label"),W.textContent="deduplicate results",q=$(),U=w("input"),K=$(),G=w("li"),Y=w("label"),Y.textContent="Maximum number of results",X=$(),J=w("input"),nt=$(),rt=w("li"),at=w("label"),at.textContent="Polygon simplification",lt=$(),ct=w("input"),ut=$(),dt=w("li"),pt=w("label"),pt.textContent="Languages",mt=$(),ft=w("input"),gt=$(),vt=w("li"),yt=w("label"),yt.textContent="Country Codes",bt=$(),wt=w("input"),C(o,"class","nav-link svelte-1u2ltgo"),C(o,"data-bs-toggle","tab"),C(o,"href","#simple"),O(o,"active",!t[0]),C(n,"class","nav-item"),C(a,"class","nav-link svelte-1u2ltgo"),C(a,"data-bs-toggle","tab"),C(a,"href","#structured"),O(a,"active",t[0]),C(r,"class","nav-item"),C(e,"class","nav nav-tabs svelte-1u2ltgo"),C(h,"class","tab-pane"),C(h,"id","simple"),C(h,"role","tabpanel"),O(h,"active",!t[0]),C(p,"class","tab-pane"),C(p,"id","structured"),C(p,"role","tabpanel"),O(p,"active",t[0]),C(c,"class","tab-content py-2"),C(k,"class","form-check-label svelte-1u2ltgo"),C(k,"for","use_viewbox"),C(A,"type","checkbox"),C(A,"class","form-check-input api-param-setting"),C(A,"id","use_viewbox"),A.checked=S=t[1].viewbox,C(M,"class","form-check form-check-inline"),C(T,"class","svelte-1u2ltgo"),C(B,"class","form-check-label svelte-1u2ltgo"),C(B,"for","option_bounded"),C(Z,"type","checkbox"),C(Z,"class","form-check-input api-param-setting"),C(Z,"id","option_bounded"),Z.checked=j=!!t[1].bounded,C(N,"class","form-check form-check-inline"),C(I,"class","svelte-1u2ltgo"),C(W,"class","form-check-label svelte-1u2ltgo"),C(W,"for","option_dedupe"),C(U,"type","checkbox"),C(U,"class","form-check-input api-param-setting"),C(U,"id","option_dedupe"),U.checked=V=0===t[1].dedupe?0:1,C(F,"class","form-check form-check-inline"),C(H,"class","svelte-1u2ltgo"),C(Y,"for","option_limit"),C(Y,"class","svelte-1u2ltgo"),C(J,"type","number"),C(J,"class","form-control form-control-sm d-inline w-auto api-param-setting"),C(J,"data-api-param","limit"),C(J,"id","option_limit"),C(J,"min","1"),C(J,"max","50"),J.value=et=t[1].limit||"",C(G,"class","svelte-1u2ltgo"),C(at,"for","option_polygon_threshold"),C(at,"class","svelte-1u2ltgo"),C(ct,"type","number"),C(ct,"class","form-control form-control-sm d-inline w-auto api-param-setting"),C(ct,"data-api-param","polygon_threshold"),C(ct,"id","option_polygon_threshold"),C(ct,"min","0.0"),C(ct,"max","1.0"),C(ct,"step","0.001"),ct.value=ht=t[1].polygon_threshold||"",C(rt,"class","svelte-1u2ltgo"),C(pt,"for","accept_lang"),C(pt,"class","svelte-1u2ltgo"),C(ft,"type","text"),C(ft,"placeholder","e.g. en,zh-Hant"),C(ft,"class","form-control form-control-sm d-inline w-auto api-param-setting"),C(ft,"data-api-param","accept-language"),C(ft,"id","accept_lang"),C(ft,"size","15"),ft.value=_t=t[1]["accept-language"]||"",C(dt,"class","svelte-1u2ltgo"),C(yt,"for","option_ccode"),C(yt,"class","svelte-1u2ltgo"),C(wt,"type","text"),C(wt,"placeholder","e.g. de,gb"),C(wt,"class","form-control form-control-sm d-inline w-auto api-param-setting"),C(wt,"data-api-param","countrycodes"),C(wt,"id","option_ccode"),C(wt,"size","15"),wt.value=xt=t[1].countrycodes||"",C(wt,"pattern","^[a-zA-Z]{2}(,[a-zA-Z]{2})*$"),C(vt,"class","svelte-1u2ltgo"),C(L,"class","svelte-1u2ltgo"),C(_,"id","searchAdvancedOptions"),C(_,"class","svelte-1u2ltgo")},m(i,y){v(i,e,y),g(e,n),g(n,o),g(e,s),g(e,r),g(r,a),v(i,l,y),v(i,c,y),g(c,h),ot(u,h,null),g(c,d),g(c,p),ot(m,p,null),v(i,f,y),v(i,_,y),g(_,b),g(_,x),g(_,L),g(L,T),g(T,M),g(M,k),g(M,E),g(M,A),g(L,z),g(L,I),g(I,N),g(N,B),g(N,D),g(N,Z),g(L,R),g(L,H),g(H,F),g(F,W),g(F,q),g(F,U),g(L,K),g(L,G),g(G,Y),g(G,X),g(G,J),g(L,nt),g(L,rt),g(rt,at),g(rt,lt),g(rt,ct),g(L,ut),g(L,dt),g(dt,pt),g(dt,mt),g(dt,ft),g(L,gt),g(L,vt),g(vt,yt),g(vt,bt),g(vt,wt),$t=!0,Lt||(Tt=[P(A,"change",t[3]),P(Z,"change",Te),P(U,"change",Pe),P(J,"change",Me),P(ct,"change",Me),P(ft,"change",Me),P(wt,"change",Me)],Lt=!0)},p(t,[e]){(!$t||1&e)&&O(o,"active",!t[0]),(!$t||1&e)&&O(a,"active",t[0]);const n={};262&e&&(n.$$scope={dirty:e,ctx:t}),u.$set(n),(!$t||1&e)&&O(h,"active",!t[0]);const i={};262&e&&(i.$$scope={dirty:e,ctx:t}),m.$set(i),(!$t||1&e)&&O(p,"active",t[0]),(!$t||2&e&&S!==(S=t[1].viewbox))&&(A.checked=S),(!$t||2&e&&j!==(j=!!t[1].bounded))&&(Z.checked=j),(!$t||2&e&&V!==(V=0===t[1].dedupe?0:1))&&(U.checked=V),(!$t||2&e&&et!==(et=t[1].limit||"")&&J.value!==et)&&(J.value=et),(!$t||2&e&&ht!==(ht=t[1].polygon_threshold||"")&&ct.value!==ht)&&(ct.value=ht),(!$t||2&e&&_t!==(_t=t[1]["accept-language"]||"")&&ft.value!==_t)&&(ft.value=_t),(!$t||2&e&&xt!==(xt=t[1].countrycodes||"")&&wt.value!==xt)&&(wt.value=xt)},i(t){$t||(Q(u.$$.fragment,t),Q(m.$$.fragment,t),$t=!0)},o(t){tt(u.$$.fragment,t),tt(m.$$.fragment,t),$t=!1},d(t){t&&(y(e),y(l),y(c),y(f),y(_)),st(u),st(m),Lt=!1,i(Tt)}}}function Te(t){document.querySelector("input[name=bounded]").value=t.target.checked?1:""}function Pe(t){document.querySelector("input[name=dedupe]").value=t.target.checked?1:0}function Me(t){document.querySelector("input[name="+t.target.dataset.apiParam+"]").value=t.target.value}function ke(t,e,n){let i,{bStructuredSearch:o=!1}=e,{api_request_params:s={}}=e;function r(t){let e=document.getElementById("use_viewbox");e&&e.checked?n(2,i=function(t){var e=t.getBounds(),n=e.getWest(),i=e.getEast();return i-n>=360&&(n=t.getCenter().lng-179.999,i=t.getCenter().lng+179.999),i=L.latLng(77,i).wrap().lng,[(n=L.latLng(77,n).wrap().lng).toFixed(5),e.getNorth().toFixed(5),i.toFixed(5),e.getSouth().toFixed(5)].join(",")}(t)):n(2,i="")}function a(t){let e=t.wrapLatLng(t.getCenter());e.lat.toFixed(5),e.lng.toFixed(5)}return Tt.subscribe((t=>{t&&(t.on("move",(function(){r(t),a(t)})),t.on("load",(function(){r(t),a(t)})))})),t.$$set=t=>{"bStructuredSearch"in t&&n(0,o=t.bStructuredSearch),"api_request_params"in t&&n(1,s=t.api_request_params)},[o,s,i,function(){let t=h(Tt);t&&r(t)}]}class Ce extends lt{constructor(t){super(),at(this,t,ke,Le,s,{bStructuredSearch:0,api_request_params:1})}}function Ee(t){let e,n,i,o;const s=t[6].default,r=d(s,t,t[5],null);return{c(){e=w("a"),r&&r.c(),C(e,"href",t[1]),C(e,"class",t[0])},m(s,a){v(s,e,a),r&&r.m(e,null),n=!0,i||(o=P(e,"click",k(M(t[2]))),i=!0)},p(t,[i]){r&&r.p&&(!n||32&i)&&f(r,s,t,t[5],n?m(s,t[5],i,null):_(t[5]),null),(!n||2&i)&&C(e,"href",t[1]),(!n||1&i)&&C(e,"class",t[0])},i(t){n||(Q(r,t),n=!0)},o(t){tt(r,t),n=!1},d(t){t&&y(e),r&&r.d(t),i=!1,o()}}}function Ae(t,e,n){let{$$slots:i={},$$scope:o}=e,{extra_classes:s=""}=e,{feature:r=null}=e,a=new URLSearchParams,l="details.html";return t.$$set=t=>{"extra_classes"in t&&n(0,s=t.extra_classes),"feature"in t&&n(3,r=t.feature),"$$scope"in t&&n(5,o=t.$$scope)},t.$$.update=()=>{if(8&t.$$.dirty){let t=new URLSearchParams;null!==r&&(r.osm_type?(1===r.osm_type.length?t.set("osmtype",r.osm_type):t.set("osmtype","node"===(e=r.osm_type)?"N":"way"===e?"W":"relation"===e?"R":""),t.set("osmid",r.osm_id),r.class?t.set("class",r.class):r.category&&t.set("class",r.category)):r.place_id&&t.set("place_id",r.place_id)),n(4,a=t)}var e;if(16&t.$$.dirty){let t=a.toString();n(1,l="details.html"+(t?"?":"")+t)}},[s,l,function(){St("details",a)},r,a,o,i]}class Se extends lt{constructor(t){super(),at(this,t,Ae,Ee,s,{extra_classes:0,feature:3})}}function Oe(e){let n;return{c(){n=w("div"),C(n,"id","welcome")},m(t,e){v(t,n,e)},p:t,i:t,o:t,d(t){t&&y(n)}}}function ze(t){return N((()=>{Dt("theme/welcome.html",document.getElementById("welcome"))})),[]}class Ie extends lt{constructor(t){super(),at(this,t,ze,Oe,s,{})}}function Ne(t){let e,n;return{c(){e=w("img"),C(e,"class","mapicon svelte-180cawe"),l(e.src,n=t[1])||C(e,"src",n),C(e,"alt",t[2])},m(t,n){v(t,e,n)},p(t,i){2&i&&!l(e.src,n=t[1])&&C(e,"src",n),4&i&&C(e,"alt",t[2])},d(t){t&&y(e)}}}function Be(e){let n,i=e[0]&&Ne(e);return{c(){i&&i.c(),n=T()},m(t,e){i&&i.m(t,e),v(t,n,e)},p(t,[e]){t[0]?i?i.p(t,e):(i=Ne(t),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i:t,o:t,d(t){t&&y(n),i&&i.d(t)}}}function De(t,e,n){let i,o,s,{aPlace:r}=e;return t.$$set=t=>{"aPlace"in t&&n(3,r=t.aPlace)},t.$$.update=()=>{var e,a;8&t.$$.dirty&&n(0,(e=r.category,a=r.type,i={"boundary:administrative":"poi_boundary_administrative","place:city":"poi_place_city","place:town":"poi_place_town","place:village":"poi_place_village","place:hamlet":"poi_place_village","place:suburb":"poi_place_village","place:locality":"poi_place_village","place:airport":"transport_airport2","aeroway:aerodrome":"transport_airport2","railway:station":"transport_train_station2","amenity:place_of_worship":"place_of_worship_unknown3","amenity:pub":"food_pub","amenity:bar":"food_bar","amenity:university":"education_university","tourism:museum":"tourist_museum","amenity:arts_centre":"tourist_art_gallery2","tourism:zoo":"tourist_zoo","tourism:theme_park":"poi_point_of_interest","tourism:attraction":"poi_point_of_interest","leisure:golf_course":"sport_golf","historic:castle":"tourist_castle","amenity:hospital":"health_hospital","amenity:school":"education_school","amenity:theatre":"tourist_theatre","amenity:library":"amenity_library","amenity:fire_station":"amenity_firestation3","amenity:police":"amenity_police2","amenity:bank":"money_bank2","amenity:post_office":"amenity_post_office","tourism:hotel":"accommodation_hotel2","amenity:cinema":"tourist_cinema","tourism:artwork":"tourist_art_gallery2","historic:archaeological_site":"tourist_archaeological2","amenity:doctors":"health_doctors","leisure:sports_centre":"sport_leisure_centre","leisure:swimming_pool":"sport_swimming_outdoor","shop:supermarket":"shopping_supermarket","shop:convenience":"shopping_convenience","amenity:restaurant":"food_restaurant","amenity:fast_food":"food_fastfood","amenity:cafe":"food_cafe","tourism:guest_house":"accommodation_bed_and_breakfast","amenity:pharmacy":"health_pharmacy_dispensing","amenity:fuel":"transport_fuel","natural:peak":"poi_peak","natural:wood":"landuse_coniferous_and_deciduous","shop:bicycle":"shopping_bicycle","shop:clothes":"shopping_clothes","shop:hairdresser":"shopping_hairdresser","shop:doityourself":"shopping_diy","shop:estate_agent":"shopping_estateagent2","shop:car":"shopping_car","shop:garden_centre":"shopping_garden_centre","shop:car_repair":"shopping_car_repair","shop:bakery":"shopping_bakery","shop:butcher":"shopping_butcher","shop:apparel":"shopping_clothes","shop:laundry":"shopping_laundrette","shop:beverages":"shopping_alcohol","shop:alcohol":"shopping_alcohol","shop:optician":"health_opticians","shop:chemist":"health_pharmacy","shop:gallery":"tourist_art_gallery2","shop:jewelry":"shopping_jewelry","tourism:information":"amenity_information","historic:ruins":"tourist_ruin","amenity:college":"education_school","historic:monument":"tourist_monument","historic:memorial":"tourist_monument","historic:mine":"poi_mine","tourism:caravan_site":"accommodation_caravan_park","amenity:bus_station":"transport_bus_station","amenity:atm":"money_atm2","tourism:viewpoint":"tourist_view_point","tourism:guesthouse":"accommodation_bed_and_breakfast","railway:tram":"transport_tram_stop","amenity:courthouse":"amenity_court","amenity:recycling":"amenity_recycling","amenity:dentist":"health_dentist","natural:beach":"tourist_beach","railway:tram_stop":"transport_tram_stop","amenity:prison":"amenity_prison","highway:bus_stop":"transport_bus_stop2"}[e+":"+a])),8&t.$$.dirty&&n(2,o="icon for "+r.category+" "+r.type),1&t.$$.dirty&&n(1,s=Nominatim_Config.Images_Base_Url+i+".p.20.png")},[i,s,o,r]}class Ze extends lt{constructor(t){super(),at(this,t,De,Be,s,{aPlace:3})}}function je(t,e,n){const i=t.slice();return i[6]=e[n],i[8]=n,i}function Re(e){let n,i;return n=new Ie({}),{c(){it(n.$$.fragment)},m(t,e){ot(n,t,e),i=!0},p:t,i(t){i||(Q(n.$$.fragment,t),i=!0)},o(t){tt(n.$$.fragment,t),i=!1},d(t){st(n,t)}}}function He(e){let n;function i(t,e){return t[0]?qe:We}let o=i(e),s=o(e);return{c(){s.c(),n=T()},m(t,e){s.m(t,e),v(t,n,e)},p(t,e){o!==(o=i(t))&&(s.d(1),s=o(t),s&&(s.c(),s.m(n.parentNode,n)))},i:t,o:t,d(t){t&&y(n),s.d(t)}}}function Fe(t){let e,n,i,o=et(t[1]),s=[];for(let e=0;e<o.length;e+=1)s[e]=Ve(je(t,o,e));const r=t=>tt(s[t],1,1,(()=>{s[t]=null}));let a=t[3]&&!t[0]&&Ke(t);return{c(){e=w("div");for(let t=0;t<s.length;t+=1)s[t].c();n=$(),a&&a.c(),C(e,"id","searchresults"),C(e,"role","list")},m(t,o){v(t,e,o);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null);g(e,n),a&&a.m(e,null),i=!0},p(t,i){if(22&i){let a;for(o=et(t[1]),a=0;a<o.length;a+=1){const r=je(t,o,a);s[a]?(s[a].p(r,i),Q(s[a],1)):(s[a]=Ve(r),s[a].c(),Q(s[a],1),s[a].m(e,n))}for(X(),a=o.length;a<s.length;a+=1)r(a);J()}t[3]&&!t[0]?a?a.p(t,i):(a=Ke(t),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(t){if(!i){for(let t=0;t<o.length;t+=1)Q(s[t]);i=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)tt(s[t]);i=!1},d(t){t&&y(e),b(s,t),a&&a.d()}}}function We(t){let e;return{c(){e=w("div"),e.textContent="No search results found",C(e,"class","noresults svelte-358hab")},m(t,n){v(t,e,n)},d(t){t&&y(e)}}}function qe(t){let e;return{c(){e=w("div"),e.textContent="Search for coordinates or click anywhere on the map.",C(e,"id","intro"),C(e,"class","sidebar")},m(t,n){v(t,e,n)},d(t){t&&y(e)}}}function Ue(t){let e;return{c(){e=x("details")},m(t,n){v(t,e,n)},d(t){t&&y(e)}}}function Ve(t){let e,n,o,s,r,a,l,c,h,u,d,p,m,f,_,b,L,T,M,A=t[6].display_name+"",S=_t(t[6])+"",z=t[6].lat+"",I=t[6].lon+"";return o=new Ze({props:{aPlace:t[6]}}),b=new Se({props:{extra_classes:"btn btn-outline-secondary btn-sm",feature:t[6],$$slots:{default:[Ue]},$$scope:{ctx:t}}}),{c(){var i,g,v,y;e=w("div"),n=w("div"),it(o.$$.fragment),s=$(),r=w("span"),a=x(A),l=$(),c=w("span"),h=x(S),u=$(),d=w("p"),p=x(z),m=x(","),f=x(I),_=$(),it(b.$$.fragment),i=n,g="float",null==(v="right")?i.style.removeProperty(g):i.style.setProperty(g,v,y?"important":""),C(r,"class","name"),C(c,"class","type svelte-358hab"),C(d,"class","coords svelte-358hab"),C(e,"class","result svelte-358hab"),C(e,"role","listitem"),C(e,"data-position",t[8]),O(e,"highlight",t[8]===t[2])},m(i,y){v(i,e,y),g(e,n),ot(o,n,null),g(e,s),g(e,r),g(r,a),g(e,l),g(e,c),g(c,h),g(e,u),g(e,d),g(d,p),g(d,m),g(d,f),g(e,_),ot(b,e,null),L=!0,T||(M=[P(e,"click",k(t[4])),P(e,"keypress",k(t[4]))],T=!0)},p(t,n){const i={};2&n&&(i.aPlace=t[6]),o.$set(i),(!L||2&n)&&A!==(A=t[6].display_name+"")&&E(a,A),(!L||2&n)&&S!==(S=_t(t[6])+"")&&E(h,S),(!L||2&n)&&z!==(z=t[6].lat+"")&&E(p,z),(!L||2&n)&&I!==(I=t[6].lon+"")&&E(f,I);const s={};2&n&&(s.feature=t[6]),512&n&&(s.$$scope={dirty:n,ctx:t}),b.$set(s),(!L||4&n)&&O(e,"highlight",t[8]===t[2])},i(t){L||(Q(o.$$.fragment,t),Q(b.$$.fragment,t),L=!0)},o(t){tt(o.$$.fragment,t),tt(b.$$.fragment,t),L=!1},d(t){t&&y(e),st(o),st(b),T=!1,i(M)}}}function Ke(t){let e,n,i;return{c(){e=w("div"),n=w("a"),i=x("Search for more results"),C(n,"class","btn btn-primary"),C(n,"href",t[3]),C(e,"class","more svelte-358hab")},m(t,o){v(t,e,o),g(e,n),g(n,i)},p(t,e){8&e&&C(n,"href",t[3])},d(t){t&&y(e)}}}function Ge(t){let e,n,i,o;const s=[Fe,He,Re],r=[];function a(t,e){return t[1]&&t[1].length>0?0:t[1]?1:2}return e=a(t),n=r[e]=s[e](t),{c(){n.c(),i=T()},m(t,n){r[e].m(t,n),v(t,i,n),o=!0},p(t,[o]){let l=e;e=a(t),e===l?r[e].p(t,o):(X(),tt(r[l],1,1,(()=>{r[l]=null})),J(),n=r[e],n?n.p(t,o):(n=r[e]=s[e](t),n.c()),Q(n,1),n.m(i.parentNode,i))},i(t){o||(Q(n),o=!0)},o(t){tt(n),o=!1},d(t){t&&y(i),r[e].d(t)}}}function Ye(t,e,n){let i,o,s,{reverse_search:r=!1}=e,{current_result:a=null}=e;return Pt.subscribe((t=>{if(!t)return;n(1,i=t),n(2,o=0),n(5,a=i[0]);let e=new URLSearchParams(window.location.search),r=t;var l=[];e.has("exclude_place_ids")&&(l=e.get("exclude_place_ids").split(","));for(var c=0;c<r.length;c+=1)l.push(r[c].place_id);var h=new URLSearchParams(window.location.search);h.set("exclude_place_ids",l.join(",")),n(3,s="?"+h.toString())})),t.$$set=t=>{"reverse_search"in t&&n(0,r=t.reverse_search),"current_result"in t&&n(5,a=t.current_result)},[r,i,o,s,function(t){let e=t.target;e.className.match("result")||(e=e.parentElement);let s=Number(e.dataset.position);n(5,a=i[s]),n(2,o=s)},a]}class Xe extends lt{constructor(t){super(),at(this,t,Ye,Ge,s,{reverse_search:0,current_result:5})}}var Je={exports:{}};
/* @preserve
	 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
	 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
	 */(function(t){var e="1.9.4";function n(t){var e,n,i,o;for(n=1,i=arguments.length;n<i;n++)for(e in o=arguments[n])t[e]=o[e];return t}var i=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function o(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var s=0;function r(t){return"_leaflet_id"in t||(t._leaflet_id=++s),t._leaflet_id}function a(t,e,n){var i,o,s,r;return r=function(){i=!1,o&&(s.apply(n,o),o=!1)},s=function(){i?o=arguments:(t.apply(n,arguments),setTimeout(r,e),i=!0)},s}function l(t,e,n){var i=e[1],o=e[0],s=i-o;return t===i&&n?t:((t-o)%s+s)%s+o}function c(){return!1}function h(t,e){if(!1===e)return t;var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function u(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function d(t){return u(t).split(/\s+/)}function p(t,e){for(var n in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?i(t.options):{}),e)t.options[n]=e[n];return t.options}function m(t,e,n){var i=[];for(var o in t)i.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}var f=/\{ *([\w_ -]+) *\}/g;function _(t,e){return t.replace(f,(function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i}))}var g=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function v(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var w=0;function x(t){var e=+new Date,n=Math.max(0,16-(e-w));return w=e+n,window.setTimeout(t,n)}var $=window.requestAnimationFrame||b("RequestAnimationFrame")||x,T=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function P(t,e,n){if(!n||$!==x)return $.call(window,o(t,e));t.call(e)}function M(t){t&&T.call(window,t)}var k={__proto__:null,extend:n,create:i,bind:o,get lastId(){return s},stamp:r,throttle:a,wrapNum:l,falseFn:c,formatNum:h,trim:u,splitWords:d,setOptions:p,getParamString:m,template:_,isArray:g,indexOf:v,emptyImageUrl:y,requestFn:$,cancelFn:T,requestAnimFrame:P,cancelAnimFrame:M};function C(){}function E(t){if("undefined"!=typeof L&&L&&L.Mixin){t=g(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}C.extend=function(t){var e=function(){p(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=e.__super__=this.prototype,s=i(o);for(var r in s.constructor=e,e.prototype=s,this)Object.prototype.hasOwnProperty.call(this,r)&&"prototype"!==r&&"__super__"!==r&&(e[r]=this[r]);return t.statics&&n(e,t.statics),t.includes&&(E(t.includes),n.apply(null,[s].concat(t.includes))),n(s,t),delete s.statics,delete s.includes,s.options&&(s.options=o.options?i(o.options):{},n(s.options,t.options)),s._initHooks=[],s.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=s._initHooks.length;t<e;t++)s._initHooks[t].call(this)}},e},C.include=function(t){var e=this.prototype.options;return n(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},C.mergeOptions=function(t){return n(this.prototype.options,t),this},C.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var A={on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else for(var o=0,s=(t=d(t)).length;o<s;o++)this._on(t[o],e,n);return this},off:function(t,e,n){if(arguments.length)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else{t=d(t);for(var o=1===arguments.length,s=0,r=t.length;s<r;s++)o?this._off(t[s]):this._off(t[s],e,n)}else delete this._events;return this},_on:function(t,e,n,i){if("function"==typeof e){if(!1===this._listens(t,e,n)){n===this&&(n=void 0);var o={fn:e,ctx:n};i&&(o.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(o)}}else console.warn("wrong listener type: "+typeof e)},_off:function(t,e,n){var i,o,s;if(this._events&&(i=this._events[t]))if(1!==arguments.length)if("function"==typeof e){var r=this._listens(t,e,n);if(!1!==r){var a=i[r];this._firingCount&&(a.fn=c,this._events[t]=i=i.slice()),i.splice(r,1)}}else console.warn("wrong listener type: "+typeof e);else{if(this._firingCount)for(o=0,s=i.length;o<s;o++)i[o].fn=c;delete this._events[t]}},fire:function(t,e,i){if(!this.listens(t,i))return this;var o=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var s=this._events[t];if(s){this._firingCount=this._firingCount+1||1;for(var r=0,a=s.length;r<a;r++){var l=s[r],c=l.fn;l.once&&this.off(t,c,l.ctx),c.call(l.ctx||this,o)}this._firingCount--}}return i&&this._propagateEvent(o),this},listens:function(t,e,n,i){"string"!=typeof t&&console.warn('"string" type argument expected');var o=e;"function"!=typeof e&&(i=!!e,o=void 0,n=void 0);var s=this._events&&this._events[t];if(s&&s.length&&!1!==this._listens(t,o,n))return!0;if(i)for(var r in this._eventParents)if(this._eventParents[r].listens(t,e,n,i))return!0;return!1},_listens:function(t,e,n){if(!this._events)return!1;var i=this._events[t]||[];if(!e)return!!i.length;n===this&&(n=void 0);for(var o=0,s=i.length;o<s;o++)if(i[o].fn===e&&i[o].ctx===n)return o;return!1},once:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e,!0);else for(var o=0,s=(t=d(t)).length;o<s;o++)this._on(t[o],e,n,!0);return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[r(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[r(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};A.addEventListener=A.on,A.removeEventListener=A.clearAllEventListeners=A.off,A.addOneTimeEventListener=A.once,A.fireEvent=A.fire,A.hasEventListeners=A.listens;var S=C.extend(A);function O(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var z=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function I(t,e,n){return t instanceof O?t:g(t)?new O(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new O(t.x,t.y):new O(t,e,n)}function N(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function B(t,e){return!t||t instanceof N?t:new N(t,e)}function D(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function Z(t,e){return t instanceof D?t:new D(t,e)}function j(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function R(t,e,n){return t instanceof j?t:g(t)&&"object"!=typeof t[0]?3===t.length?new j(t[0],t[1],t[2]):2===t.length?new j(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new j(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new j(t,e,n)}O.prototype={clone:function(){return new O(this.x,this.y)},add:function(t){return this.clone()._add(I(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(I(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new O(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new O(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=z(this.x),this.y=z(this.y),this},distanceTo:function(t){var e=(t=I(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=I(t)).x===this.x&&t.y===this.y},contains:function(t){return t=I(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+h(this.x)+", "+h(this.y)+")"}},N.prototype={extend:function(t){var e,n;if(!t)return this;if(t instanceof O||"number"==typeof t[0]||"x"in t)e=n=I(t);else if(e=(t=B(t)).min,n=t.max,!e||!n)return this;return this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=e.clone(),this.max=n.clone()),this},getCenter:function(t){return I((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return I(this.min.x,this.max.y)},getTopRight:function(){return I(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof O?I(t):B(t))instanceof N?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=B(t);var e=this.min,n=this.max,i=t.min,o=t.max,s=o.x>=e.x&&i.x<=n.x,r=o.y>=e.y&&i.y<=n.y;return s&&r},overlaps:function(t){t=B(t);var e=this.min,n=this.max,i=t.min,o=t.max,s=o.x>e.x&&i.x<n.x,r=o.y>e.y&&i.y<n.y;return s&&r},isValid:function(){return!(!this.min||!this.max)},pad:function(t){var e=this.min,n=this.max,i=Math.abs(e.x-n.x)*t,o=Math.abs(e.y-n.y)*t;return B(I(e.x-i,e.y-o),I(n.x+i,n.y+o))},equals:function(t){return!!t&&(t=B(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight()))}},D.prototype={extend:function(t){var e,n,i=this._southWest,o=this._northEast;if(t instanceof j)e=t,n=t;else{if(!(t instanceof D))return t?this.extend(R(t)||Z(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||o?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new j(e.lat,e.lng),this._northEast=new j(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new D(new j(e.lat-i,e.lng-o),new j(n.lat+i,n.lng+o))},getCenter:function(){return new j((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new j(this.getNorth(),this.getWest())},getSouthEast:function(){return new j(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof j||"lat"in t?R(t):Z(t);var e,n,i=this._southWest,o=this._northEast;return t instanceof D?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng},intersects:function(t){t=Z(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>=e.lat&&i.lat<=n.lat,r=o.lng>=e.lng&&i.lng<=n.lng;return s&&r},overlaps:function(t){t=Z(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>e.lat&&i.lat<n.lat,r=o.lng>e.lng&&i.lng<n.lng;return s&&r},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=Z(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},j.prototype={equals:function(t,e){return!!t&&(t=R(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+h(this.lat,t)+", "+h(this.lng,t)+")"},distanceTo:function(t){return W.distance(this,R(t))},wrap:function(){return W.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return Z([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new j(this.lat,this.lng,this.alt)}};var H,F={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new N(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?l(t.lng,this.wrapLng,!0):t.lng;return new j(this.wrapLat?l(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,o=e.lng-n.lng;if(0===i&&0===o)return t;var s=t.getSouthWest(),r=t.getNorthEast();return new D(new j(s.lat-i,s.lng-o),new j(r.lat-i,r.lng-o))}},W=n({},F,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,o=e.lat*n,s=Math.sin((e.lat-t.lat)*n/2),r=Math.sin((e.lng-t.lng)*n/2),a=s*s+Math.cos(i)*Math.cos(o)*r*r,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),q=6378137,U={R:q,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=Math.sin(i*e);return new O(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new j((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(H=q*Math.PI,new N([-H,-H],[H,H]))};function V(t,e,n,i){if(g(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function K(t,e,n,i){return new V(t,e,n,i)}V.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new O((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var G=n({},W,{code:"EPSG:3857",projection:U,transformation:function(){var t=.5/(Math.PI*U.R);return K(t,.5,-t,.5)}()}),Y=n({},G,{code:"EPSG:900913"});function X(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function J(t,e){var n,i,o,s,r,a,l="";for(n=0,o=t.length;n<o;n++){for(i=0,s=(r=t[n]).length;i<s;i++)l+=(i?"L":"M")+(a=r[i]).x+" "+a.y;l+=e?Dt.svg?"z":"x":""}return l||"M0 0"}var Q,tt=document.documentElement.style,et="ActiveXObject"in window,nt=et&&!document.addEventListener,it="msLaunchUri"in navigator&&!("documentMode"in document),ot=Bt("webkit"),st=Bt("android"),rt=Bt("android 2")||Bt("android 3"),at=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),lt=st&&Bt("Google")&&at<537&&!("AudioNode"in window),ct=!!window.opera,ht=!it&&Bt("chrome"),ut=Bt("gecko")&&!ot&&!ct&&!et,dt=!ht&&Bt("safari"),pt=Bt("phantom"),mt="OTransition"in tt,ft=0===navigator.platform.indexOf("Win"),_t=et&&"transition"in tt,gt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!rt,vt="MozPerspective"in tt,yt=!window.L_DISABLE_3D&&(_t||gt||vt)&&!mt&&!pt,bt="undefined"!=typeof orientation||Bt("mobile"),wt=bt&&ot,xt=bt&&gt,$t=!window.PointerEvent&&window.MSPointerEvent,Lt=!(!window.PointerEvent&&!$t),Tt="ontouchstart"in window||!!window.TouchEvent,Pt=!window.L_NO_TOUCH&&(Tt||Lt),Mt=bt&&ct,kt=bt&&ut,Ct=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Et=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",c,e),window.removeEventListener("testPassiveEventSupport",c,e)}catch(t){}return t}(),At=!!document.createElement("canvas").getContext,St=!(!document.createElementNS||!X("svg").createSVGRect),Ot=!!St&&((Q=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(Q.firstChild&&Q.firstChild.namespaceURI)),zt=!St&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}(),It=0===navigator.platform.indexOf("Mac"),Nt=0===navigator.platform.indexOf("Linux");function Bt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Dt={ie:et,ielt9:nt,edge:it,webkit:ot,android:st,android23:rt,androidStock:lt,opera:ct,chrome:ht,gecko:ut,safari:dt,phantom:pt,opera12:mt,win:ft,ie3d:_t,webkit3d:gt,gecko3d:vt,any3d:yt,mobile:bt,mobileWebkit:wt,mobileWebkit3d:xt,msPointer:$t,pointer:Lt,touch:Pt,touchNative:Tt,mobileOpera:Mt,mobileGecko:kt,retina:Ct,passiveEvents:Et,canvas:At,svg:St,vml:zt,inlineSvg:Ot,mac:It,linux:Nt},Zt=Dt.msPointer?"MSPointerDown":"pointerdown",jt=Dt.msPointer?"MSPointerMove":"pointermove",Rt=Dt.msPointer?"MSPointerUp":"pointerup",Ht=Dt.msPointer?"MSPointerCancel":"pointercancel",Ft={touchstart:Zt,touchmove:jt,touchend:Rt,touchcancel:Ht},Wt={touchstart:te,touchmove:Qt,touchend:Qt,touchcancel:Qt},qt={},Ut=!1;function Vt(t,e,n){return"touchstart"===e&&Jt(),Wt[e]?(n=Wt[e].bind(this,n),t.addEventListener(Ft[e],n,!1),n):(console.warn("wrong event specified:",e),c)}function Kt(t,e,n){Ft[e]?t.removeEventListener(Ft[e],n,!1):console.warn("wrong event specified:",e)}function Gt(t){qt[t.pointerId]=t}function Yt(t){qt[t.pointerId]&&(qt[t.pointerId]=t)}function Xt(t){delete qt[t.pointerId]}function Jt(){Ut||(document.addEventListener(Zt,Gt,!0),document.addEventListener(jt,Yt,!0),document.addEventListener(Rt,Xt,!0),document.addEventListener(Ht,Xt,!0),Ut=!0)}function Qt(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in e.touches=[],qt)e.touches.push(qt[n]);e.changedTouches=[e],t(e)}}function te(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Ge(e),Qt(t,e)}function ee(t){var e,n,i={};for(n in t)e=t[n],i[n]=e&&e.bind?e.bind(t):e;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var ne=200;function ie(t,e){t.addEventListener("dblclick",e);var n,i=0;function o(t){if(1===t.detail){if("mouse"!==t.pointerType&&(!t.sourceCapabilities||t.sourceCapabilities.firesTouchEvents)){var o=Xe(t);if(!o.some((function(t){return t instanceof HTMLLabelElement&&t.attributes.for}))||o.some((function(t){return t instanceof HTMLInputElement||t instanceof HTMLSelectElement}))){var s=Date.now();s-i<=ne?2==++n&&e(ee(t)):n=1,i=s}}}else n=t.detail}return t.addEventListener("click",o),{dblclick:e,simDblclick:o}}function oe(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var se,re,ae,le,ce,he=Me(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ue=Me(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),de="webkitTransition"===ue||"OTransition"===ue?ue+"End":"transitionend";function pe(t){return"string"==typeof t?document.getElementById(t):t}function me(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function fe(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function _e(t){var e=t.parentNode;e&&e.removeChild(t)}function ge(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ve(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function ye(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function be(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=Le(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function we(t,e){if(void 0!==t.classList)for(var n=d(e),i=0,o=n.length;i<o;i++)t.classList.add(n[i]);else if(!be(t,e)){var s=Le(t);$e(t,(s?s+" ":"")+e)}}function xe(t,e){void 0!==t.classList?t.classList.remove(e):$e(t,u((" "+Le(t)+" ").replace(" "+e+" "," ")))}function $e(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function Le(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function Te(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&Pe(t,e)}function Pe(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}function Me(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function ke(t,e,n){var i=e||new O(0,0);t.style[he]=(Dt.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function Ce(t,e){t._leaflet_pos=e,Dt.any3d?ke(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Ee(t){return t._leaflet_pos||new O(0,0)}if("onselectstart"in document)se=function(){Ze(window,"selectstart",Ge)},re=function(){Re(window,"selectstart",Ge)};else{var Ae=Me(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);se=function(){if(Ae){var t=document.documentElement.style;ae=t[Ae],t[Ae]="none"}},re=function(){Ae&&(document.documentElement.style[Ae]=ae,ae=void 0)}}function Se(){Ze(window,"dragstart",Ge)}function Oe(){Re(window,"dragstart",Ge)}function ze(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Ie(),le=t,ce=t.style.outlineStyle,t.style.outlineStyle="none",Ze(window,"keydown",Ie))}function Ie(){le&&(le.style.outlineStyle=ce,le=void 0,ce=void 0,Re(window,"keydown",Ie))}function Ne(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function Be(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var De={__proto__:null,TRANSFORM:he,TRANSITION:ue,TRANSITION_END:de,get:pe,getStyle:me,create:fe,remove:_e,empty:ge,toFront:ve,toBack:ye,hasClass:be,addClass:we,removeClass:xe,setClass:$e,getClass:Le,setOpacity:Te,testProp:Me,setTransform:ke,setPosition:Ce,getPosition:Ee,get disableTextSelection(){return se},get enableTextSelection(){return re},disableImageDrag:Se,enableImageDrag:Oe,preventOutline:ze,restoreOutline:Ie,getSizedParentNode:Ne,getScale:Be};function Ze(t,e,n,i){if(e&&"object"==typeof e)for(var o in e)We(t,o,e[o],n);else for(var s=0,r=(e=d(e)).length;s<r;s++)We(t,e[s],n,i);return this}var je="_leaflet_events";function Re(t,e,n,i){if(1===arguments.length)He(t),delete t[je];else if(e&&"object"==typeof e)for(var o in e)qe(t,o,e[o],n);else if(e=d(e),2===arguments.length)He(t,(function(t){return-1!==v(e,t)}));else for(var s=0,r=e.length;s<r;s++)qe(t,e[s],n,i);return this}function He(t,e){for(var n in t[je]){var i=n.split(/\d/)[0];e&&!e(i)||qe(t,i,null,null,n)}}var Fe={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function We(t,e,n,i){var o=e+r(n)+(i?"_"+r(i):"");if(t[je]&&t[je][o])return this;var s=function(e){return n.call(i||t,e||window.event)},a=s;!Dt.touchNative&&Dt.pointer&&0===e.indexOf("touch")?s=Vt(t,e,s):Dt.touch&&"dblclick"===e?s=ie(t,s):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(Fe[e]||e,s,!!Dt.passiveEvents&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(s=function(e){e=e||window.event,en(t,e)&&a(e)},t.addEventListener(Fe[e],s,!1)):t.addEventListener(e,a,!1):t.attachEvent("on"+e,s),t[je]=t[je]||{},t[je][o]=s}function qe(t,e,n,i,o){o=o||e+r(n)+(i?"_"+r(i):"");var s=t[je]&&t[je][o];if(!s)return this;!Dt.touchNative&&Dt.pointer&&0===e.indexOf("touch")?Kt(t,e,s):Dt.touch&&"dblclick"===e?oe(t,s):"removeEventListener"in t?t.removeEventListener(Fe[e]||e,s,!1):t.detachEvent("on"+e,s),t[je][o]=null}function Ue(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Ve(t){return We(t,"wheel",Ue),this}function Ke(t){return Ze(t,"mousedown touchstart dblclick contextmenu",Ue),t._leaflet_disable_click=!0,this}function Ge(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ye(t){return Ge(t),Ue(t),this}function Xe(t){if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;)e.push(n),n=n.parentNode;return e}function Je(t,e){if(!e)return new O(t.clientX,t.clientY);var n=Be(e),i=n.boundingClientRect;return new O((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var Qe=Dt.linux&&Dt.chrome?window.devicePixelRatio:Dt.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function tn(t){return Dt.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Qe:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function en(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}var nn={__proto__:null,on:Ze,off:Re,stopPropagation:Ue,disableScrollPropagation:Ve,disableClickPropagation:Ke,preventDefault:Ge,stop:Ye,getPropagationPath:Xe,getMousePosition:Je,getWheelDelta:tn,isExternalTarget:en,addListener:Ze,removeListener:Re},on=S.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=Ee(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=P(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),Ce(this._el,n),this.fire("step")},_complete:function(){M(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),sn=S.extend({options:{crs:G,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=p(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(R(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ue&&Dt.any3d&&!Dt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ze(this._proxy,de,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(R(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=n({animate:i.animate},i.zoom),i.pan=n({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e,i.pan&&i.pan.noMoveStart),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),s=(t instanceof O?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/i),r=this.containerPointToLatLng(o.add(s));return this.setView(r,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():Z(t);var n=I(e.paddingTopLeft||e.padding||[0,0]),i=I(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i));if((o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};var s=i.subtract(n).divideBy(2),r=this.project(t.getSouthWest(),o),a=this.project(t.getNorthEast(),o);return{center:this.unproject(r.add(a).divideBy(2).add(s),o),zoom:o}},fitBounds:function(t,e){if(!(t=Z(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=I(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new on,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){we(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!Dt.any3d)return this.setView(t,e,n);this._stop();var i=this.project(this.getCenter()),o=this.project(t),s=this.getSize(),r=this._zoom;t=R(t),e=void 0===e?r:e;var a=Math.max(s.x,s.y),l=a*this.getZoomScale(r,e),c=o.distanceTo(i)||1,h=1.42,u=h*h;function d(t){var e=(l*l-a*a+(t?-1:1)*u*u*c*c)/(2*(t?l:a)*u*c),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function p(t){return(Math.exp(t)-Math.exp(-t))/2}function m(t){return(Math.exp(t)+Math.exp(-t))/2}function f(t){return p(t)/m(t)}var _=d(0);function g(t){return a*(m(_)/m(_+h*t))}function v(t){return a*(m(_)*f(_+h*t)-p(_))/u}function y(t){return 1-Math.pow(1-t,1.5)}var b=Date.now(),w=(d(1)-_)/h,x=n.duration?1e3*n.duration:1e3*w*.8;function $(){var n=(Date.now()-b)/x,s=y(n)*w;n<=1?(this._flyToFrame=P($,this),this._move(this.unproject(i.add(o.subtract(i).multiplyBy(v(s)/c)),r),this.getScaleZoom(a/g(s),r),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),$.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=Z(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,Z(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=I((e=e||{}).paddingTopLeft||e.padding||[0,0]),i=I(e.paddingBottomRight||e.padding||[0,0]),o=this.project(this.getCenter()),s=this.project(t),r=this.getPixelBounds(),a=B([r.min.add(n),r.max.subtract(i)]),l=a.getSize();if(!a.contains(s)){this._enforcingBounds=!0;var c=s.subtract(a.getCenter()),h=a.extend(s).getSize().subtract(l);o.x+=c.x<0?-h.x:h.x,o.y+=c.y<0?-h.y:h.y,this.panTo(this.unproject(o),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),s=e.divideBy(2).round(),r=i.divideBy(2).round(),a=s.subtract(r);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=o(this._handleGeolocationResponse,this),i=o(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=new j(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),i=this._locateOptions;if(i.setView){var o=this.getBoundsZoom(n);this.setView(e,i.maxZoom?Math.min(o,i.maxZoom):o)}var s={latlng:e,bounds:n,timestamp:t.timestamp};for(var r in t.coords)"number"==typeof t.coords[r]&&(s[r]=t.coords[r]);this.fire("locationfound",s)}},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),_e(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(M(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)_e(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=fe("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new D(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=Z(t),n=I(n||[0,0]);var i=this.getZoom()||0,o=this.getMinZoom(),s=this.getMaxZoom(),r=t.getNorthWest(),a=t.getSouthEast(),l=this.getSize().subtract(n),c=B(this.project(a,i),this.project(r,i)).getSize(),h=Dt.any3d?this.options.zoomSnap:1,u=l.x/c.x,d=l.y/c.y,p=e?Math.max(u,d):Math.min(u,d);return i=this.getScaleZoom(p,i),h&&(i=Math.round(i/(h/100))*(h/100),i=e?Math.ceil(i/h)*h:Math.floor(i/h)*h),Math.max(o,Math.min(s,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new O(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new N(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(R(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(I(t),e)},layerPointToLatLng:function(t){var e=I(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(R(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(R(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(Z(t))},distance:function(t,e){return this.options.crs.distance(R(t),R(e))},containerPointToLayerPoint:function(t){return I(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return I(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(I(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(R(t)))},mouseEventToContainerPoint:function(t){return Je(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=pe(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Ze(e,"scroll",this._onScroll,this),this._containerId=r(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Dt.any3d,we(t,"leaflet-container"+(Dt.touch?" leaflet-touch":"")+(Dt.retina?" leaflet-retina":"")+(Dt.ielt9?" leaflet-oldie":"")+(Dt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=me(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&"sticky"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ce(this._mapPane,new O(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(we(t.markerPane,"leaflet-zoom-hide"),we(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,n){Ce(this._mapPane,new O(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var o=this._zoom!==e;this._moveStart(o,n)._move(t,e)._moveEnd(o),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n,i){void 0===e&&(e=this._zoom);var o=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),i?n&&n.pinch&&this.fire("zoom",n):((o||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return M(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Ce(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[r(this._container)]=this;var e=t?Re:Ze;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Dt.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){M(this._resizeRequest),this._resizeRequest=P((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],o="mouseout"===e||"mouseover"===e,s=t.target||t.srcElement,a=!1;s;){if((n=this._targets[r(s)])&&("click"===e||"preclick"===e)&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(o&&!en(s,t))break;if(i.push(n),o)break}if(s===this._container)break;s=s.parentNode}return i.length||a||o||!this.listens(e,!0)||(i=[this]),i},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||"click"===t.type&&this._isClickDisabled(e))){var n=t.type;"mousedown"===n&&ze(e),this._fireDOMEvent(t,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if("click"===t.type){var o=n({},t);o.type="preclick",this._fireDOMEvent(o,o.type,i)}var s=this._findEventTargets(t,e);if(i){for(var r=[],a=0;a<i.length;a++)i[a].listens(e,!0)&&r.push(i[a]);s=r.concat(s)}if(s.length){"contextmenu"===e&&Ge(t);var l=s[0],c={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var h=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=h?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(t),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=h?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(a=0;a<s.length;a++)if(s[a].fire(e,c,!0),c.originalEvent._stopped||!1===s[a].options.bubblingMouseEvents&&-1!==v(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Ee(this._mapPane)||new O(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return B([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),o=this.getSize().divideBy(2),s=new N(i.subtract(o),i.add(o)),r=this._getBoundsOffset(s,n,e);return Math.abs(r.x)<=1&&Math.abs(r.y)<=1?t:this.unproject(i.add(r),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new N(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=B(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),o=i.min.subtract(t.min),s=i.max.subtract(t.max);return new O(this._rebound(o.x,-s.x),this._rebound(o.y,-s.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=Dt.any3d?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){xe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=fe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=he,n=this._proxy.style[e];ke(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){_e(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();ke(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(o)||(P((function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(t,e,!0)}),this),0))},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,we(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&xe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rn(t,e){return new sn(t,e)}var an=C.extend({options:{position:"topright"},initialize:function(t){p(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return we(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(_e(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),ln=function(t){return new an(t)};sn.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=fe("div",e+"control-container",this._container);function i(i,o){var s=e+i+" "+e+o;t[i+o]=fe("div",s,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)_e(this._controlCorners[t]);_e(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var cn=an.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in p(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return an.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(r(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){we(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(we(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):xe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return xe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=fe("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Ke(e),Ve(e);var i=this._section=fe("section",t+"-list");n&&(this._map.on("click",this.collapse,this),Ze(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var o=this._layersLink=fe("a",t+"-toggle",e);o.href="#",o.title="Layers",o.setAttribute("role","button"),Ze(o,{keydown:function(t){13===t.keyCode&&this._expandSafely()},click:function(t){Ge(t),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=fe("div",t+"-base",i),this._separator=fe("div",t+"-separator",i),this._overlaysList=fe("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&r(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(o((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ge(this._baseLayersList),ge(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,o=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,o+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(r(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers_"+r(this),i),this._layerControlInputs.push(e),e.layerId=r(t.layer),Ze(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var s=document.createElement("span");return n.appendChild(s),s.appendChild(e),s.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var t,e,n=this._layerControlInputs,i=[],o=[];this._handlingClick=!0;for(var s=n.length-1;s>=0;s--)t=n[s],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||o.push(e);for(s=0;s<o.length;s++)this._map.hasLayer(o[s])&&this._map.removeLayer(o[s]);for(s=0;s<i.length;s++)this._map.hasLayer(i[s])||this._map.addLayer(i[s]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Ze(t,"click",Ge),this.expand();var e=this;setTimeout((function(){Re(t,"click",Ge),e._preventClick=!1}))}}),hn=function(t,e,n){return new cn(t,e,n)},un=an.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=fe("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,o){var s=fe("a",n,i);return s.innerHTML=t,s.href="#",s.title=e,s.setAttribute("role","button"),s.setAttribute("aria-label",e),Ke(s),Ze(s,"click",Ye),Ze(s,"click",o,this),Ze(s,"click",this._refocusOnMap,this),s},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";xe(this._zoomInButton,e),xe(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(we(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(we(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});sn.mergeOptions({zoomControl:!0}),sn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new un,this.addControl(this.zoomControl))}));var dn=function(t){return new un(t)},pn=an.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=fe("div",e),i=this.options;return this._addScales(i,e+"-line",n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=fe("div",e,n)),t.imperial&&(this._iScale=fe("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,o=3.2808399*t;o>5280?(e=o/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(o),this._updateScale(this._iScale,i+" ft",i/o))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),mn=function(t){return new pn(t)},fn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',_n=an.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Dt.inlineSvg?fn+" ":"")+"Leaflet</a>"},initialize:function(t){p(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=fe("div","leaflet-control-attribution"),Ke(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",(function(){this.removeAttribution(t.layer.getAttribution())}),this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});sn.mergeOptions({attributionControl:!0}),sn.addInitHook((function(){this.options.attributionControl&&(new _n).addTo(this)}));var gn=function(t){return new _n(t)};an.Layers=cn,an.Zoom=un,an.Scale=pn,an.Attribution=_n,ln.layers=hn,ln.zoom=dn,ln.scale=mn,ln.attribution=gn;var vn=C.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});vn.addTo=function(t,e){return t.addHandler(e,this),this};var yn={Events:A},bn=Dt.touch?"touchstart mousedown":"mousedown",wn=S.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){p(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Ze(this._dragStartTarget,bn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(wn._dragging===this&&this.finishDrag(!0),Re(this._dragStartTarget,bn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!be(this._element,"leaflet-zoom-anim")))if(t.touches&&1!==t.touches.length)wn._dragging===this&&this.finishDrag();else if(!(wn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(wn._dragging=this,this._preventOutline&&ze(this._element),Se(),se(),this._moving))){this.fire("down");var e=t.touches?t.touches[0]:t,n=Ne(this._element);this._startPoint=new O(e.clientX,e.clientY),this._startPos=Ee(this._element),this._parentScale=Be(n);var i="mousedown"===t.type;Ze(document,i?"mousemove":"touchmove",this._onMove,this),Ze(document,i?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(t){if(this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new O(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Ge(t),this._moved||(this.fire("dragstart"),this._moved=!0,we(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),we(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=t,this._updatePosition()))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Ce(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){xe(document.body,"leaflet-dragging"),this._lastTarget&&(xe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Re(document,"mousemove touchmove",this._onMove,this),Re(document,"mouseup touchend touchcancel",this._onUp,this),Oe(),re();var e=this._moved&&this._moving;this._moving=!1,wn._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function xn(t,e,n){var i,o,s,r,a,l,c,h,u,d=[1,4,2,8];for(o=0,c=t.length;o<c;o++)t[o]._code=In(t[o],e);for(r=0;r<4;r++){for(h=d[r],i=[],o=0,s=(c=t.length)-1;o<c;s=o++)a=t[o],l=t[s],a._code&h?l._code&h||((u=zn(l,a,h,e,n))._code=In(u,e),i.push(u)):(l._code&h&&((u=zn(l,a,h,e,n))._code=In(u,e),i.push(u)),i.push(a));t=i}return t}function $n(t,e){var n,i,o,s,r,a,l,c,h;if(!t||0===t.length)throw new Error("latlngs not passed");Dn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var u=R([0,0]),d=Z(t);d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest())<1700&&(u=Ln(t));var p=t.length,m=[];for(n=0;n<p;n++){var f=R(t[n]);m.push(e.project(R([f.lat-u.lat,f.lng-u.lng])))}for(a=l=c=0,n=0,i=p-1;n<p;i=n++)o=m[n],s=m[i],r=o.y*s.x-s.y*o.x,l+=(o.x+s.x)*r,c+=(o.y+s.y)*r,a+=3*r;h=0===a?m[0]:[l/a,c/a];var _=e.unproject(I(h));return R([_.lat+u.lat,_.lng+u.lng])}function Ln(t){for(var e=0,n=0,i=0,o=0;o<t.length;o++){var s=R(t[o]);e+=s.lat,n+=s.lng,i++}return R([e/i,n/i])}var Tn,Pn={__proto__:null,clipPolygon:xn,polygonCenter:$n,centroid:Ln};function Mn(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=En(t=Sn(t,n),n)}function kn(t,e,n){return Math.sqrt(Bn(t,e,n,!0))}function Cn(t,e,n){return Bn(t,e,n)}function En(t,e){var n=t.length,i=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,An(t,i,e,0,n-1);var o,s=[];for(o=0;o<n;o++)i[o]&&s.push(t[o]);return s}function An(t,e,n,i,o){var s,r,a,l=0;for(r=i+1;r<=o-1;r++)(a=Bn(t[r],t[i],t[o],!0))>l&&(s=r,l=a);l>n&&(e[s]=1,An(t,e,n,i,s),An(t,e,n,s,o))}function Sn(t,e){for(var n=[t[0]],i=1,o=0,s=t.length;i<s;i++)Nn(t[i],t[o])>e&&(n.push(t[i]),o=i);return o<s-1&&n.push(t[s-1]),n}function On(t,e,n,i,o){var s,r,a,l=i?Tn:In(t,n),c=In(e,n);for(Tn=c;;){if(!(l|c))return[t,e];if(l&c)return!1;a=In(r=zn(t,e,s=l||c,n,o),n),s===l?(t=r,l=a):(e=r,c=a)}}function zn(t,e,n,i,o){var s,r,a=e.x-t.x,l=e.y-t.y,c=i.min,h=i.max;return 8&n?(s=t.x+a*(h.y-t.y)/l,r=h.y):4&n?(s=t.x+a*(c.y-t.y)/l,r=c.y):2&n?(s=h.x,r=t.y+l*(h.x-t.x)/a):1&n&&(s=c.x,r=t.y+l*(c.x-t.x)/a),new O(s,r,o)}function In(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function Nn(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function Bn(t,e,n,i){var o,s=e.x,r=e.y,a=n.x-s,l=n.y-r,c=a*a+l*l;return c>0&&((o=((t.x-s)*a+(t.y-r)*l)/c)>1?(s=n.x,r=n.y):o>0&&(s+=a*o,r+=l*o)),a=t.x-s,l=t.y-r,i?a*a+l*l:new O(s,r)}function Dn(t){return!g(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function Zn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Dn(t)}function jn(t,e){var n,i,o,s,r,a,l,c;if(!t||0===t.length)throw new Error("latlngs not passed");Dn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var h=R([0,0]),u=Z(t);u.getNorthWest().distanceTo(u.getSouthWest())*u.getNorthEast().distanceTo(u.getNorthWest())<1700&&(h=Ln(t));var d=t.length,p=[];for(n=0;n<d;n++){var m=R(t[n]);p.push(e.project(R([m.lat-h.lat,m.lng-h.lng])))}for(n=0,i=0;n<d-1;n++)i+=p[n].distanceTo(p[n+1])/2;if(0===i)c=p[0];else for(n=0,s=0;n<d-1;n++)if(r=p[n],a=p[n+1],(s+=o=r.distanceTo(a))>i){l=(s-i)/o,c=[a.x-l*(a.x-r.x),a.y-l*(a.y-r.y)];break}var f=e.unproject(I(c));return R([f.lat+h.lat,f.lng+h.lng])}var Rn={__proto__:null,simplify:Mn,pointToSegmentDistance:kn,closestPointOnSegment:Cn,clipSegment:On,_getEdgeIntersection:zn,_getBitCode:In,_sqClosestPointOnSegment:Bn,isFlat:Dn,_flat:Zn,polylineCenter:jn},Hn={project:function(t){return new O(t.lng,t.lat)},unproject:function(t){return new j(t.y,t.x)},bounds:new N([-180,-90],[180,90])},Fn={R:6378137,R_MINOR:6356752.314245179,bounds:new N([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,o=this.R_MINOR/n,s=Math.sqrt(1-o*o),r=s*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-r)/(1+r),s/2);return i=-n*Math.log(Math.max(a,1e-10)),new O(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,o=this.R_MINOR/i,s=Math.sqrt(1-o*o),r=Math.exp(-t.y/i),a=Math.PI/2-2*Math.atan(r),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)e=s*Math.sin(a),e=Math.pow((1-e)/(1+e),s/2),a+=c=Math.PI/2-2*Math.atan(r*e)-a;return new j(a*n,t.x*n/i)}},Wn={__proto__:null,LonLat:Hn,Mercator:Fn,SphericalMercator:U},qn=n({},W,{code:"EPSG:3395",projection:Fn,transformation:function(){var t=.5/(Math.PI*Fn.R);return K(t,.5,-t,.5)}()}),Un=n({},W,{code:"EPSG:4326",projection:Hn,transformation:K(1/180,1,-1/180,.5)}),Vn=n({},F,{projection:Hn,transformation:K(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});F.Earth=W,F.EPSG3395=qn,F.EPSG3857=G,F.EPSG900913=Y,F.EPSG4326=Un,F.Simple=Vn;var Kn=S.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[r(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[r(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});sn.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=r(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=r(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return r(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?g(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[r(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=r(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var o=this._zoomBoundLayers[i].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),e=void 0===o.maxZoom?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Gn=Kn.extend({initialize:function(t,e){var n,i;if(p(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return r(t)}}),Yn=function(t,e){return new Gn(t,e)},Xn=Gn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Gn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Gn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new D;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Jn=function(t,e){return new Xn(t,e)},Qn=C.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){p(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var o=I(i),s=I("shadow"===e&&n.shadowAnchor||n.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),s&&(t.style.marginLeft=-s.x+"px",t.style.marginTop=-s.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Dt.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function ti(t){return new Qn(t)}var ei=Qn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!=typeof ei.imagePath&&(ei.imagePath=this._detectIconPath()),(this.options.imagePath||ei.imagePath)+Qn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(t,e,n){var i=e.exec(t);return i&&i[n]};return(t=e(t,/^url\((['"])?(.+)\1\)$/,2))&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=fe("div","leaflet-default-icon-path",document.body),e=me(t,"background-image")||me(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e))return e;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),ni=vn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new wn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),we(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&xe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,s=Ee(e._icon),r=n.getPixelBounds(),a=n.getPixelOrigin(),l=B(r.min._subtract(a).add(o),r.max._subtract(a).subtract(o));if(!l.contains(s)){var c=I((Math.max(l.max.x,s.x)-l.max.x)/(r.max.x-l.max.x)-(Math.min(l.min.x,s.x)-l.min.x)/(r.min.x-l.min.x),(Math.max(l.max.y,s.y)-l.max.y)/(r.max.y-l.max.y)-(Math.min(l.min.y,s.y)-l.min.y)/(r.min.y-l.min.y)).multiplyBy(i);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),Ce(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=P(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(M(this._panRequest),this._panRequest=P(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=Ee(e._icon),o=e._map.layerPointToLatLng(i);n&&Ce(n,i),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){M(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),ii=Kn.extend({options:{icon:new ei,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){p(this,e),this._latlng=R(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=R(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),we(n,e),t.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ze(n,"focus",this._panOnFocus,this);var o=t.icon.createShadow(this._shadow),s=!1;o!==this._shadow&&(this._removeShadow(),s=!0),o&&(we(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&s&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Re(this._icon,"focus",this._panOnFocus,this),_e(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&_e(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Ce(this._icon,t),this._shadow&&Ce(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(we(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ni)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ni(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Te(this._icon,t),this._shadow&&Te(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,n=e.iconSize?I(e.iconSize):I(0,0),i=e.iconAnchor?I(e.iconAnchor):I(0,0);t.panInside(this._latlng,{paddingTopLeft:i,paddingBottomRight:n.subtract(i)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function oi(t,e){return new ii(t,e)}var si=Kn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return p(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ri=si.extend({options:{fill:!0,radius:10},initialize:function(t,e){p(this,e),this._latlng=R(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=R(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return si.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new N(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ai(t,e){return new ri(t,e)}var li=ri.extend({initialize:function(t,e,i){if("number"==typeof e&&(e=n({},i,{radius:e})),p(this,e),this._latlng=R(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new D(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:si.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===W.distance){var o=Math.PI/180,s=this._mRadius/W.R/o,r=n.project([e+s,t]),a=n.project([e-s,t]),l=r.add(a).divideBy(2),c=n.unproject(l).lat,h=Math.acos((Math.cos(s*o)-Math.sin(e*o)*Math.sin(c*o))/(Math.cos(e*o)*Math.cos(c*o)))/o;(isNaN(h)||0===h)&&(h=s/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(h)?0:l.x-n.project([c,t-h]).x,this._radiusY=l.y-r.y}else{var u=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(u).x}this._updateBounds()}});function ci(t,e,n){return new li(t,e,n)}var hi=si.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){p(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,o=null,s=Bn,r=0,a=this._parts.length;r<a;r++)for(var l=this._parts[r],c=1,h=l.length;c<h;c++){var u=s(t,e=l[c-1],n=l[c],!0);u<i&&(i=u,o=s(t,e,n))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return jn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=R(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new D,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Dn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=Dn(t),i=0,o=t.length;i<o;i++)n?(e[i]=R(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new N;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new O(t,t);this._rawPxBounds&&(this._pxBounds=new N([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,n){var i,o,s=t[0]instanceof j,r=t.length;if(s){for(o=[],i=0;i<r;i++)o[i]=this._map.latLngToLayerPoint(t[i]),n.extend(o[i]);e.push(o)}else for(i=0;i<r;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,i,o,s,r,a,l=this._parts;for(e=0,i=0,o=this._rings.length;e<o;e++)for(n=0,s=(a=this._rings[e]).length;n<s-1;n++)(r=On(a[n],a[n+1],t,n,!0))&&(l[i]=l[i]||[],l[i].push(r[0]),r[1]===a[n+1]&&n!==s-2||(l[i].push(r[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=Mn(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,o,s,r,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,s=this._parts.length;n<s;n++)for(i=0,o=(r=(a=this._parts[n]).length)-1;i<r;o=i++)if((e||0!==i)&&kn(t,a[o],a[i])<=l)return!0;return!1}});function ui(t,e){return new hi(t,e)}hi._flat=Zn;var di=hi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $n(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=hi.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof j&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){hi.prototype._setLatLngs.call(this,t),Dn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new O(e,e);if(t=new N(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,o=0,s=this._rings.length;o<s;o++)(i=xn(this._rings[o],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,o,s,r,a,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,a=this._parts.length;o<a;o++)for(s=0,r=(l=(e=this._parts[o]).length)-1;s<l;r=s++)n=e[s],i=e[r],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(c=!c);return c||hi.prototype._containsPoint.call(this,t,!0)}});function pi(t,e){return new di(t,e)}var mi=Xn.extend({initialize:function(t,e){p(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,o=g(t)?t:t.features;if(o){for(e=0,n=o.length;e<n;e++)((i=o[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var s=this.options;if(s.filter&&!s.filter(t))return this;var r=fi(t,s);return r?(r.feature=xi(t),r.defaultOptions=r.options,this.resetStyle(r),s.onEachFeature&&s.onEachFeature(t,r),this.addLayer(r)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function fi(t,e){var n,i,o,s,r="Feature"===t.type?t.geometry:t,a=r?r.coordinates:null,l=[],c=e&&e.pointToLayer,h=e&&e.coordsToLatLng||gi;if(!a&&!r)return null;switch(r.type){case"Point":return _i(c,t,n=h(a),e);case"MultiPoint":for(o=0,s=a.length;o<s;o++)n=h(a[o]),l.push(_i(c,t,n,e));return new Xn(l);case"LineString":case"MultiLineString":return i=vi(a,"LineString"===r.type?0:1,h),new hi(i,e);case"Polygon":case"MultiPolygon":return i=vi(a,"Polygon"===r.type?1:2,h),new di(i,e);case"GeometryCollection":for(o=0,s=r.geometries.length;o<s;o++){var u=fi({geometry:r.geometries[o],type:"Feature",properties:t.properties},e);u&&l.push(u)}return new Xn(l);case"FeatureCollection":for(o=0,s=r.features.length;o<s;o++){var d=fi(r.features[o],e);d&&l.push(d)}return new Xn(l);default:throw new Error("Invalid GeoJSON object.")}}function _i(t,e,n,i){return t?t(e,n):new ii(n,i&&i.markersInheritOptions&&i)}function gi(t){return new j(t[1],t[0],t[2])}function vi(t,e,n){for(var i,o=[],s=0,r=t.length;s<r;s++)i=e?vi(t[s],e-1,n):(n||gi)(t[s]),o.push(i);return o}function yi(t,e){return void 0!==(t=R(t)).alt?[h(t.lng,e),h(t.lat,e),h(t.alt,e)]:[h(t.lng,e),h(t.lat,e)]}function bi(t,e,n,i){for(var o=[],s=0,r=t.length;s<r;s++)o.push(e?bi(t[s],Dn(t[s])?0:e-1,n,i):yi(t[s],i));return!e&&n&&o.length>0&&o.push(o[0].slice()),o}function wi(t,e){return t.feature?n({},t.feature,{geometry:e}):xi(e)}function xi(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var $i={toGeoJSON:function(t){return wi(this,{type:"Point",coordinates:yi(this.getLatLng(),t)})}};function Li(t,e){return new mi(t,e)}ii.include($i),li.include($i),ri.include($i),hi.include({toGeoJSON:function(t){var e=!Dn(this._latlngs);return wi(this,{type:(e?"Multi":"")+"LineString",coordinates:bi(this._latlngs,e?1:0,!1,t)})}}),di.include({toGeoJSON:function(t){var e=!Dn(this._latlngs),n=e&&!Dn(this._latlngs[0]),i=bi(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),wi(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Gn.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),wi(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer((function(e){if(e.toGeoJSON){var o=e.toGeoJSON(t);if(n)i.push(o.geometry);else{var s=xi(o);"FeatureCollection"===s.type?i.push.apply(i,s.features):i.push(s)}}})),n?wi(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var Ti=Li,Pi=Kn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=Z(e),p(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(we(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){_e(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ve(this._image),this},bringToBack:function(){return this._map&&ye(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=Z(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:fe("img");we(e,"leaflet-image-layer"),this._zoomAnimated&&we(e,"leaflet-zoom-animated"),this.options.className&&we(e,this.options.className),e.onselectstart=c,e.onmousemove=c,e.onload=o(this.fire,this,"load"),e.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ke(this._image,n,e)},_reset:function(){var t=this._image,e=new N(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();Ce(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){Te(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Mi=function(t,e,n){return new Pi(t,e,n)},ki=Pi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:fe("video");if(we(e,"leaflet-image-layer"),this._zoomAnimated&&we(e,"leaflet-zoom-animated"),this.options.className&&we(e,this.options.className),e.onselectstart=c,e.onmousemove=c,e.onloadeddata=o(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],s=0;s<n.length;s++)i.push(n[s].src);this._url=n.length>0?i:[e.src]}else{g(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var r=0;r<this._url.length;r++){var a=fe("source");a.src=this._url[r],e.appendChild(a)}}}});function Ci(t,e,n){return new ki(t,e,n)}var Ei=Pi.extend({_initImage:function(){var t=this._image=this._url;we(t,"leaflet-image-layer"),this._zoomAnimated&&we(t,"leaflet-zoom-animated"),this.options.className&&we(t,this.options.className),t.onselectstart=c,t.onmousemove=c}});function Ai(t,e,n){return new Ei(t,e,n)}var Si=Kn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof j||g(t))?(this._latlng=R(t),p(this,e)):(p(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return(t=arguments.length?t:this._source._map).hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Te(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Te(this._container,1),this.bringToFront(),this.options.interactive&&(we(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Te(this._container,0),this._removeTimeout=setTimeout(o(_e,void 0,this._container),200)):_e(this._container),this.options.interactive&&(xe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=R(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ve(this._container),this},bringToBack:function(){return this._map&&ye(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof Xn){e=null;var n=this._source._layers;for(var i in n)if(n[i]._map){e=n[i];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else{if(!e.getBounds)throw new Error("Unable to get source layer LatLng.");t=e.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=I(this.options.offset),n=this._getAnchor();this._zoomAnimated?Ce(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}});sn.include({_initOverlay:function(t,e,n,i){var o=e;return o instanceof t||(o=new t(i).setContent(e)),n&&o.setLatLng(n),o}}),Kn.include({_initOverlay:function(t,e,n,i){var o=n;return o instanceof t?(p(o,i),o._source=this):(o=e&&!i?e:new t(i,this)).setContent(n),o}});var Oi=Si.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return!(t=arguments.length?t:this._source._map).hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Si.prototype.openOn.call(this,t)},onAdd:function(t){Si.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof si||this._source.on("preclick",Ue))},onRemove:function(t){Si.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof si||this._source.off("preclick",Ue))},getEvents:function(){var t=Si.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=fe("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=fe("div",t+"-content-wrapper",e);if(this._contentNode=fe("div",t+"-content",n),Ke(e),Ve(this._contentNode),Ze(e,"contextmenu",Ue),this._tipContainer=fe("div",t+"-tip-container",e),this._tip=fe("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=fe("a",t+"-close-button",e);i.setAttribute("role","button"),i.setAttribute("aria-label","Close popup"),i.href="#close",i.innerHTML='<span aria-hidden="true">&#215;</span>',Ze(i,"click",(function(t){Ge(t),this.close()}),this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,o=this.options.maxHeight,s="leaflet-popup-scrolled";o&&i>o?(e.height=o+"px",we(t,s)):xe(t,s),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();Ce(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var t=this._map,e=parseInt(me(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,o=new O(this._containerLeft,-n-this._containerBottom);o._add(Ee(this._container));var s=t.layerPointToContainerPoint(o),r=I(this.options.autoPanPadding),a=I(this.options.autoPanPaddingTopLeft||r),l=I(this.options.autoPanPaddingBottomRight||r),c=t.getSize(),h=0,u=0;s.x+i+l.x>c.x&&(h=s.x+i-c.x+l.x),s.x-h-a.x<0&&(h=s.x-a.x),s.y+n+l.y>c.y&&(u=s.y+n-c.y+l.y),s.y-u-a.y<0&&(u=s.y-a.y),(h||u)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([h,u]))}},_getAnchor:function(){return I(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),zi=function(t,e){return new Oi(t,e)};sn.mergeOptions({closePopupOnClick:!0}),sn.include({openPopup:function(t,e,n){return this._initOverlay(Oi,t,e,n).openOn(this),this},closePopup:function(t){return(t=arguments.length?t:this._popup)&&t.close(),this}}),Kn.include({bindPopup:function(t,e){return this._popup=this._initOverlay(Oi,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Xn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(this._popup&&this._map){Ye(t);var e=t.layer||t.target;this._popup._source!==e||e instanceof si?(this._popup._source=e,this.openPopup(t.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Ii=Si.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Si.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Si.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Si.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=fe("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+r(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,i=this._map,o=this._container,s=i.latLngToContainerPoint(i.getCenter()),r=i.layerPointToContainerPoint(t),a=this.options.direction,l=o.offsetWidth,c=o.offsetHeight,h=I(this.options.offset),u=this._getAnchor();"top"===a?(e=l/2,n=c):"bottom"===a?(e=l/2,n=0):"center"===a?(e=l/2,n=c/2):"right"===a?(e=0,n=c/2):"left"===a?(e=l,n=c/2):r.x<s.x?(a="right",e=0,n=c/2):(a="left",e=l+2*(h.x+u.x),n=c/2),t=t.subtract(I(e,n,!0)).add(h).add(u),xe(o,"leaflet-tooltip-right"),xe(o,"leaflet-tooltip-left"),xe(o,"leaflet-tooltip-top"),xe(o,"leaflet-tooltip-bottom"),we(o,"leaflet-tooltip-"+a),Ce(o,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Te(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return I(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ni=function(t,e){return new Ii(t,e)};sn.include({openTooltip:function(t,e,n){return this._initOverlay(Ii,t,e,n).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Kn.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ii,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Xn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e="function"==typeof t.getElement&&t.getElement();e&&(Ze(e,"focus",(function(){this._tooltip._source=t,this.openTooltip()}),this),Ze(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e="function"==typeof t.getElement&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",(function(){e._openOnceFlag=!1,e._openTooltip(t)}))}else this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Bi=Qn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(ge(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=I(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function Di(t){return new Bi(t)}Qn.Default=ei;var Zi=Kn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Dt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){p(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),_e(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ve(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ye(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof O?t:new O(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),o=0,s=n.length;o<s;o++)e=n[o].style.zIndex,n[o]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Dt.ielt9){Te(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var o=this._tiles[i];if(o.current&&o.loaded){var s=Math.min(1,(t-o.loaded)/200);Te(o.el,s),s<1?e=!0:(o.active?n=!0:this._onOpaqueTile(o),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(M(this._fadeFrame),this._fadeFrame=P(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=fe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(_e(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],o=this._map;return i||((i=this._levels[t]={}).el=fe("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,o.getCenter(),o.getZoom()),c(i.el.offsetWidth),this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)_e(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var o=Math.floor(t/2),s=Math.floor(e/2),r=n-1,a=new O(+o,+s);a.z=+r;var l=this._tileCoordsToKey(a),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),r>i&&this._retainParent(o,s,r,i))},_retainChildren:function(t,e,n,i){for(var o=2*t;o<2*t+2;o++)for(var s=2*e;s<2*e+2;s++){var r=new O(o,s);r.z=n+1;var a=this._tileCoordsToKey(r),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(o,s,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var o=Math.round(e);o=void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom?void 0:this._clampZoom(o);var s=this.options.updateWhenZooming&&o!==this._tileZoom;i&&!s||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),o=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();Dt.any3d?ke(t.el,o,i):Ce(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),o=e.project(t,this._tileZoom).floor(),s=e.getSize().divideBy(2*i);return new N(o.subtract(s),o.add(s))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(i),s=o.getCenter(),r=[],a=this.options.keepBuffer,l=new N(o.getBottomLeft().subtract([a,-a]),o.getTopRight().add([a,-a]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var h=this._tiles[c].coords;h.z===this._tileZoom&&l.contains(new O(h.x,h.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var u=o.min.y;u<=o.max.y;u++)for(var d=o.min.x;d<=o.max.x;d++){var p=new O(d,u);if(p.z=this._tileZoom,this._isValidTile(p)){var m=this._tiles[this._tileCoordsToKey(p)];m?m.current=!0:r.push(p)}}if(r.sort((function(t,e){return t.distanceTo(s)-e.distanceTo(s)})),0!==r.length){this._loading||(this._loading=!0,this.fire("loading"));var f=document.createDocumentFragment();for(d=0;d<r.length;d++)this._addTile(r[d],f);this._level.el.appendChild(f)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return Z(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),o=i.add(n);return[e.unproject(i,t.z),e.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new D(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new O(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(_e(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){we(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=c,t.onmousemove=c,Dt.ielt9&&this.options.opacity<1&&Te(t,this.options.opacity)},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),s=this.createTile(this._wrapCoords(t),o(this._tileReady,this,t));this._initTile(s),this.createTile.length<2&&P(o(this._tileReady,this,t,null,s)),Ce(s,n),this._tiles[i]={el:s,coords:t,current:!0},e.appendChild(s),this.fire("tileloadstart",{tile:s,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(Te(n.el,0),M(this._fadeFrame),this._fadeFrame=P(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(we(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Dt.ielt9||!this._map._fadeAnimated?P(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new O(this._wrapX?l(t.x,this._wrapX):t.x,this._wrapY?l(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new N(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function ji(t){return new Zi(t)}var Ri=Zi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,(e=p(this,e)).detectRetina&&Dt.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Ze(n,"load",o(this._tileOnLoad,this,e,n)),Ze(n,"error",o(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Dt.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return _(this._url,n(e,this.options))},_tileOnLoad:function(t,e){Dt.ielt9?setTimeout(o(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=c,e.onerror=c,!e.complete)){e.src=y;var n=this._tiles[t].coords;_e(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:n})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",y),Zi.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==y))return Zi.prototype._tileReady.call(this,t,e,n)}});function Hi(t,e){return new Ri(t,e)}var Fi=Ri.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=n({},this.defaultWmsParams);for(var o in e)o in this.options||(i[o]=e[o]);var s=(e=p(this,e)).detectRetina&&Dt.retina?2:1,r=this.getTileSize();i.width=r.x*s,i.height=r.y*s,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Ri.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=B(n.project(e[0]),n.project(e[1])),o=i.min,s=i.max,r=(this._wmsVersion>=1.3&&this._crs===Un?[o.y,o.x,s.y,s.x]:[o.x,o.y,s.x,s.y]).join(","),a=Ri.prototype.getTileUrl.call(this,t);return a+m(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+r},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});function Wi(t,e){return new Fi(t,e)}Ri.WMS=Fi,Hi.wms=Wi;var qi=Kn.extend({options:{padding:.1},initialize:function(t){p(this,t),r(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),we(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),s=i.multiplyBy(-n).add(o).subtract(this._map._getNewPixelOrigin(t,e));Dt.any3d?ke(this._container,s,n):Ce(this._container,s)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new N(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ui=qi.extend({options:{tolerance:0},getEvents:function(){var t=qi.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Ze(t,"mousemove",this._onMouseMove,this),Ze(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ze(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){M(this._redrawRequest),delete this._ctx,_e(this._container),Re(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){qi.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=Dt.retina?2:1;Ce(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Dt.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){qi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[r(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[r(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,n,i=t.options.dashArray.split(/[, ]+/),o=[];for(n=0;n<i.length;n++){if(e=Number(i[n]),isNaN(e))return;o.push(e)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||P(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new N,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,o,s,r=t._parts,a=r.length,l=this._ctx;if(a){for(l.beginPath(),n=0;n<a;n++){for(i=0,o=r[n].length;i<o;i++)s=r[n][i],l[i?"lineTo":"moveTo"](s.x,s.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||i)/i;1!==o&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(e.x,e.y/o,i,0,2*Math.PI,!1),1!==o&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(i)&&("click"!==t.type&&"preclick"!==t.type||!this._map._draggableMoved(e))&&(n=e);this._fireEvent(!!n&&[n],t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(xe(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,i,s=this._drawFirst;s;s=s.next)(n=s.layer).options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(we(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(o((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function Vi(t){return Dt.canvas?new Ui(t):null}var Ki=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Gi={_initContainer:function(){this._container=fe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qi.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Ki("shape");we(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Ki("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[r(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;_e(e),t.removeInteractiveTarget(e),delete this._layers[r(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,o=t._container;o.stroked=!!i.stroke,o.filled=!!i.fill,i.stroke?(e||(e=t._stroke=Ki("stroke")),o.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=g(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(o.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=Ki("fill")),o.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(o.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ve(t._container)},_bringToBack:function(t){ye(t._container)}},Yi=Dt.vml?Ki:X,Xi=qi.extend({_initContainer:function(){this._container=Yi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Yi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){_e(this._container),Re(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){qi.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),Ce(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Yi("path");t.options.className&&we(e,t.options.className),t.options.interactive&&we(e,"leaflet-interactive"),this._updateStyle(t),this._layers[r(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){_e(t._path),t.removeInteractiveTarget(t._path),delete this._layers[r(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,J(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ve(t._path)},_bringToBack:function(t){ye(t._path)}});function Ji(t){return Dt.svg||Dt.vml?new Xi(t):null}Dt.vml&&Xi.include(Gi),sn.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Vi(t)||Ji(t)}});var Qi=di.extend({initialize:function(t,e){di.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=Z(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function to(t,e){return new Qi(t,e)}Xi.create=Yi,Xi.pointsToPath=J,mi.geometryToLayer=fi,mi.coordsToLatLng=gi,mi.coordsToLatLngs=vi,mi.latLngToCoords=yi,mi.latLngsToCoords=bi,mi.getFeature=wi,mi.asFeature=xi,sn.mergeOptions({boxZoom:!0});var eo=vn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Ze(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Re(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){_e(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),se(),Se(),this._startPoint=this._map.mouseEventToContainerPoint(t),Ze(document,{contextmenu:Ye,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=fe("div","leaflet-zoom-box",this._container),we(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new N(this._point,this._startPoint),n=e.getSize();Ce(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(_e(this._box),xe(this._container,"leaflet-crosshair")),re(),Oe(),Re(document,{contextmenu:Ye,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var e=new D(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});sn.addInitHook("addHandler","boxZoom",eo),sn.mergeOptions({doubleClickZoom:!0});var no=vn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,o=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}});sn.addInitHook("addHandler","doubleClickZoom",no),sn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var io=vn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new wn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}we(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){xe(this._map._container,"leaflet-grab"),xe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=Z(this._map.options.maxBounds);this._offsetLimit=B(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-e+n)%t+e-n,s=(i+e+n)%t-e-n,r=Math.abs(o+n)<Math.abs(s+n)?o:s;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=r},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),s=(this._lastTime-this._times[0])/1e3,r=n.easeLinearity,a=o.multiplyBy(r/s),l=a.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),h=a.multiplyBy(c/l),u=c/(n.inertiaDeceleration*r),d=h.multiplyBy(-u/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),P((function(){e.panBy(d,{duration:u,easeLinearity:r,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});sn.addInitHook("addHandler","dragging",io),sn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var oo=vn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Ze(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Re(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},o=this.keyCodes;for(e=0,n=o.left.length;e<n;e++)i[o.left[e]]=[-1*t,0];for(e=0,n=o.right.length;e<n;e++)i[o.right[e]]=[t,0];for(e=0,n=o.down.length;e<n;e++)i[o.down[e]]=[0,t];for(e=0,n=o.up.length;e<n;e++)i[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},o=this.keyCodes;for(e=0,n=o.zoomIn.length;e<n;e++)i[o.zoomIn[e]]=t;for(e=0,n=o.zoomOut.length;e<n;e++)i[o.zoomOut[e]]=-t},_addHooks:function(){Ze(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Re(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress)if(e=this._panKeys[n],t.shiftKey&&(e=I(e).multiplyBy(3)),i.options.maxBounds&&(e=i._limitOffset(I(e),i.options.maxBounds)),i.options.worldCopyJump){var o=i.wrapLatLng(i.unproject(i.project(i.getCenter()).add(e)));i.panTo(o)}else i.panBy(e)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Ye(t)}}});sn.addInitHook("addHandler","keyboard",oo),sn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var so=vn.extend({addHooks:function(){Ze(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Re(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=tn(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),i),Ye(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,s=n?Math.ceil(o/n)*n:o,r=t._limitZoom(e+(this._delta>0?s:-s))-e;this._delta=0,this._startTime=null,r&&("center"===t.options.scrollWheelZoom?t.setZoom(e+r):t.setZoomAround(this._lastMousePos,e+r))}});sn.addInitHook("addHandler","scrollWheelZoom",so);var ro=600;sn.mergeOptions({tapHold:Dt.touchNative&&Dt.safari&&Dt.mobile,tapTolerance:15});var ao=vn.extend({addHooks:function(){Ze(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Re(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),1===t.touches.length){var e=t.touches[0];this._startPos=this._newPos=new O(e.clientX,e.clientY),this._holdTimeout=setTimeout(o((function(){this._cancel(),this._isTapValid()&&(Ze(document,"touchend",Ge),Ze(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))}),this),ro),Ze(document,"touchend touchcancel contextmenu",this._cancel,this),Ze(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Re(document,"touchend",Ge),Re(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Re(document,"touchend touchcancel contextmenu",this._cancel,this),Re(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new O(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var n=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});n._simulated=!0,e.target.dispatchEvent(n)}});sn.addInitHook("addHandler","tapHold",ao),sn.mergeOptions({touchZoom:Dt.touch,bounceAtZoomLimits:!0});var lo=vn.extend({addHooks:function(){we(this._map._container,"leaflet-touch-zoom"),Ze(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){xe(this._map._container,"leaflet-touch-zoom"),Re(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Ze(document,"touchmove",this._onTouchMove,this),Ze(document,"touchend touchcancel",this._onTouchEnd,this),Ge(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),s=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(s,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&s<1||this._zoom>e.getMaxZoom()&&s>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===s)return}else{var r=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===s&&0===r.x&&0===r.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(r),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),M(this._animRequest);var a=o(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=P(a,this,!0),Ge(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,M(this._animRequest),Re(document,"touchmove",this._onTouchMove,this),Re(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});sn.addInitHook("addHandler","touchZoom",lo),sn.BoxZoom=eo,sn.DoubleClickZoom=no,sn.Drag=io,sn.Keyboard=oo,sn.ScrollWheelZoom=so,sn.TapHold=ao,sn.TouchZoom=lo,t.Bounds=N,t.Browser=Dt,t.CRS=F,t.Canvas=Ui,t.Circle=li,t.CircleMarker=ri,t.Class=C,t.Control=an,t.DivIcon=Bi,t.DivOverlay=Si,t.DomEvent=nn,t.DomUtil=De,t.Draggable=wn,t.Evented=S,t.FeatureGroup=Xn,t.GeoJSON=mi,t.GridLayer=Zi,t.Handler=vn,t.Icon=Qn,t.ImageOverlay=Pi,t.LatLng=j,t.LatLngBounds=D,t.Layer=Kn,t.LayerGroup=Gn,t.LineUtil=Rn,t.Map=sn,t.Marker=ii,t.Mixin=yn,t.Path=si,t.Point=O,t.PolyUtil=Pn,t.Polygon=di,t.Polyline=hi,t.Popup=Oi,t.PosAnimation=on,t.Projection=Wn,t.Rectangle=Qi,t.Renderer=qi,t.SVG=Xi,t.SVGOverlay=Ei,t.TileLayer=Ri,t.Tooltip=Ii,t.Transformation=V,t.Util=k,t.VideoOverlay=ki,t.bind=o,t.bounds=B,t.canvas=Vi,t.circle=ci,t.circleMarker=ai,t.control=ln,t.divIcon=Di,t.extend=n,t.featureGroup=Jn,t.geoJSON=Li,t.geoJson=Ti,t.gridLayer=ji,t.icon=ti,t.imageOverlay=Mi,t.latLng=R,t.latLngBounds=Z,t.layerGroup=Yn,t.map=rn,t.marker=oi,t.point=I,t.polygon=pi,t.polyline=ui,t.popup=zi,t.rectangle=to,t.setOptions=p,t.stamp=r,t.svg=Ji,t.svgOverlay=Ai,t.tileLayer=Hi,t.tooltip=Ni,t.transformation=K,t.version=e,t.videoOverlay=Ci;var co=window.L;t.noConflict=function(){return window.L=co,this},window.L=t})(Je.exports);var Qe=Je.exports;function tn(e){let n,i,o,s,r,a,l,c,h,u,d,p,m,f,_,b,L,T,M,k,A,S,O,z,I,N,B,D;return{c(){n=w("div"),i=w("div"),o=x("map center: "),s=x(e[0]),r=$(),a=w("a"),l=x("view on osm.org"),c=$(),h=w("br"),u=x("\n    map zoom: "),d=x(e[1]),p=$(),m=w("br"),f=x("\n    viewbox: "),_=x(e[2]),b=$(),L=w("br"),T=x("\n    last click: "),M=x(e[4]),k=$(),A=w("br"),S=x("\n    mouse position: "),O=x(e[5]),z=$(),I=w("div"),N=w("a"),N.textContent="hide",C(a,"target","_blank"),C(a,"rel","noreferrer"),C(a,"href",e[3]),C(i,"id","map-position-inner"),C(N,"href","#hide"),C(I,"id","map-position-close"),C(I,"class","svelte-1k961ph"),C(n,"id","map-position"),C(n,"class","svelte-1k961ph")},m(t,e){v(t,n,e),g(n,i),g(i,o),g(i,s),g(i,r),g(i,a),g(a,l),g(i,c),g(i,h),g(i,u),g(i,d),g(i,p),g(i,m),g(i,f),g(i,_),g(i,b),g(i,L),g(i,T),g(i,M),g(i,k),g(i,A),g(i,S),g(i,O),g(n,z),g(n,I),g(I,N),B||(D=P(N,"click",en),B=!0)},p(t,[e]){1&e&&E(s,t[0]),8&e&&C(a,"href",t[3]),2&e&&E(d,t[1]),4&e&&E(_,t[2]),16&e&&E(M,t[4]),32&e&&E(O,t[5])},i:t,o:t,d(t){t&&y(n),B=!1,D()}}}function en(){document.getElementById("map-position").style.display="none",document.getElementById("show-map-position").style.display="block"}function nn(t,e,n){let i,o,s,r,a,l,c;function h(t,e){n(0,o=t.getCenter().lat.toFixed(5)+","+t.getCenter().lng.toFixed(5)),n(3,a=function(t){return"https://openstreetmap.org/#map="+t.getZoom()+"/"+t.getCenter().lat.toFixed(5)+"/"+t.getCenter().lng.toFixed(5)}(t)),n(1,s=t.getZoom()),n(2,r=function(t){var e=t.getBounds(),n=e.getWest(),i=e.getEast();return i-n>=360&&(n=t.getCenter().lng-179.999,i=t.getCenter().lng+179.999),i=L.latLng(77,i).wrap().lng,[(n=L.latLng(77,n).wrap().lng).toFixed(5),e.getNorth().toFixed(5),i.toFixed(5),e.getSouth().toFixed(5)].join(",")}(t)),n(5,c="-"),e&&n(5,c=[e.lat.toFixed(5),e.lng.toFixed(5)].join(",")),i&&n(4,l=[i.lat.toFixed(5),i.lng.toFixed(5)].join(","))}return Tt.subscribe((t=>{t&&(t.on("move",(function(){h(t)})),t.on("mousemove",(function(e){h(t,e.latlng)})),t.on("click",(function(e){i=e.latlng,h(t)})),t.on("load",(function(){h(t)})))})),[o,s,r,a,l,c]}!function(t,e){!function(e,n){t.exports=e(Qe),void 0!==n&&n.L&&(n.L.Control.MiniMap=e(L),n.L.control.minimap=function(t,e){return new n.L.Control.MiniMap(t,e)})}((function(t){var e=t.Control.extend({includes:t.Evented?t.Evented.prototype:t.Mixin.Events,options:{position:"bottomright",toggleDisplay:!1,zoomLevelOffset:-5,zoomLevelFixed:!1,centerFixed:!1,zoomAnimation:!1,autoToggleDisplay:!1,minimized:!1,width:150,height:150,collapsedWidth:19,collapsedHeight:19,aimingRectOptions:{color:"#ff7800",weight:1,clickable:!1},shadowRectOptions:{color:"#000000",weight:1,clickable:!1,opacity:0,fillOpacity:0},strings:{hideText:"Hide MiniMap",showText:"Show MiniMap"},mapOptions:{}},initialize:function(e,n){t.Util.setOptions(this,n),this.options.aimingRectOptions.clickable=!1,this.options.shadowRectOptions.clickable=!1,this._layer=e},onAdd:function(e){this._mainMap=e,this._container=t.DomUtil.create("div","leaflet-control-minimap"),this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",t.DomEvent.disableClickPropagation(this._container),t.DomEvent.on(this._container,"mousewheel",t.DomEvent.stopPropagation);var n={attributionControl:!1,dragging:!this.options.centerFixed,zoomControl:!1,zoomAnimation:this.options.zoomAnimation,autoToggleDisplay:this.options.autoToggleDisplay,touchZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),scrollWheelZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),doubleClickZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),boxZoom:!this._isZoomLevelFixed(),crs:e.options.crs};return n=t.Util.extend(this.options.mapOptions,n),this._miniMap=new t.Map(this._container,n),this._miniMap.addLayer(this._layer),this._mainMapMoving=!1,this._miniMapMoving=!1,this._userToggledDisplay=!1,this._minimized=!1,this.options.toggleDisplay&&this._addToggleButton(),this._miniMap.whenReady(t.Util.bind((function(){this._aimingRect=t.rectangle(this._mainMap.getBounds(),this.options.aimingRectOptions).addTo(this._miniMap),this._shadowRect=t.rectangle(this._mainMap.getBounds(),this.options.shadowRectOptions).addTo(this._miniMap),this._mainMap.on("moveend",this._onMainMapMoved,this),this._mainMap.on("move",this._onMainMapMoving,this),this._miniMap.on("movestart",this._onMiniMapMoveStarted,this),this._miniMap.on("move",this._onMiniMapMoving,this),this._miniMap.on("moveend",this._onMiniMapMoved,this)}),this)),this._container},addTo:function(e){t.Control.prototype.addTo.call(this,e);var n=this.options.centerFixed||this._mainMap.getCenter();return this._miniMap.setView(n,this._decideZoom(!0)),this._setDisplay(this.options.minimized),this},onRemove:function(t){this._mainMap.off("moveend",this._onMainMapMoved,this),this._mainMap.off("move",this._onMainMapMoving,this),this._miniMap.off("moveend",this._onMiniMapMoved,this),this._miniMap.removeLayer(this._layer)},changeLayer:function(t){this._miniMap.removeLayer(this._layer),this._layer=t,this._miniMap.addLayer(this._layer)},_addToggleButton:function(){this._toggleDisplayButton=this.options.toggleDisplay?this._createButton("",this._toggleButtonInitialTitleText(),"leaflet-control-minimap-toggle-display leaflet-control-minimap-toggle-display-"+this.options.position,this._container,this._toggleDisplayButtonClicked,this):void 0,this._toggleDisplayButton.style.width=this.options.collapsedWidth+"px",this._toggleDisplayButton.style.height=this.options.collapsedHeight+"px"},_toggleButtonInitialTitleText:function(){return this.options.minimized?this.options.strings.showText:this.options.strings.hideText},_createButton:function(e,n,i,o,s,r){var a=t.DomUtil.create("a",i,o);a.innerHTML=e,a.href="#",a.title=n;var l=t.DomEvent.stopPropagation;return t.DomEvent.on(a,"click",l).on(a,"mousedown",l).on(a,"dblclick",l).on(a,"click",t.DomEvent.preventDefault).on(a,"click",s,r),a},_toggleDisplayButtonClicked:function(){this._userToggledDisplay=!0,this._minimized?this._restore():this._minimize()},_setDisplay:function(t){t!==this._minimized&&(this._minimized?this._restore():this._minimize())},_minimize:function(){this.options.toggleDisplay?(this._container.style.width=this.options.collapsedWidth+"px",this._container.style.height=this.options.collapsedHeight+"px",this._toggleDisplayButton.className+=" minimized-"+this.options.position,this._toggleDisplayButton.title=this.options.strings.showText):this._container.style.display="none",this._minimized=!0,this._onToggle()},_restore:function(){this.options.toggleDisplay?(this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",this._toggleDisplayButton.className=this._toggleDisplayButton.className.replace("minimized-"+this.options.position,""),this._toggleDisplayButton.title=this.options.strings.hideText):this._container.style.display="block",this._minimized=!1,this._onToggle()},_onMainMapMoved:function(t){if(this._miniMapMoving)this._miniMapMoving=!1;else{var e=this.options.centerFixed||this._mainMap.getCenter();this._mainMapMoving=!0,this._miniMap.setView(e,this._decideZoom(!0)),this._setDisplay(this._decideMinimized())}this._aimingRect.setBounds(this._mainMap.getBounds())},_onMainMapMoving:function(t){this._aimingRect.setBounds(this._mainMap.getBounds())},_onMiniMapMoveStarted:function(t){if(!this.options.centerFixed){var e=this._aimingRect.getBounds(),n=this._miniMap.latLngToContainerPoint(e.getSouthWest()),i=this._miniMap.latLngToContainerPoint(e.getNorthEast());this._lastAimingRectPosition={sw:n,ne:i}}},_onMiniMapMoving:function(e){this.options.centerFixed||!this._mainMapMoving&&this._lastAimingRectPosition&&(this._shadowRect.setBounds(new t.LatLngBounds(this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.sw),this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.ne))),this._shadowRect.setStyle({opacity:1,fillOpacity:.3}))},_onMiniMapMoved:function(t){this._mainMapMoving?this._mainMapMoving=!1:(this._miniMapMoving=!0,this._mainMap.setView(this._miniMap.getCenter(),this._decideZoom(!1)),this._shadowRect.setStyle({opacity:0,fillOpacity:0}))},_isZoomLevelFixed:function(){var t=this.options.zoomLevelFixed;return this._isDefined(t)&&this._isInteger(t)},_decideZoom:function(t){if(this._isZoomLevelFixed())return t?this.options.zoomLevelFixed:this._mainMap.getZoom();if(t)return this._mainMap.getZoom()+this.options.zoomLevelOffset;var e,n=this._miniMap.getZoom()-this._mainMap.getZoom(),i=this._miniMap.getZoom()-this.options.zoomLevelOffset;return n>this.options.zoomLevelOffset&&this._mainMap.getZoom()<this._miniMap.getMinZoom()-this.options.zoomLevelOffset?this._miniMap.getZoom()>this._lastMiniMapZoom?(e=this._mainMap.getZoom()+1,this._miniMap.setZoom(this._miniMap.getZoom()-1)):e=this._mainMap.getZoom():e=i,this._lastMiniMapZoom=this._miniMap.getZoom(),e},_decideMinimized:function(){return this._userToggledDisplay?this._minimized:this.options.autoToggleDisplay?!!this._mainMap.getBounds().contains(this._miniMap.getBounds()):this._minimized},_isInteger:function(t){return"number"==typeof t},_isDefined:function(t){return void 0!==t},_onToggle:function(){t.Util.requestAnimFrame((function(){t.DomEvent.on(this._container,"transitionend",this._fireToggleEvents,this),t.Browser.any3d||t.Util.requestAnimFrame(this._fireToggleEvents,this)}),this)},_fireToggleEvents:function(){t.DomEvent.off(this._container,"transitionend",this._fireToggleEvents,this);var e={minimized:this._minimized};this.fire(this._minimized?"minimize":"restore",e),this.fire("toggle",e)}});return t.Map.mergeOptions({miniMapControl:!1}),t.Map.addInitHook((function(){this.options.miniMapControl&&(this.miniMapControl=(new e).addTo(this))})),e}),window)}({exports:{}});class on extends lt{constructor(t){super(),at(this,t,nn,tn,s,{})}}function sn(e){let n,s,r,a,l,c,h,u;return n=new on({}),{c(){it(n.$$.fragment),s=$(),r=w("div"),a=$(),l=w("button"),l.textContent="show map bounds",C(r,"id","map"),C(r,"class","svelte-1vbvdrk"),C(l,"id","show-map-position"),C(l,"class","leaflet-bar btn btn-sm btn-outline-secondary svelte-1vbvdrk")},m(i,d){var p;ot(n,i,d),v(i,s,d),v(i,r,d),v(i,a,d),v(i,l,d),c=!0,h||(u=[(p=e[0].call(null,r),p&&o(p.destroy)?p.destroy:t),P(l,"click",k(rn))],h=!0)},p:t,i(t){c||(Q(n.$$.fragment,t),c=!0)},o(t){tt(n.$$.fragment,t),c=!1},d(t){t&&(y(s),y(r),y(a),y(l)),st(n,t),h=!1,i(u)}}}function rn(t){t.target.style.display="none",document.getElementById("map-position").style.display="block"}function an(t,e,n){let{display_minimap:i=!1}=e,{current_result:o=null}=e,{position_marker:s=null}=e,r=[];function a(t){let e=h(Tt);if(!e)return;if(function(){let t=h(Tt);t&&r.forEach((function(e){t.removeLayer(e)}))}(),s){let t=Qe.circleMarker(s,{radius:5,weight:2,fillColor:"#ff7800",color:"red",opacity:.75,zIndexOffset:100,clickable:!1});t.bindTooltip(`Search (${s[0]},${s[1]})`).openTooltip(),t.addTo(e),r.push(t)}var n=new URLSearchParams(window.location.search).get("viewbox");if(n){let t=n.split(","),i=Qe.latLngBounds([t[1],t[0]],[t[3],t[2]]),o=Qe.rectangle(i,{color:"#69d53e",weight:3,dashArray:"5 5",opacity:.8,fill:!1,interactive:!1});e.addLayer(o),r.push(o)}if(!t)return;let i=t.centroid?t.centroid.coordinates[1]:t.lat,o=t.centroid?t.centroid.coordinates[0]:t.lon,a=t.geometry||t.geojson;if(i&&o){let t=Qe.circleMarker([i,o],{radius:10,weight:2,fillColor:"#ff7800",color:"blue",opacity:.75});s&&t.bindTooltip("Result").openTooltip(),e.addLayer(t),r.push(t)}if(a){var l=Qe.geoJson({type:"FeatureCollection",features:[{type:"Feature",geometry:a,properties:{}}]},{style:()=>({interactive:!1,color:"blue"})});e.addLayer(l),r.push(l),e.fitBounds(l.getBounds())}else i&&o&&s?e.fitBounds([[i,o],s],{padding:[50,50]}):i&&o&&e.setView([i,o],10)}return t.$$set=t=>{"display_minimap"in t&&n(1,i=t.display_minimap),"current_result"in t&&n(2,o=t.current_result),"position_marker"in t&&n(3,s=t.position_marker)},t.$$.update=()=>{4&t.$$.dirty&&a(o)},[function(t){let e=function(t){const e=Nominatim_Config.Map_Tile_Attribution;let n=new Qe.map(t,{attributionControl:!1,scrollWheelZoom:!0,touchZoom:!1,center:[Nominatim_Config.Map_Default_Lat,Nominatim_Config.Map_Default_Lon],zoom:Nominatim_Config.Map_Default_Zoom});if(void 0!==Nominatim_Config.Map_Default_Bounds&&Nominatim_Config.Map_Default_Bounds&&n.fitBounds(Nominatim_Config.Map_Default_Bounds),e&&e.length&&Qe.control.attribution({prefix:'<a href="https://leafletjs.com/">Leaflet</a>'}).addTo(n),Qe.tileLayer(Nominatim_Config.Map_Tile_URL,{attribution:e}).addTo(n),i){let t=new Qe.TileLayer(Nominatim_Config.Map_Tile_URL,{minZoom:0,maxZoom:13,attribution:e});new Qe.Control.MiniMap(t,{toggleDisplay:!0}).addTo(n)}const o=Qe.Control.extend({options:{position:"topright"},onAdd:()=>document.getElementById("show-map-position")});return n.addControl(new o),n}(t);return Tt.set(e),a(o),{destroy:()=>{Tt.set(null),e.remove()}}},i,o,s]}let ln=class extends lt{constructor(t){super(),at(this,t,an,sn,s,{display_minimap:1,current_result:2,position_marker:3})}};function cn(t){let e,n;return e=new Ce({props:{api_request_params:t[0],bStructuredSearch:t[2]}}),{c(){it(e.$$.fragment)},m(t,i){ot(e,t,i),n=!0},p(t,n){const i={};1&n&&(i.api_request_params=t[0]),e.$set(i)},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function hn(t){let e,n,i,o,s,r,a,l,c,h;function u(e){t[4](e)}e=new ve({props:{$$slots:{default:[cn]},$$scope:{ctx:t}}});let d={reverse_search:!1};return void 0!==t[1]&&(d.current_result=t[1]),s=new Xe({props:d}),D.push((()=>nt(s,"current_result",u))),c=new ln({props:{current_result:t[1],display_minimap:!0}}),{c(){it(e.$$.fragment),n=$(),i=w("div"),o=w("div"),it(s.$$.fragment),a=$(),l=w("div"),it(c.$$.fragment),C(o,"class","sidebar svelte-1d53ob0"),C(l,"id","map-wrapper"),C(l,"class","svelte-1d53ob0"),C(i,"id","content"),C(i,"class","svelte-1d53ob0")},m(t,r){ot(e,t,r),v(t,n,r),v(t,i,r),g(i,o),ot(s,o,null),g(i,a),g(i,l),ot(c,l,null),h=!0},p(t,[n]){const i={};65&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const o={};!r&&2&n&&(r=!0,o.current_result=t[1],W((()=>r=!1))),s.$set(o);const a={};2&n&&(a.current_result=t[1]),c.$set(a)},i(t){h||(Q(e.$$.fragment,t),Q(s.$$.fragment,t),Q(c.$$.fragment,t),h=!0)},o(t){tt(e.$$.fragment,t),tt(s.$$.fragment,t),tt(c.$$.fragment,t),h=!1},d(t){t&&(y(n),y(i)),st(e,t),st(s),st(c)}}}function un(t,e,n){let i,o,s;return u(t,Ct,(t=>n(3,i=t))),t.$$.update=()=>{if(8&t.$$.dirty){let t=i;"search"===t.tab&&function(t){jt(),n(0,o={q:t.get("q"),street:t.get("street"),city:t.get("city"),county:t.get("county"),state:t.get("state"),country:t.get("country"),postalcode:t.get("postalcode"),polygon_geojson:Nominatim_Config.Search_AreaPolygons?1:0,viewbox:t.get("viewbox"),bounded:t.get("bounded"),dedupe:t.has("dedupe")&&"1"!==t.get("dedupe")?0:1,"accept-language":t.get("accept-language"),countrycodes:t.get("countrycodes"),limit:t.get("limit"),polygon_threshold:t.get("polygon_threshold"),exclude_place_ids:t.get("exclude_place_ids"),format:"jsonv2"});let e=o.street||o.city||o.county||o.state||o.country||o.postalcode;o.q||e?Nt("search",o,(function(t){Pt.set(t),jt("Result for "+o.q),e?(document.querySelector(".nav-tabs a[href='#structured']").click(),document.querySelector("input[name=street]").focus()):document.querySelector("input[name=q]").focus()})):Pt.set(void 0)}(t.params)}},[o,s,undefined,i,function(t){s=t,n(1,s)}]}class dn extends lt{constructor(t){super(),at(this,t,un,hn,s,{})}}function pn(t,e,n){const i=t.slice();return i[9]=e[n],i[11]=n,i}function mn(e){let n;return{c(){n=w("option"),n.textContent=`${e[11]} - ${e[9]}`,n.__value=e[11],A(n,n.__value)},m(t,e){v(t,n,e)},p:t,d(t){t&&y(n)}}}function fn(t){let e,n,o,s,r,a,l,c,h,u,d,p,m,f,_,x,L,T,E,O,z,I,N,B,D,Z=et(["Continent / Sea","","","Country","","State","Region","","County","","City","","Town / Borough","Village / Suburb","Neighbourhood","Locality","Major Street","Minor Street","Building"]),j=[];for(let e=0;e<Z.length;e+=1)j[e]=mn(pn(t,Z,e));return{c(){e=w("div"),e.innerHTML='<label for="reverse-lat" class="svelte-1s4hp9x">lat</label>',n=$(),o=w("div"),s=w("input"),r=$(),a=w("div"),l=w("button"),l.textContent="<>",c=$(),h=w("div"),h.innerHTML='<label for="reverse-lon" class="svelte-1s4hp9x">lon</label>',u=$(),d=w("div"),p=w("input"),m=$(),f=w("div"),f.innerHTML='<label for="reverse-zoom" class="svelte-1s4hp9x">max zoom</label>',_=$(),x=w("div"),L=w("select"),T=w("option"),T.textContent="---";for(let t=0;t<j.length;t+=1)j[t].c();E=$(),O=w("input"),I=$(),N=w("div"),N.innerHTML='<button type="submit" class="btn btn-primary btn-sm mx-1">Search</button>',C(e,"class","col-auto"),C(s,"id","reverse-lat"),C(s,"name","lat"),C(s,"type","text"),C(s,"class","form-control form-control-sm d-inline svelte-1s4hp9x"),C(s,"placeholder","latitude"),C(s,"pattern","^-?\\d+(\\.\\d+)?$"),C(o,"class","col-auto"),C(l,"id","switch-coords"),C(l,"class","btn btn-outline-secondary btn-sm svelte-1s4hp9x"),C(l,"title","switch lat and lon"),C(a,"class","col-auto"),C(h,"class","col-auto"),C(p,"id","reverse-lon"),C(p,"name","lon"),C(p,"type","text"),C(p,"class","form-control form-control-sm svelte-1s4hp9x"),C(p,"placeholder","longitude"),C(p,"pattern","^-?\\d+(\\.\\d+)?$"),C(d,"class","col-auto"),C(f,"class","col-auto"),T.__value="",A(T,T.__value),C(L,"id","reverse-zoom"),C(L,"name","zoom"),C(L,"class","form-select form-select-sm svelte-1s4hp9x"),void 0===t[2]&&F((()=>t[8].call(L))),C(x,"class","col-auto"),C(O,"type","hidden"),C(O,"name","layer"),O.value=z=t[3].layer||"",C(N,"class","col-auto")},m(i,y){v(i,e,y),v(i,n,y),v(i,o,y),g(o,s),A(s,t[0]),v(i,r,y),v(i,a,y),g(a,l),v(i,c,y),v(i,h,y),v(i,u,y),v(i,d,y),g(d,p),A(p,t[1]),v(i,m,y),v(i,f,y),v(i,_,y),v(i,x,y),g(x,L),g(L,T);for(let t=0;t<j.length;t+=1)j[t]&&j[t].m(L,null);S(L,t[2],!0),v(i,E,y),v(i,O,y),v(i,I,y),v(i,N,y),B||(D=[P(s,"input",t[5]),P(s,"change",gn),P(l,"click",k(M(t[6]))),P(p,"input",t[7]),P(L,"change",t[8])],B=!0)},p(t,e){1&e&&s.value!==t[0]&&A(s,t[0]),2&e&&p.value!==t[1]&&A(p,t[1]),4&e&&S(L,t[2]),8&e&&z!==(z=t[3].layer||"")&&(O.value=z)},d(t){t&&(y(e),y(n),y(o),y(r),y(a),y(c),y(h),y(u),y(d),y(m),y(f),y(_),y(x),y(E),y(O),y(I),y(N)),b(j,t),B=!1,i(D)}}}function _n(t){let e,n,i,o,s,r,a,l,c,h,u,d,p,m;return e=new we({props:{page:"reverse",$$slots:{default:[fn]},$$scope:{ctx:t}}}),{c(){it(e.$$.fragment),n=$(),i=w("details"),o=w("summary"),o.innerHTML="<small>Advanced options</small>",s=$(),r=w("ul"),a=w("li"),l=w("label"),l.textContent="Layer",c=$(),h=w("input"),C(l,"for","option_layer"),C(l,"class","svelte-1s4hp9x"),C(h,"id","option_layer"),C(h,"name","layer"),C(h,"placeholder","e.g. address,poi,railway,natural,manmade"),h.value=u=t[3].layer||"",C(h,"data-api-param","layer"),C(h,"class","form-control form-control-sm d-inline w-auto api-param-setting"),C(a,"class","svelte-1s4hp9x"),C(r,"class","svelte-1s4hp9x"),C(i,"id","searchAdvancedOptions"),C(i,"class","mt-2 svelte-1s4hp9x")},m(t,u){ot(e,t,u),v(t,n,u),v(t,i,u),g(i,o),g(i,s),g(i,r),g(r,a),g(a,l),g(a,c),g(a,h),d=!0,p||(m=P(h,"change",vn),p=!0)},p(t,[n]){const i={};4111&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i),(!d||8&n&&u!==(u=t[3].layer||"")&&h.value!==u)&&(h.value=u)},i(t){d||(Q(e.$$.fragment,t),d=!0)},o(t){tt(e.$$.fragment,t),d=!1},d(t){t&&(y(n),y(i)),st(e,t),p=!1,m()}}}function gn(t){var e=t.target.value.split(/,|%2C/);2===e.length&&(document.querySelector("input[name=lat]").value=L.Util.trim(e[0]),document.querySelector("input[name=lon]").value=L.Util.trim(e[1]))}function vn(t){document.querySelector("input[name="+t.target.dataset.apiParam+"]").value=t.target.value}function yn(t,e,n){let{lat:i=""}=e,{lon:o=""}=e,{zoom:s=""}=e,{api_request_params:r={}}=e;function a(t,e,n){if(null===t||null===e)return;let i=new URLSearchParams;i.set("lat",t),i.set("lon",e),i.set("zoom",n||s),St("reverse",i)}Tt.subscribe((t=>{t&&t.on("click",(t=>{let e=t.latlng.wrap();a(e.lat.toFixed(5),e.lng.toFixed(5))}))}));return t.$$set=t=>{"lat"in t&&n(0,i=t.lat),"lon"in t&&n(1,o=t.lon),"zoom"in t&&n(2,s=t.zoom),"api_request_params"in t&&n(3,r=t.api_request_params)},[i,o,s,r,a,function(){i=this.value,n(0,i)},()=>a(o,i),function(){o=this.value,n(1,o)},function(){s=function(t){const e=t.querySelector(":checked");return e&&e.__value}(this),n(2,s)}]}class bn extends lt{constructor(t){super(),at(this,t,yn,_n,s,{lat:0,lon:1,zoom:2,api_request_params:3})}}function wn(t){let e,n;return e=new bn({props:{lat:t[0].lat,lon:t[0].lon,zoom:t[0].zoom,api_request_params:t[0]}}),{c(){it(e.$$.fragment)},m(t,i){ot(e,t,i),n=!0},p(t,n){const i={};1&n&&(i.lat=t[0].lat),1&n&&(i.lon=t[0].lon),1&n&&(i.zoom=t[0].zoom),1&n&&(i.api_request_params=t[0]),e.$set(i)},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function xn(t){let e,n,i,o,s,r,a,l,c,h;function u(e){t[4](e)}e=new ve({props:{$$slots:{default:[wn]},$$scope:{ctx:t}}});let d={reverse_search:!0};return void 0!==t[1]&&(d.current_result=t[1]),s=new Xe({props:d}),D.push((()=>nt(s,"current_result",u))),c=new ln({props:{current_result:t[1],position_marker:t[2],display_minimap:!0}}),{c(){it(e.$$.fragment),n=$(),i=w("div"),o=w("div"),it(s.$$.fragment),a=$(),l=w("div"),it(c.$$.fragment),C(o,"class","sidebar svelte-1d53ob0"),C(l,"id","map-wrapper"),C(l,"class","svelte-1d53ob0"),C(i,"id","content"),C(i,"class","svelte-1d53ob0")},m(t,r){ot(e,t,r),v(t,n,r),v(t,i,r),g(i,o),ot(s,o,null),g(i,a),g(i,l),ot(c,l,null),h=!0},p(t,[n]){const i={};65&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const o={};!r&&2&n&&(r=!0,o.current_result=t[1],W((()=>r=!1))),s.$set(o);const a={};2&n&&(a.current_result=t[1]),4&n&&(a.position_marker=t[2]),c.$set(a)},i(t){h||(Q(e.$$.fragment,t),Q(s.$$.fragment,t),Q(c.$$.fragment,t),h=!0)},o(t){tt(e.$$.fragment,t),tt(s.$$.fragment,t),tt(c.$$.fragment,t),h=!1},d(t){t&&(y(n),y(i)),st(e,t),st(s),st(c)}}}function $n(t,e,n){let i,o,s,r;return u(t,Ct,(t=>n(3,i=t))),t.$$.update=()=>{if(8&t.$$.dirty){let t=i;"reverse"===t.tab&&(e=t.params,jt(),n(0,o={lat:e.get("lat"),lon:e.get("lon"),zoom:e.get("zoom")>1?Number(e.get("zoom")):Number(Nominatim_Config.Reverse_Default_Search_Zoom),layer:e.get("layer"),format:"jsonv2"}),o.lat||o.lat?Nt("reverse",o,(function(t){n(2,r=[o.lat,o.lon]),t&&!t.error?Pt.set([t]):Pt.set([]),jt("Reverse result for "+o.lat+","+o.lon),document.querySelector("input[name=lat]").focus()})):Pt.set(void 0))}var e},[o,s,r,i,function(t){s=t,n(1,s)}]}class Ln extends lt{constructor(t){super(),at(this,t,$n,xn,s,{})}}function Tn(e){let n,i,o,s,r,a,l,c,h,u,d;return{c(){n=w("form"),i=w("div"),o=w("div"),s=w("input"),a=$(),l=w("div"),l.innerHTML='<button type="submit" class="btn btn-primary btn-sm">Show</button>',c=$(),h=w("small"),h.innerHTML='OSM type+id (<em class="svelte-1kvo9ki">N123</em>,\n               <em class="svelte-1kvo9ki">n123</em>,\n               <em class="svelte-1kvo9ki">W123</em>,\n               <em class="svelte-1kvo9ki">w123</em>,\n               <em class="svelte-1kvo9ki">R123</em>,\n               <em class="svelte-1kvo9ki">r123</em>),\n  Place id (<em class="svelte-1kvo9ki">1234</em>) or\n  URL (<em class="svelte-1kvo9ki">https://openstreetmap.org/way/123</em>)',C(s,"type","edit"),C(s,"class","form-control form-control-sm me-1 svelte-1kvo9ki"),C(s,"pattern","^[1-9][0-9]*$|^[NWRnwr]-?[1-9][0-9]*$|.*openstreetmap.*"),s.value=r=(e[0].osmtype||"")+(e[0].osmid||"")+(e[0].place_id||""),C(o,"class","col-auto"),C(l,"class","col-auto"),C(i,"class","row g-1"),C(n,"class","form-inline svelte-1kvo9ki"),C(n,"action","details.html"),C(h,"class","form-text text-muted svelte-1kvo9ki")},m(t,r){v(t,n,r),g(n,i),g(i,o),g(o,s),g(i,a),g(i,l),v(t,c,r),v(t,h,r),u||(d=P(n,"submit",M(e[1])),u=!0)},p(t,[e]){1&e&&r!==(r=(t[0].osmtype||"")+(t[0].osmid||"")+(t[0].place_id||""))&&s.value!==r&&(s.value=r)},i:t,o:t,d(t){t&&(y(n),y(c),y(h)),u=!1,d()}}}function Pn(t,e,n){let{api_request_params:i={}}=e;return t.$$set=t=>{"api_request_params"in t&&n(0,i=t.api_request_params)},[i,function(t){let e=t.target.querySelector("input[type=edit]").value.trim(),n=e.match(/^\s*([NWR])(-?\d+)\s*$/i)||e.match(/\/(relation|way|node)\/(-?\d+)\s*$/);var i=new URLSearchParams;if(n)i.set("osmtype",n[1].charAt(0).toUpperCase()),i.set("osmid",n[2]);else{if(!e.match(/^\d+$/))return void alert("invalid input");i.set("place_id",e)}St("details",i)}]}class Mn extends lt{constructor(t){super(),at(this,t,Pn,Tn,s,{api_request_params:0})}}function kn(e){let n;return{c(){n=w("span"),n.textContent="No Name",C(n,"class","noname")},m(t,e){v(t,n,e)},p:t,d(t){t&&y(n)}}}function Cn(t){let e,n=t[0].localname+"";return{c(){e=x(n)},m(t,n){v(t,e,n)},p(t,i){1&i&&n!==(n=t[0].localname+"")&&E(e,n)},d(t){t&&y(e)}}}function En(t){let e,n;return e=new Ft({props:{page:"search",params_hash:{postalcode:t[0].localname},$$slots:{default:[On]},$$scope:{ctx:t}}}),{c(){it(e.$$.fragment)},m(t,i){ot(e,t,i),n=!0},p(t,n){const i={};1&n&&(i.params_hash={postalcode:t[0].localname}),32&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function An(t){let e,n;return e=new Ft({props:{page:"search",params_hash:{country:t[0].localname},$$slots:{default:[zn]},$$scope:{ctx:t}}}),{c(){it(e.$$.fragment)},m(t,i){ot(e,t,i),n=!0},p(t,n){const i={};1&n&&(i.params_hash={country:t[0].localname}),32&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Sn(t){let e,n;return e=new Se({props:{feature:t[0],$$slots:{default:[In]},$$scope:{ctx:t}}}),{c(){it(e.$$.fragment)},m(t,i){ot(e,t,i),n=!0},p(t,n){const i={};1&n&&(i.feature=t[0]),32&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function On(t){let e;return{c(){e=x("search by name")},m(t,n){v(t,e,n)},d(t){t&&y(e)}}}function zn(t){let e;return{c(){e=x("search by name")},m(t,n){v(t,e,n)},d(t){t&&y(e)}}}function In(t){let e;return{c(){e=x("details")},m(t,n){v(t,e,n)},d(t){t&&y(e)}}}function Nn(t){let e,n,i,o,s,r,a,l,c,h,u,d,p,m,f,_,b,L,T,P,M,k=wt(t[0])+"",A=ft(t[0])+"",S=t[0].rank_address+"",z=xt(t[0].admin_level)+"",I=$t(t[0].distance,t[1])+"";function N(t,e){return t[0].localname?Cn:kn}let B=N(t),D=B(t);const Z=[Sn,An,En],j=[];function R(t,e){return 9&e&&(L=null),t[0].osm_id?0:(null==L&&(L=!(t[3]||!t[0].type.match(/^country/))),L?1:t[3]||"postcode"!==t[0].type?-1:2)}return~(T=R(t,-1))&&(P=j[T]=Z[T](t)),{c(){e=w("tr"),n=w("td"),D.c(),i=$(),o=w("td"),s=x(k),r=$(),a=w("td"),l=$(),c=w("td"),h=x(S),u=$(),d=w("td"),p=x(z),m=$(),f=w("td"),_=$(),b=w("td"),P&&P.c(),C(n,"class","name fw-bold svelte-6a43i0"),C(o,"class","svelte-6a43i0"),C(a,"class","svelte-6a43i0"),C(c,"class","svelte-6a43i0"),C(d,"class","svelte-6a43i0"),C(f,"class","svelte-6a43i0"),C(b,"class","svelte-6a43i0"),C(e,"class","svelte-6a43i0"),O(e,"notused",t[2]&&!t[4])},m(t,y){v(t,e,y),g(e,n),D.m(n,null),g(e,i),g(e,o),g(o,s),g(e,r),g(e,a),a.innerHTML=A,g(e,l),g(e,c),g(c,h),g(e,u),g(e,d),g(d,p),g(e,m),g(e,f),f.innerHTML=I,g(e,_),g(e,b),~T&&j[T].m(b,null),M=!0},p(t,[i]){B===(B=N(t))&&D?D.p(t,i):(D.d(1),D=B(t),D&&(D.c(),D.m(n,null))),(!M||1&i)&&k!==(k=wt(t[0])+"")&&E(s,k),(!M||1&i)&&A!==(A=ft(t[0])+"")&&(a.innerHTML=A),(!M||1&i)&&S!==(S=t[0].rank_address+"")&&E(h,S),(!M||1&i)&&z!==(z=xt(t[0].admin_level)+"")&&E(p,z),(!M||3&i)&&I!==(I=$t(t[0].distance,t[1])+"")&&(f.innerHTML=I);let o=T;T=R(t,i),T===o?~T&&j[T].p(t,i):(P&&(X(),tt(j[o],1,1,(()=>{j[o]=null})),J()),~T?(P=j[T],P?P.p(t,i):(P=j[T]=Z[T](t),P.c()),Q(P,1),P.m(b,null)):P=null),(!M||20&i)&&O(e,"notused",t[2]&&!t[4])},i(t){M||(Q(P),M=!0)},o(t){tt(P),M=!1},d(t){t&&y(e),D.d(),~T&&j[T].d()}}}function Bn(t,e,n){let i,o,{addressLine:s}=e,{bDistanceInMeters:r}=e,{bMarkUnusedLines:a=!1}=e;return t.$$set=t=>{"addressLine"in t&&n(0,s=t.addressLine),"bDistanceInMeters"in t&&n(1,r=t.bDistanceInMeters),"bMarkUnusedLines"in t&&n(2,a=t.bMarkUnusedLines)},t.$$.update=()=>{1&t.$$.dirty&&n(4,i=s.isaddress)},n(3,o=Nominatim_Config.Reverse_Only),[s,r,a,o,i]}class Dn extends lt{constructor(t){super(),at(this,t,Bn,Nn,s,{addressLine:0,bDistanceInMeters:1,bMarkUnusedLines:2})}}function Zn(e){let n,o,s,r,a,l,c,h,u,d,p,m,f,_,b,L,T;return{c(){n=x("("),o=w("a"),o.textContent="how?",s=x(")\n\n"),r=w("div"),a=w("button"),l=$(),c=w("p"),c.innerHTML='Nightly calculated from nearby places having this postcode.\n    <a href="https://nominatim.org/release-docs/latest/admin/Maintenance/#updating-postcodes">Documentation\n    </a>.',h=$(),u=w("p"),d=x("You can search for those with an\n    "),p=w("a"),m=x("Overpass Turbo query"),f=x("."),_=$(),b=w("p"),b.innerHTML='<a href="https://nominatim.org/2022/06/26/state-of-postcodes.html" target="_blank" rel="noreferrer">How Nominatim uses postcodes</a>.',C(o,"href","#openHint"),C(a,"type","button"),C(a,"class","btn-close float-end m-1"),C(a,"aria-label","Close"),C(p,"href",e[0]),C(p,"target","_blank"),C(p,"rel","noreferrer"),C(r,"id","postcode-hint"),C(r,"class","my-2 p-2 svelte-6dtaih")},m(t,e){v(t,n,e),v(t,o,e),v(t,s,e),v(t,r,e),g(r,a),g(r,l),g(r,c),g(r,h),g(r,u),g(u,d),g(u,p),g(p,m),g(u,f),g(r,_),g(r,b),L||(T=[P(o,"click",k(M(jn))),P(a,"click",k(Rn))],L=!0)},p:t,i:t,o:t,d(t){t&&(y(n),y(o),y(s),y(r)),L=!1,i(T)}}}function jn(){document.getElementById("postcode-hint").style.display="block"}function Rn(){document.getElementById("postcode-hint").style.display="none"}function Hn(t,e,n){let{postcode:i}=e,{lat:o}=e,{lon:s}=e,r=`\n    // Based on the map bounds, you can zoom out and rerun the query\n\n    [timeout:30]; // in seconds\n\n    // we define a shortcut\n    // https://wiki.openstreetmap.org/wiki/Overpass_turbo/Extended_Overpass_Turbo_Queries\n    {{postcode=${i}}}\n\n    (\n      node["addr:postcode"="{{postcode}}"]({{bbox}});\n      way["addr:postcode"="{{postcode}}"]({{bbox}});\n      relation["addr:postcode"="{{postcode}}"]({{bbox}});\n\n      node["postal_code"="{{postcode}}"]({{bbox}});\n      way["postal_code"="{{postcode}}"]({{bbox}});\n      relation["postal_code"="{{postcode}}"]({{bbox}});\n    );\n\n    out body;\n    >;\n    out skel qt;\n  `.replace(/^ {4}/gm,""),a="https://overpass-turbo.eu/?Q="+encodeURIComponent(r)+"&C="+encodeURIComponent([o,s,15].join(";"))+"&R";return t.$$set=t=>{"postcode"in t&&n(1,i=t.postcode),"lat"in t&&n(2,o=t.lat),"lon"in t&&n(3,s=t.lon)},[a,i,o,s]}class Fn extends lt{constructor(t){super(),at(this,t,Hn,Zn,s,{postcode:1,lat:2,lon:3})}}function Wn(t){let e,n,i,o,s,r;const a=t[2].default,l=d(a,t,t[1],null);return{c(){e=w("tr"),n=w("td"),i=x(t[0]),o=$(),s=w("td"),l&&l.c(),C(n,"class","svelte-1184nr4"),C(s,"class","svelte-1184nr4")},m(t,a){v(t,e,a),g(e,n),g(n,i),g(e,o),g(e,s),l&&l.m(s,null),r=!0},p(t,[e]){(!r||1&e)&&E(i,t[0]),l&&l.p&&(!r||2&e)&&f(l,a,t,t[1],r?m(a,t[1],e,null):_(t[1]),null)},i(t){r||(Q(l,t),r=!0)},o(t){tt(l,t),r=!1},d(t){t&&y(e),l&&l.d(t)}}}function qn(t,e,n){let{$$slots:i={},$$scope:o}=e,{title:s}=e;return t.$$set=t=>{"title"in t&&n(0,s=t.title),"$$scope"in t&&n(1,o=t.$$scope)},[s,o,i]}class Un extends lt{constructor(t){super(),at(this,t,qn,Wn,s,{title:0})}}function Vn(t,e,n){const i=t.slice();return i[1]=e[n],i}function Kn(t){let e,n,i,o,s,r,a=t[0][t[1]]+"",l=t[1]+"";return{c(){e=w("div"),n=w("span"),i=x(a),o=x(" ("),s=x(l),r=x(")\n  "),C(n,"class","name svelte-ndknvb"),C(e,"class","line")},m(t,a){v(t,e,a),g(e,n),g(n,i),g(e,o),g(e,s),g(e,r)},p(t,e){1&e&&a!==(a=t[0][t[1]]+"")&&E(i,a),1&e&&l!==(l=t[1]+"")&&E(s,l)},d(t){t&&y(e)}}}function Gn(e){let n,i=et(Object.keys(e[0])),o=[];for(let t=0;t<i.length;t+=1)o[t]=Kn(Vn(e,i,t));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();n=T()},m(t,e){for(let n=0;n<o.length;n+=1)o[n]&&o[n].m(t,e);v(t,n,e)},p(t,[e]){if(1&e){let s;for(i=et(Object.keys(t[0])),s=0;s<i.length;s+=1){const r=Vn(t,i,s);o[s]?o[s].p(r,e):(o[s]=Kn(r),o[s].c(),o[s].m(n.parentNode,n))}for(;s<o.length;s+=1)o[s].d(1);o.length=i.length}},i:t,o:t,d(t){t&&y(n),b(o,t)}}}function Yn(t,e,n){let{items:i}=e;return t.$$set=t=>{"items"in t&&n(0,i=t.items)},[i]}class Xn extends lt{constructor(t){super(),at(this,t,Yn,Gn,s,{items:0})}}function Jn(t,e,n){const i=t.slice();return i[7]=e[n],i}function Qn(t,e,n){const i=t.slice();return i[10]=e[n],i}function ti(t,e,n){const i=t.slice();return i[13]=e[n],i}function ei(t,e,n){const i=t.slice();return i[13]=e[n],i}function ni(t,e,n){const i=t.slice();return i[18]=e[n],i}function ii(t,e,n){const i=t.slice();return i[18]=e[n],i}function oi(t){let e,n;return e=new Mn({props:{api_request_params:t[2]}}),{c(){it(e.$$.fragment)},m(t,i){ot(e,t,i),n=!0},p(t,n){const i={};4&n&&(i.api_request_params=t[2]),e.$set(i)},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function si(e){let n;return{c(){n=x("No such place found.")},m(t,e){v(t,n,e)},p:t,i:t,o:t,d(t){t&&y(n)}}}function ri(t){let e,n,i,o,s,r,a,l,c,h,u,d,p,m,f,_,b,L,T,P,M,k,A,S,O,z,I,N,B,D,Z,j,R,H,F,W,q,U,V,K,G,Y,et,nt,rt,at,lt,ct,ht,ut,dt,pt,ft,_t,gt,vt,bt,wt,xt,$t,Lt,Tt,Pt=(t[0].localname||`${mt(t[0].osm_type)} ${t[0].osm_id}`)+"",Mt=yt(t[0]);a=new Se({props:{feature:t[0],$$slots:{default:[ai]},$$scope:{ctx:t}}}),h=new Ze({props:{aPlace:t[0]}}),_=new Un({props:{title:"Name",$$slots:{default:[hi]},$$scope:{ctx:t}}}),L=new Un({props:{title:"Type",$$slots:{default:[ui]},$$scope:{ctx:t}}}),P=new Un({props:{title:"Last Updated",$$slots:{default:[di]},$$scope:{ctx:t}}});let kt=Mt&&pi(t);A=new Un({props:{title:"Search Rank",$$slots:{default:[fi]},$$scope:{ctx:t}}}),O=new Un({props:{title:"Address Rank",$$slots:{default:[_i]},$$scope:{ctx:t}}});let Ct=t[0].calculated_importance&&gi(t);N=new Un({props:{title:"Coverage",$$slots:{default:[bi]},$$scope:{ctx:t}}}),D=new Un({props:{title:"Centre Point (lat,lon)",$$slots:{default:[wi]},$$scope:{ctx:t}}}),j=new Un({props:{title:"OSM",$$slots:{default:[xi]},$$scope:{ctx:t}}}),H=new Un({props:{title:"Place Id",$$slots:{default:[$i]},$$scope:{ctx:t}}});let Et=t[0].calculated_wikipedia&&Li(t);q=new Un({props:{title:"Computed Postcode",$$slots:{default:[Mi]},$$scope:{ctx:t}}}),V=new Un({props:{title:"Address Tags",$$slots:{default:[ki]},$$scope:{ctx:t}}}),G=new Un({props:{title:"Extra Tags",$$slots:{default:[Ci]},$$scope:{ctx:t}}}),rt=new ln({props:{current_result:t[0]}});let At=t[0].address&&Ei(t),St=t[0].linked_places&&Si(t),Ot=!t[4]&&zi(t);const zt=[qi,Wi],It=[];function Nt(t,e){return t[2].hierarchy?0:1}return $t=Nt(t),Lt=It[$t]=zt[$t](t),{c(){e=w("div"),n=w("div"),i=w("h1"),o=x(Pt),s=$(),r=w("small"),it(a.$$.fragment),l=$(),c=w("div"),it(h.$$.fragment),u=$(),d=w("div"),p=w("div"),m=w("table"),f=w("tbody"),it(_.$$.fragment),b=$(),it(L.$$.fragment),T=$(),it(P.$$.fragment),M=$(),kt&&kt.c(),k=$(),it(A.$$.fragment),S=$(),it(O.$$.fragment),z=$(),Ct&&Ct.c(),I=$(),it(N.$$.fragment),B=$(),it(D.$$.fragment),Z=$(),it(j.$$.fragment),R=$(),it(H.$$.fragment),F=$(),Et&&Et.c(),W=$(),it(q.$$.fragment),U=$(),it(V.$$.fragment),K=$(),it(G.$$.fragment),Y=$(),et=w("div"),nt=w("div"),it(rt.$$.fragment),at=$(),lt=w("div"),ct=w("div"),ht=w("h2"),ht.textContent="Address",ut=$(),dt=w("table"),pt=w("thead"),pt.innerHTML="<tr><th>Local name</th> <th>Type</th> <th>OSM</th> <th>Address rank</th> <th>Admin level</th> <th>Distance</th> <th></th></tr>",ft=$(),_t=w("tbody"),At&&At.c(),gt=$(),St&&St.c(),vt=$(),Ot&&Ot.c(),bt=$(),wt=w("tr"),wt.innerHTML='<td colspan="7" class="svelte-1bl6i9w"><h2 class="svelte-1bl6i9w">Parent Of</h2></td>',xt=$(),Lt.c(),C(r,"class","svelte-1bl6i9w"),C(i,"class","svelte-1bl6i9w"),C(n,"class","col-sm-10"),C(c,"class","col-sm-2 text-end"),C(e,"class","row"),C(m,"id","locationdetails"),C(m,"class","table table-striped table-responsive"),C(p,"class","col-md-6"),C(nt,"id","map-wrapper"),C(nt,"class","svelte-1bl6i9w"),C(et,"class","col-md-6"),C(d,"class","row"),C(ht,"class","svelte-1bl6i9w"),C(wt,"class","all-columns svelte-1bl6i9w"),C(dt,"id","address"),C(dt,"class","table table-striped table-small"),C(ct,"class","col-md-12"),C(lt,"class","row")},m(t,y){v(t,e,y),g(e,n),g(n,i),g(i,o),g(i,s),g(i,r),ot(a,r,null),g(e,l),g(e,c),ot(h,c,null),v(t,u,y),v(t,d,y),g(d,p),g(p,m),g(m,f),ot(_,f,null),g(f,b),ot(L,f,null),g(f,T),ot(P,f,null),g(f,M),kt&&kt.m(f,null),g(f,k),ot(A,f,null),g(f,S),ot(O,f,null),g(f,z),Ct&&Ct.m(f,null),g(f,I),ot(N,f,null),g(f,B),ot(D,f,null),g(f,Z),ot(j,f,null),g(f,R),ot(H,f,null),g(f,F),Et&&Et.m(f,null),g(f,W),ot(q,f,null),g(f,U),ot(V,f,null),g(f,K),ot(G,f,null),g(d,Y),g(d,et),g(et,nt),ot(rt,nt,null),v(t,at,y),v(t,lt,y),g(lt,ct),g(ct,ht),g(ct,ut),g(ct,dt),g(dt,pt),g(dt,ft),g(dt,_t),At&&At.m(_t,null),g(_t,gt),St&&St.m(_t,null),g(_t,vt),Ot&&Ot.m(_t,null),g(_t,bt),g(_t,wt),g(_t,xt),It[$t].m(_t,null),Tt=!0},p(t,e){(!Tt||1&e)&&Pt!==(Pt=(t[0].localname||`${mt(t[0].osm_type)} ${t[0].osm_id}`)+"")&&E(o,Pt);const n={};1&e&&(n.feature=t[0]),8388608&e&&(n.$$scope={dirty:e,ctx:t}),a.$set(n);const i={};1&e&&(i.aPlace=t[0]),h.$set(i);const s={};8388609&e&&(s.$$scope={dirty:e,ctx:t}),_.$set(s);const r={};8388609&e&&(r.$$scope={dirty:e,ctx:t}),L.$set(r);const l={};8388609&e&&(l.$$scope={dirty:e,ctx:t}),P.$set(l),1&e&&(Mt=yt(t[0])),Mt?kt?(kt.p(t,e),1&e&&Q(kt,1)):(kt=pi(t),kt.c(),Q(kt,1),kt.m(f,k)):kt&&(X(),tt(kt,1,1,(()=>{kt=null})),J());const c={};8388609&e&&(c.$$scope={dirty:e,ctx:t}),A.$set(c);const u={};8388609&e&&(u.$$scope={dirty:e,ctx:t}),O.$set(u),t[0].calculated_importance?Ct?(Ct.p(t,e),1&e&&Q(Ct,1)):(Ct=gi(t),Ct.c(),Q(Ct,1),Ct.m(f,I)):Ct&&(X(),tt(Ct,1,1,(()=>{Ct=null})),J());const d={};8388609&e&&(d.$$scope={dirty:e,ctx:t}),N.$set(d);const p={};8388609&e&&(p.$$scope={dirty:e,ctx:t}),D.$set(p);const m={};8388609&e&&(m.$$scope={dirty:e,ctx:t}),j.$set(m);const g={};8388609&e&&(g.$$scope={dirty:e,ctx:t}),H.$set(g),t[0].calculated_wikipedia?Et?(Et.p(t,e),1&e&&Q(Et,1)):(Et=Li(t),Et.c(),Q(Et,1),Et.m(f,W)):Et&&(X(),tt(Et,1,1,(()=>{Et=null})),J());const v={};8388609&e&&(v.$$scope={dirty:e,ctx:t}),q.$set(v);const y={};8388609&e&&(y.$$scope={dirty:e,ctx:t}),V.$set(y);const b={};8388609&e&&(b.$$scope={dirty:e,ctx:t}),G.$set(b);const w={};1&e&&(w.current_result=t[0]),rt.$set(w),t[0].address?At?(At.p(t,e),1&e&&Q(At,1)):(At=Ei(t),At.c(),Q(At,1),At.m(_t,gt)):At&&(X(),tt(At,1,1,(()=>{At=null})),J()),t[0].linked_places?St?(St.p(t,e),1&e&&Q(St,1)):(St=Si(t),St.c(),Q(St,1),St.m(_t,vt)):St&&(X(),tt(St,1,1,(()=>{St=null})),J()),t[4]?Ot&&(Ot.d(1),Ot=null):Ot?Ot.p(t,e):(Ot=zi(t),Ot.c(),Ot.m(_t,bt));let x=$t;$t=Nt(t),$t===x?It[$t].p(t,e):(X(),tt(It[x],1,1,(()=>{It[x]=null})),J(),Lt=It[$t],Lt?Lt.p(t,e):(Lt=It[$t]=zt[$t](t),Lt.c()),Q(Lt,1),Lt.m(_t,null))},i(t){Tt||(Q(a.$$.fragment,t),Q(h.$$.fragment,t),Q(_.$$.fragment,t),Q(L.$$.fragment,t),Q(P.$$.fragment,t),Q(kt),Q(A.$$.fragment,t),Q(O.$$.fragment,t),Q(Ct),Q(N.$$.fragment,t),Q(D.$$.fragment,t),Q(j.$$.fragment,t),Q(H.$$.fragment,t),Q(Et),Q(q.$$.fragment,t),Q(V.$$.fragment,t),Q(G.$$.fragment,t),Q(rt.$$.fragment,t),Q(At),Q(St),Q(Lt),Tt=!0)},o(t){tt(a.$$.fragment,t),tt(h.$$.fragment,t),tt(_.$$.fragment,t),tt(L.$$.fragment,t),tt(P.$$.fragment,t),tt(kt),tt(A.$$.fragment,t),tt(O.$$.fragment,t),tt(Ct),tt(N.$$.fragment,t),tt(D.$$.fragment,t),tt(j.$$.fragment,t),tt(H.$$.fragment,t),tt(Et),tt(q.$$.fragment,t),tt(V.$$.fragment,t),tt(G.$$.fragment,t),tt(rt.$$.fragment,t),tt(At),tt(St),tt(Lt),Tt=!1},d(t){t&&(y(e),y(u),y(d),y(at),y(lt)),st(a),st(h),st(_),st(L),st(P),kt&&kt.d(),st(A),st(O),Ct&&Ct.d(),st(N),st(D),st(j),st(H),Et&&Et.d(),st(q),st(V),st(G),st(rt),At&&At.d(),St&&St.d(),Ot&&Ot.d(),It[$t].d()}}}function ai(t){let e;return{c(){e=x("link to this page")},m(t,n){v(t,e,n)},d(t){t&&y(e)}}}function li(e){let n;return{c(){n=w("span"),n.textContent="No Name",C(n,"class","noname fw-bold")},m(t,e){v(t,n,e)},p:t,i:t,o:t,d(t){t&&y(n)}}}function ci(t){let e,n;return e=new Xn({props:{items:t[0].names}}),{c(){it(e.$$.fragment)},m(t,i){ot(e,t,i),n=!0},p(t,n){const i={};1&n&&(i.items=t[0].names),e.$set(i)},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function hi(t){let e,n,i,o,s;const r=[ci,li],a=[];function l(t,n){return 1&n&&(e=null),null==e&&(e=!(!t[0].names||"object"!=typeof t[0].names||!Object.keys(t[0].names).length)),e?0:1}return n=l(t,-1),i=a[n]=r[n](t),{c(){i.c(),o=T()},m(t,e){a[n].m(t,e),v(t,o,e),s=!0},p(t,e){let s=n;n=l(t,e),n===s?a[n].p(t,e):(X(),tt(a[s],1,1,(()=>{a[s]=null})),J(),i=a[n],i?i.p(t,e):(i=a[n]=r[n](t),i.c()),Q(i,1),i.m(o.parentNode,o))},i(t){s||(Q(i),s=!0)},o(t){tt(i),s=!1},d(t){t&&y(o),a[n].d(t)}}}function ui(t){let e,n,i,o=t[0].category+"",s=t[0].type+"";return{c(){e=x(o),n=x(":"),i=x(s)},m(t,o){v(t,e,o),v(t,n,o),v(t,i,o)},p(t,n){1&n&&o!==(o=t[0].category+"")&&E(e,o),1&n&&s!==(s=t[0].type+"")&&E(i,s)},d(t){t&&(y(e),y(n),y(i))}}}function di(t){let e,n=t[0].indexed_date+"";return{c(){e=x(n)},m(t,n){v(t,e,n)},p(t,i){1&i&&n!==(n=t[0].indexed_date+"")&&E(e,n)},d(t){t&&y(e)}}}function pi(t){let e,n;return e=new Un({props:{title:"Admin Level",$$slots:{default:[mi]},$$scope:{ctx:t}}}),{c(){it(e.$$.fragment)},m(t,i){ot(e,t,i),n=!0},p(t,n){const i={};8388609&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function mi(t){let e,n=t[0].admin_level+"";return{c(){e=x(n)},m(t,n){v(t,e,n)},p(t,i){1&i&&n!==(n=t[0].admin_level+"")&&E(e,n)},d(t){t&&y(e)}}}function fi(t){let e,n=t[0].rank_search+"";return{c(){e=x(n)},m(t,n){v(t,e,n)},p(t,i){1&i&&n!==(n=t[0].rank_search+"")&&E(e,n)},d(t){t&&y(e)}}}function _i(t){let e,n,i,o,s=t[0].rank_address+"",r=bt(t[0].rank_address)+"";return{c(){e=x(s),n=x(" ("),i=x(r),o=x(")")},m(t,s){v(t,e,s),v(t,n,s),v(t,i,s),v(t,o,s)},p(t,n){1&n&&s!==(s=t[0].rank_address+"")&&E(e,s),1&n&&r!==(r=bt(t[0].rank_address)+"")&&E(i,r)},d(t){t&&(y(e),y(n),y(i),y(o))}}}function gi(t){let e,n;return e=new Un({props:{title:"Importance",$$slots:{default:[yi]},$$scope:{ctx:t}}}),{c(){it(e.$$.fragment)},m(t,i){ot(e,t,i),n=!0},p(t,n){const i={};8388609&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function vi(t){let e;return{c(){e=x("(estimated)")},m(t,n){v(t,e,n)},d(t){t&&y(e)}}}function yi(t){let e,n,i,o=t[0].calculated_importance+"",s=!t[0].importance&&vi();return{c(){e=x(o),n=$(),s&&s.c(),i=T()},m(t,o){v(t,e,o),v(t,n,o),s&&s.m(t,o),v(t,i,o)},p(t,n){1&n&&o!==(o=t[0].calculated_importance+"")&&E(e,o),t[0].importance?s&&(s.d(1),s=null):s||(s=vi(),s.c(),s.m(i.parentNode,i))},d(t){t&&(y(e),y(n),y(i)),s&&s.d(t)}}}function bi(t){let e,n=vt(t[0])+"";return{c(){e=x(n)},m(t,n){v(t,e,n)},p(t,i){1&i&&n!==(n=vt(t[0])+"")&&E(e,n)},d(t){t&&y(e)}}}function wi(t){let e,n,i,o=t[0].centroid.coordinates[1]+"",s=t[0].centroid.coordinates[0]+"";return{c(){e=x(o),n=x(","),i=x(s)},m(t,o){v(t,e,o),v(t,n,o),v(t,i,o)},p(t,n){1&n&&o!==(o=t[0].centroid.coordinates[1]+"")&&E(e,o),1&n&&s!==(s=t[0].centroid.coordinates[0]+"")&&E(i,s)},d(t){t&&(y(e),y(n),y(i))}}}function xi(t){let e,n,i=ft(t[0])+"";return{c(){e=new z(!1),n=T(),e.a=n},m(t,o){e.m(i,t,o),v(t,n,o)},p(t,n){1&n&&i!==(i=ft(t[0])+"")&&e.p(i)},d(t){t&&(y(n),e.d())}}}function $i(t){let e,n,i,o,s=t[0].place_id+"";return{c(){e=x(s),n=x("\n               ("),i=w("a"),i.textContent="on this server\n               ",o=x(")"),C(i,"href","https://nominatim.org/release-docs/develop/api/Output/#place_id-is-not-a-persistent-id")},m(t,s){v(t,e,s),v(t,n,s),v(t,i,s),v(t,o,s)},p(t,n){1&n&&s!==(s=t[0].place_id+"")&&E(e,s)},d(t){t&&(y(e),y(n),y(i),y(o))}}}function Li(t){let e,n;return e=new Un({props:{title:"Wikipedia Calculated",$$slots:{default:[Ti]},$$scope:{ctx:t}}}),{c(){it(e.$$.fragment)},m(t,i){ot(e,t,i),n=!0},p(t,n){const i={};8388609&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Ti(t){let e,n,i=gt(t[0])+"";return{c(){e=new z(!1),n=T(),e.a=n},m(t,o){e.m(i,t,o),v(t,n,o)},p(t,n){1&n&&i!==(i=gt(t[0])+"")&&e.p(i)},d(t){t&&(y(n),e.d())}}}function Pi(t){let e,n,i,o,s=t[0].calculated_postcode+"";return i=new Fn({props:{postcode:t[0].calculated_postcode,lat:t[0].centroid.coordinates[1],lon:t[0].centroid.coordinates[0]}}),{c(){e=x(s),n=$(),it(i.$$.fragment)},m(t,s){v(t,e,s),v(t,n,s),ot(i,t,s),o=!0},p(t,n){(!o||1&n)&&s!==(s=t[0].calculated_postcode+"")&&E(e,s);const r={};1&n&&(r.postcode=t[0].calculated_postcode),1&n&&(r.lat=t[0].centroid.coordinates[1]),1&n&&(r.lon=t[0].centroid.coordinates[0]),i.$set(r)},i(t){o||(Q(i.$$.fragment,t),o=!0)},o(t){tt(i.$$.fragment,t),o=!1},d(t){t&&(y(e),y(n)),st(i,t)}}}function Mi(t){let e,n,i=t[0].calculated_postcode&&Pi(t);return{c(){i&&i.c(),e=T()},m(t,o){i&&i.m(t,o),v(t,e,o),n=!0},p(t,n){t[0].calculated_postcode?i?(i.p(t,n),1&n&&Q(i,1)):(i=Pi(t),i.c(),Q(i,1),i.m(e.parentNode,e)):i&&(X(),tt(i,1,1,(()=>{i=null})),J())},i(t){n||(Q(i),n=!0)},o(t){tt(i),n=!1},d(t){t&&y(e),i&&i.d(t)}}}function ki(t){let e,n;return e=new Xn({props:{items:t[0].addresstags}}),{c(){it(e.$$.fragment)},m(t,i){ot(e,t,i),n=!0},p(t,n){const i={};1&n&&(i.items=t[0].addresstags),e.$set(i)},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Ci(t){let e,n;return e=new Xn({props:{items:t[0].extratags}}),{c(){it(e.$$.fragment)},m(t,i){ot(e,t,i),n=!0},p(t,n){const i={};1&n&&(i.items=t[0].extratags),e.$set(i)},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Ei(t){let e,n,i=et(t[0].address),o=[];for(let e=0;e<i.length;e+=1)o[e]=Ai(ii(t,i,e));const s=t=>tt(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=T()},m(t,i){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,i);v(t,e,i),n=!0},p(t,n){if(1&n){let r;for(i=et(t[0].address),r=0;r<i.length;r+=1){const s=ii(t,i,r);o[r]?(o[r].p(s,n),Q(o[r],1)):(o[r]=Ai(s),o[r].c(),Q(o[r],1),o[r].m(e.parentNode,e))}for(X(),r=i.length;r<o.length;r+=1)s(r);J()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)Q(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)tt(o[t]);n=!1},d(t){t&&y(e),b(o,t)}}}function Ai(t){let e,n;return e=new Dn({props:{addressLine:t[18],bMarkUnusedLines:!0,bDistanceInMeters:!1}}),{c(){it(e.$$.fragment)},m(t,i){ot(e,t,i),n=!0},p(t,n){const i={};1&n&&(i.addressLine=t[18]),e.$set(i)},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Si(t){let e,n,i,o,s=et(t[0].linked_places),r=[];for(let e=0;e<s.length;e+=1)r[e]=Oi(ni(t,s,e));const a=t=>tt(r[t],1,1,(()=>{r[t]=null}));return{c(){e=w("tr"),e.innerHTML='<td colspan="7" class="svelte-1bl6i9w"><h2 class="svelte-1bl6i9w">Linked Places</h2></td>',n=$();for(let t=0;t<r.length;t+=1)r[t].c();i=T(),C(e,"class","all-columns svelte-1bl6i9w")},m(t,s){v(t,e,s),v(t,n,s);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,s);v(t,i,s),o=!0},p(t,e){if(1&e){let n;for(s=et(t[0].linked_places),n=0;n<s.length;n+=1){const o=ni(t,s,n);r[n]?(r[n].p(o,e),Q(r[n],1)):(r[n]=Oi(o),r[n].c(),Q(r[n],1),r[n].m(i.parentNode,i))}for(X(),n=s.length;n<r.length;n+=1)a(n);J()}},i(t){if(!o){for(let t=0;t<s.length;t+=1)Q(r[t]);o=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)tt(r[t]);o=!1},d(t){t&&(y(e),y(n),y(i)),b(r,t)}}}function Oi(t){let e,n;return e=new Dn({props:{addressLine:t[18],bMarkUnusedLines:!0,bDistanceInMeters:!0}}),{c(){it(e.$$.fragment)},m(t,i){ot(e,t,i),n=!0},p(t,n){const i={};1&n&&(i.addressLine=t[18]),e.$set(i)},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function zi(t){let e,n,i;function o(t,e){return t[2].keywords?Ni:Ii}let s=o(t),r=s(t);return{c(){e=w("tr"),e.innerHTML='<td colspan="7" class="svelte-1bl6i9w"><h2 class="svelte-1bl6i9w">Keywords</h2></td>',n=$(),r.c(),i=T(),C(e,"class","all-columns svelte-1bl6i9w")},m(t,o){v(t,e,o),v(t,n,o),r.m(t,o),v(t,i,o)},p(t,e){s===(s=o(t))&&r?r.p(t,e):(r.d(1),r=s(t),r&&(r.c(),r.m(i.parentNode,i)))},d(t){t&&(y(e),y(n),y(i)),r.d(t)}}}function Ii(t){let e,n,i,o,s;return{c(){e=w("tr"),n=w("td"),i=w("a"),o=x("display keywords"),C(i,"class","btn btn-outline-secondary btn-sm"),C(i,"href",s=t[1]+"&keywords=1")},m(t,s){v(t,e,s),g(e,n),g(n,i),g(i,o)},p(t,e){2&e&&s!==(s=t[1]+"&keywords=1")&&C(i,"href",s)},d(t){t&&y(e)}}}function Ni(t){let e,n;function i(t,n){var i;return 1&n&&(e=null),null==e&&(i=t[0],e=!!(i.keywords&&i.keywords.name&&i.keywords.address&&(i.keywords.name.length>0||i.keywords.address.length>0))),e?Di:Bi}let o=i(t,-1),s=o(t);return{c(){s.c(),n=T()},m(t,e){s.m(t,e),v(t,n,e)},p(t,e){o===(o=i(t,e))&&s?s.p(t,e):(s.d(1),s=o(t),s&&(s.c(),s.m(n.parentNode,n)))},d(t){t&&y(n),s.d(t)}}}function Bi(e){let n;return{c(){n=w("tr"),n.innerHTML="<td>Place has no keywords</td>"},m(t,e){v(t,n,e)},p:t,d(t){t&&y(n)}}}function Di(t){let e,n,i,o,s=et(t[0].keywords.name),r=[];for(let e=0;e<s.length;e+=1)r[e]=ji(ei(t,s,e));let a=t[0].keywords.address&&Ri(t);return{c(){e=w("tr"),e.innerHTML='<td colspan="7" class="svelte-1bl6i9w"><h3 class="svelte-1bl6i9w">Name Keywords</h3></td>',n=$();for(let t=0;t<r.length;t+=1)r[t].c();i=$(),a&&a.c(),o=T(),C(e,"class","all-columns svelte-1bl6i9w")},m(t,s){v(t,e,s),v(t,n,s);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,s);v(t,i,s),a&&a.m(t,s),v(t,o,s)},p(t,e){if(1&e){let n;for(s=et(t[0].keywords.name),n=0;n<s.length;n+=1){const o=ei(t,s,n);r[n]?r[n].p(o,e):(r[n]=ji(o),r[n].c(),r[n].m(i.parentNode,i))}for(;n<r.length;n+=1)r[n].d(1);r.length=s.length}t[0].keywords.address?a?a.p(t,e):(a=Ri(t),a.c(),a.m(o.parentNode,o)):a&&(a.d(1),a=null)},d(t){t&&(y(e),y(n),y(i),y(o)),b(r,t),a&&a.d(t)}}}function Zi(t){let e,n,i,o=t[13].id+"";return{c(){e=w("td"),n=x("word id: "),i=x(o)},m(t,o){v(t,e,o),g(e,n),g(e,i)},p(t,e){1&e&&o!==(o=t[13].id+"")&&E(i,o)},d(t){t&&y(e)}}}function ji(t){let e,n,i,o,s=Lt(t[13].token)+"",r=t[13].id&&Zi(t);return{c(){e=w("tr"),n=w("td"),i=x(s),o=$(),r&&r.c()},m(t,s){v(t,e,s),g(e,n),g(n,i),g(e,o),r&&r.m(e,null)},p(t,n){1&n&&s!==(s=Lt(t[13].token)+"")&&E(i,s),t[13].id?r?r.p(t,n):(r=Zi(t),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(t){t&&y(e),r&&r.d()}}}function Ri(t){let e,n,i,o=et(t[0].keywords.address),s=[];for(let e=0;e<o.length;e+=1)s[e]=Fi(ti(t,o,e));return{c(){e=w("tr"),e.innerHTML='<td colspan="7" class="svelte-1bl6i9w"><h3 class="svelte-1bl6i9w">Address Keywords</h3></td>',n=$();for(let t=0;t<s.length;t+=1)s[t].c();i=T(),C(e,"class","all-columns svelte-1bl6i9w")},m(t,o){v(t,e,o),v(t,n,o);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,o);v(t,i,o)},p(t,e){if(1&e){let n;for(o=et(t[0].keywords.address),n=0;n<o.length;n+=1){const r=ti(t,o,n);s[n]?s[n].p(r,e):(s[n]=Fi(r),s[n].c(),s[n].m(i.parentNode,i))}for(;n<s.length;n+=1)s[n].d(1);s.length=o.length}},d(t){t&&(y(e),y(n),y(i)),b(s,t)}}}function Hi(t){let e,n,i,o=t[13].id+"";return{c(){e=w("td"),n=x("word id: "),i=x(o)},m(t,o){v(t,e,o),g(e,n),g(e,i)},p(t,e){1&e&&o!==(o=t[13].id+"")&&E(i,o)},d(t){t&&y(e)}}}function Fi(t){let e,n,i,o,s,r=Lt(t[13].token)+"",a=t[13].id&&Hi(t);return{c(){e=w("tr"),n=w("td"),i=x(r),o=$(),a&&a.c(),s=$()},m(t,r){v(t,e,r),g(e,n),g(n,i),g(e,o),a&&a.m(e,null),g(e,s)},p(t,n){1&n&&r!==(r=Lt(t[13].token)+"")&&E(i,r),t[13].id?a?a.p(t,n):(a=Hi(t),a.c(),a.m(e,s)):a&&(a.d(1),a=null)},d(t){t&&y(e),a&&a.d()}}}function Wi(e){let n,i,o,s,r;return{c(){n=w("tr"),i=w("td"),o=w("a"),s=x("display child places"),C(o,"class","btn btn-outline-secondary btn-sm"),C(o,"href",r=e[1]+"&hierarchy=1")},m(t,e){v(t,n,e),g(n,i),g(i,o),g(o,s)},p(t,e){2&e&&r!==(r=t[1]+"&hierarchy=1")&&C(o,"href",r)},i:t,o:t,d(t){t&&y(n)}}}function qi(t){let e,n,i,o,s;const r=[Vi,Ui],a=[];function l(t,n){return 1&n&&(e=null),null==e&&(e=!(!t[0].hierarchy||"object"!=typeof t[0].hierarchy||!Object.keys(t[0].hierarchy).length)),e?0:1}return n=l(t,-1),i=a[n]=r[n](t),{c(){i.c(),o=T()},m(t,e){a[n].m(t,e),v(t,o,e),s=!0},p(t,e){let s=n;n=l(t,e),n===s?a[n].p(t,e):(X(),tt(a[s],1,1,(()=>{a[s]=null})),J(),i=a[n],i?i.p(t,e):(i=a[n]=r[n](t),i.c()),Q(i,1),i.m(o.parentNode,o))},i(t){s||(Q(i),s=!0)},o(t){tt(i),s=!1},d(t){t&&y(o),a[n].d(t)}}}function Ui(e){let n;return{c(){n=w("tr"),n.innerHTML="<td>Place is not parent of other places</td>"},m(t,e){v(t,n,e)},p:t,i:t,o:t,d(t){t&&y(n)}}}function Vi(t){let e,n,i,o=Object.keys(t[0].hierarchy)>500,s=et(Object.keys(t[0].hierarchy)),r=[];for(let e=0;e<s.length;e+=1)r[e]=Gi(Jn(t,s,e));const a=t=>tt(r[t],1,1,(()=>{r[t]=null}));let l=o&&Yi();return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=$(),l&&l.c(),n=T()},m(t,o){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,o);v(t,e,o),l&&l.m(t,o),v(t,n,o),i=!0},p(t,i){if(1&i){let n;for(s=et(Object.keys(t[0].hierarchy)),n=0;n<s.length;n+=1){const o=Jn(t,s,n);r[n]?(r[n].p(o,i),Q(r[n],1)):(r[n]=Gi(o),r[n].c(),Q(r[n],1),r[n].m(e.parentNode,e))}for(X(),n=s.length;n<r.length;n+=1)a(n);J()}1&i&&(o=Object.keys(t[0].hierarchy)>500),o?l||(l=Yi(),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},i(t){if(!i){for(let t=0;t<s.length;t+=1)Q(r[t]);i=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)tt(r[t]);i=!1},d(t){t&&(y(e),y(n)),b(r,t),l&&l.d(t)}}}function Ki(t){let e,n;return e=new Dn({props:{addressLine:t[10],bDistanceInMeters:!0}}),{c(){it(e.$$.fragment)},m(t,i){ot(e,t,i),n=!0},p(t,n){const i={};1&n&&(i.addressLine=t[10]),e.$set(i)},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Gi(t){let e,n,i,o,s,r,a,l=t[7]+"",c=et(t[0].hierarchy[t[7]]),h=[];for(let e=0;e<c.length;e+=1)h[e]=Ki(Qn(t,c,e));const u=t=>tt(h[t],1,1,(()=>{h[t]=null}));return{c(){e=w("tr"),n=w("td"),i=w("h3"),o=x(l),s=$();for(let t=0;t<h.length;t+=1)h[t].c();r=T(),C(i,"class","svelte-1bl6i9w"),C(n,"colspan","7"),C(n,"class","svelte-1bl6i9w"),C(e,"class","all-columns svelte-1bl6i9w")},m(t,l){v(t,e,l),g(e,n),g(n,i),g(i,o),v(t,s,l);for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(t,l);v(t,r,l),a=!0},p(t,e){if((!a||1&e)&&l!==(l=t[7]+"")&&E(o,l),1&e){let n;for(c=et(t[0].hierarchy[t[7]]),n=0;n<c.length;n+=1){const i=Qn(t,c,n);h[n]?(h[n].p(i,e),Q(h[n],1)):(h[n]=Ki(i),h[n].c(),Q(h[n],1),h[n].m(r.parentNode,r))}for(X(),n=c.length;n<h.length;n+=1)u(n);J()}},i(t){if(!a){for(let t=0;t<c.length;t+=1)Q(h[t]);a=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)tt(h[t]);a=!1},d(t){t&&(y(e),y(s),y(r)),b(h,t)}}}function Yi(t){let e;return{c(){e=w("p"),e.textContent="There are more child objects which are not shown."},m(t,n){v(t,e,n)},d(t){t&&y(e)}}}function Xi(t){let e,n,i,o,s,r;e=new ve({props:{$$slots:{default:[oi]},$$scope:{ctx:t}}});const a=[ri,si],l=[];function c(t,e){return t[0]?0:""!==window.location.search&&t[3]?1:-1}return~(o=c(t))&&(s=l[o]=a[o](t)),{c(){it(e.$$.fragment),n=$(),i=w("div"),s&&s.c(),C(i,"class","container")},m(t,s){ot(e,t,s),v(t,n,s),v(t,i,s),~o&&l[o].m(i,null),r=!0},p(t,[n]){const r={};8388612&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);let h=o;o=c(t),o===h?~o&&l[o].p(t,n):(s&&(X(),tt(l[h],1,1,(()=>{l[h]=null})),J()),~o?(s=l[o],s?s.p(t,n):(s=l[o]=a[o](t),s.c()),Q(s,1),s.m(i,null)):s=null)},i(t){r||(Q(e.$$.fragment,t),Q(s),r=!0)},o(t){tt(e.$$.fragment,t),tt(s),r=!1},d(t){t&&(y(n),y(i)),st(e,t),~o&&l[o].d()}}}function Ji(t,e,n){let i,o,s,r,a;u(t,Ct,(t=>n(5,o=t)));let l=!1;return t.$$.update=()=>{if(32&t.$$.dirty){let t=o;"details"===t.tab&&(e=t.params,n(2,a={place_id:e.get("place_id"),osmtype:e.get("osmtype"),osmid:e.get("osmid"),class:e.get("class"),keywords:e.get("keywords"),addressdetails:1,hierarchy:"1"===e.get("hierarchy")?1:0,group_hierarchy:1,polygon_geojson:1,format:"json"}),n(3,l=!1),a.place_id||a.osmtype&&a.osmid?(a.place_id?jt("Details for "+a.place_id):jt("Details for "+a.osmtype+a.osmid),Nt("details",a,(function(t){window.scrollTo(0,0),n(3,l=!0),n(0,s=t&&!t.error?t:void 0)}))):n(0,s=void 0),n(1,r=window.location.search))}var e},n(4,i=Nominatim_Config.Reverse_Only),[s,r,a,l,i,o]}class Qi extends lt{constructor(t){super(),at(this,t,Ji,Xi,s,{})}}function to(t,e,n){const i=t.slice();return i[2]=e[n],i}function eo(t){let e,n,i,o,s,r,a,l,c,h,u,d,p,m,f,_,b,L,T,P,M,k,A,S,O,z,I=ft(t[2])+"",N=t[2].class+"",B=t[2].type+"",D=t[2].name+"",Z=(t[2].country_code||"")+"",j=t[2].errormessage+"",R=t[2].updated+"";return{c(){e=w("tr"),n=w("td"),i=$(),o=w("td"),s=x(N),r=$(),a=w("td"),l=x(B),c=$(),h=w("td"),u=x(D),d=$(),p=w("td"),m=x(Z),f=$(),_=w("td"),b=x(j),L=$(),T=w("td"),P=x(R),M=$(),k=w("td"),A=w("a"),S=x("josm"),z=$(),C(A,"href",O="http://localhost:8111/import?url=https://www.openstreetmap.org/api/0.6/"+mt(t[2].osm_type)+"/"+t[2].osm_id+"/full"),C(A,"target","josm")},m(t,y){v(t,e,y),g(e,n),n.innerHTML=I,g(e,i),g(e,o),g(o,s),g(e,r),g(e,a),g(a,l),g(e,c),g(e,h),g(h,u),g(e,d),g(e,p),g(p,m),g(e,f),g(e,_),g(_,b),g(e,L),g(e,T),g(T,P),g(e,M),g(e,k),g(k,A),g(A,S),g(e,z)},p(t,e){1&e&&I!==(I=ft(t[2])+"")&&(n.innerHTML=I),1&e&&N!==(N=t[2].class+"")&&E(s,N),1&e&&B!==(B=t[2].type+"")&&E(l,B),1&e&&D!==(D=t[2].name+"")&&E(u,D),1&e&&Z!==(Z=(t[2].country_code||"")+"")&&E(m,Z),1&e&&j!==(j=t[2].errormessage+"")&&E(b,j),1&e&&R!==(R=t[2].updated+"")&&E(P,R),1&e&&O!==(O="http://localhost:8111/import?url=https://www.openstreetmap.org/api/0.6/"+mt(t[2].osm_type)+"/"+t[2].osm_id+"/full")&&C(A,"href",O)},d(t){t&&y(e)}}}function no(t){let e,n,i,o,s,r,a,l,c,h,u,d,p,m,f,_,L,T=t[0].length+"";e=new ve({});let P=et(t[0]),M=[];for(let e=0;e<P.length;e+=1)M[e]=eo(to(t,P,e));return{c(){it(e.$$.fragment),n=$(),i=w("div"),o=w("div"),s=w("div"),r=w("h1"),r.textContent="Broken polygons",a=$(),l=w("p"),c=x("Total number of broken polygons: "),h=x(T),u=x("."),d=$(),p=w("table"),m=w("thead"),m.innerHTML="<th>OSM object</th> <th>Class</th> <th>Type</th> <th>Name</th> <th>Country Code</th> <th>Error message</th> <th>Updated</th> <th></th>",f=$(),_=w("tbody");for(let t=0;t<M.length;t+=1)M[t].c();C(p,"class","table table-striped table-hover"),C(s,"class","col-sm-12"),C(o,"class","row"),C(i,"class","container")},m(t,y){ot(e,t,y),v(t,n,y),v(t,i,y),g(i,o),g(o,s),g(s,r),g(s,a),g(s,l),g(l,c),g(l,h),g(l,u),g(s,d),g(s,p),g(p,m),g(p,f),g(p,_);for(let t=0;t<M.length;t+=1)M[t]&&M[t].m(_,null);L=!0},p(t,[e]){if((!L||1&e)&&T!==(T=t[0].length+"")&&E(h,T),1&e){let n;for(P=et(t[0]),n=0;n<P.length;n+=1){const i=to(t,P,n);M[n]?M[n].p(i,e):(M[n]=eo(i),M[n].c(),M[n].m(_,null))}for(;n<M.length;n+=1)M[n].d(1);M.length=P.length}},i(t){L||(Q(e.$$.fragment,t),L=!0)},o(t){tt(e.$$.fragment,t),L=!1},d(t){t&&(y(n),y(i)),st(e,t),b(M,t)}}}function io(t,e,n){let i=[];return N((function(){Nt("polygons",{format:"json"},(function(t){n(0,i=t)})),jt("Broken polygons")})),[i]}class oo extends lt{constructor(t){super(),at(this,t,io,no,s,{})}}function so(t,e,n){const i=t.slice();return i[2]=e[n],i}function ro(t){let e,n=t[2].place_id+"";return{c(){e=x(n)},m(t,n){v(t,e,n)},p(t,i){1&i&&n!==(n=t[2].place_id+"")&&E(e,n)},d(t){t&&y(e)}}}function ao(t){let e,n,i,o,s,r,a,l,c,h,u,d,p,m,f,_,b,L,T,P=t[2].country_code+"",M=t[2].name+"",k=ft(t[2])+"",C=t[2].class+"",A=t[2].type+"";return i=new Se({props:{feature:t[2],$$slots:{default:[ro]},$$scope:{ctx:t}}}),{c(){e=w("tr"),n=w("td"),it(i.$$.fragment),o=$(),s=w("td"),r=x(P),a=$(),l=w("td"),c=x(M),h=$(),u=w("td"),d=$(),p=w("td"),m=x(C),f=$(),_=w("td"),b=x(A),L=$()},m(t,y){v(t,e,y),g(e,n),ot(i,n,null),g(e,o),g(e,s),g(s,r),g(e,a),g(e,l),g(l,c),g(e,h),g(e,u),u.innerHTML=k,g(e,d),g(e,p),g(p,m),g(e,f),g(e,_),g(_,b),g(e,L),T=!0},p(t,e){const n={};1&e&&(n.feature=t[2]),33&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n),(!T||1&e)&&P!==(P=t[2].country_code+"")&&E(r,P),(!T||1&e)&&M!==(M=t[2].name+"")&&E(c,M),(!T||1&e)&&k!==(k=ft(t[2])+"")&&(u.innerHTML=k),(!T||1&e)&&C!==(C=t[2].class+"")&&E(m,C),(!T||1&e)&&A!==(A=t[2].type+"")&&E(b,A)},i(t){T||(Q(i.$$.fragment,t),T=!0)},o(t){tt(i.$$.fragment,t),T=!1},d(t){t&&y(e),st(i)}}}function lo(t){let e,n,i,o,s,r,a,l,c,h,u,d,p,m,f,_,L=t[0].length+"";e=new ve({});let T=et(t[0]),P=[];for(let e=0;e<T.length;e+=1)P[e]=ao(so(t,T,e));const M=t=>tt(P[t],1,1,(()=>{P[t]=null}));return{c(){it(e.$$.fragment),n=$(),i=w("div"),o=w("div"),s=w("div"),r=w("h1"),r.textContent="Deletable",a=$(),l=w("p"),c=x(L),h=x(" objects have been deleted in OSM but\n        are still in the Nominatim database."),u=$(),d=w("table"),p=w("thead"),p.innerHTML="<th>Place id</th> <th>Country Code</th> <th>Name</th> <th>OSM object</th> <th>Class</th> <th>Type</th>",m=$(),f=w("tbody");for(let t=0;t<P.length;t+=1)P[t].c();C(d,"class","table table-striped table-hover"),C(s,"class","col-sm-12"),C(o,"class","row"),C(i,"class","container")},m(t,y){ot(e,t,y),v(t,n,y),v(t,i,y),g(i,o),g(o,s),g(s,r),g(s,a),g(s,l),g(l,c),g(l,h),g(s,u),g(s,d),g(d,p),g(d,m),g(d,f);for(let t=0;t<P.length;t+=1)P[t]&&P[t].m(f,null);_=!0},p(t,[e]){if((!_||1&e)&&L!==(L=t[0].length+"")&&E(c,L),1&e){let n;for(T=et(t[0]),n=0;n<T.length;n+=1){const i=so(t,T,n);P[n]?(P[n].p(i,e),Q(P[n],1)):(P[n]=ao(i),P[n].c(),Q(P[n],1),P[n].m(f,null))}for(X(),n=T.length;n<P.length;n+=1)M(n);J()}},i(t){if(!_){Q(e.$$.fragment,t);for(let t=0;t<T.length;t+=1)Q(P[t]);_=!0}},o(t){tt(e.$$.fragment,t),P=P.filter(Boolean);for(let t=0;t<P.length;t+=1)tt(P[t]);_=!1},d(t){t&&(y(n),y(i)),st(e,t),b(P,t)}}}function co(t,e,n){let i=[];return N((function(){Nt("deletable",{format:"json"},(function(t){n(0,i=t)})),jt("Deletable objects")})),[i]}class ho extends lt{constructor(t){super(),at(this,t,co,lo,s,{})}}function uo(t){let e,n,i,o,s,r,a,l,c,h,u,d,p,m,f,_,b,L,T,P,M,k,A,S=t[1].Nominatim_API_Endpoint+"",O=t[0].software_version+"",z=t[0].database_version+"",I=t[0].data_updated+"";return e=new ve({}),{c(){it(e.$$.fragment),n=$(),i=w("div"),o=w("div"),s=w("div"),r=w("h1"),r.textContent="Server status",a=$(),l=w("dl"),c=w("dt"),c.textContent="API Endpoint",h=w("dd"),u=w("a"),d=x(S),p=$(),m=w("dt"),m.textContent="Software version",f=w("dd"),_=x(O),b=w("dt"),b.textContent="Database version",L=w("dd"),T=x(z),P=w("dt"),P.textContent="Data last updated",M=w("dd"),k=x(I),C(u,"href",t[1].Nominatim_API_Endpoint),C(s,"class","col-sm-12"),C(o,"class","row"),C(i,"class","container")},m(t,y){ot(e,t,y),v(t,n,y),v(t,i,y),g(i,o),g(o,s),g(s,r),g(s,a),g(s,l),g(l,c),g(l,h),g(h,u),g(u,d),g(h,p),g(l,m),g(l,f),g(f,_),g(l,b),g(l,L),g(L,T),g(l,P),g(l,M),g(M,k),A=!0},p(t,[e]){(!A||1&e)&&O!==(O=t[0].software_version+"")&&E(_,O),(!A||1&e)&&z!==(z=t[0].database_version+"")&&E(T,z),(!A||1&e)&&I!==(I=t[0].data_updated+"")&&E(k,I)},i(t){A||(Q(e.$$.fragment,t),A=!0)},o(t){tt(e.$$.fragment,t),A=!1},d(t){t&&(y(n),y(i)),st(e,t)}}}function po(t,e,n){let i={},o=Nominatim_Config;return N((function(){Nt("status",{format:"json"},(function(t){n(0,i=t)})),jt("Server status")})),[i,o]}class mo extends lt{constructor(t){super(),at(this,t,po,uo,s,{})}}function fo(e){let n,i,o,s;return n=new ve({}),{c(){it(n.$$.fragment),i=$(),o=w("div"),C(o,"id","about-help"),C(o,"class","container svelte-1l5yrvt")},m(t,e){ot(n,t,e),v(t,i,e),v(t,o,e),s=!0},p:t,i(t){s||(Q(n.$$.fragment,t),s=!0)},o(t){tt(n.$$.fragment,t),s=!1},d(t){t&&(y(i),y(o)),st(n,t)}}}function _o(t){return N((()=>{Dt("theme/about-help.html",document.getElementById("about-help"))})),[]}class go extends lt{constructor(t){super(),at(this,t,_o,fo,s,{})}}function vo(t){let e,n;return e=new go({}),{c(){it(e.$$.fragment)},m(t,i){ot(e,t,i),n=!0},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function yo(t){let e,n;return e=new mo({}),{c(){it(e.$$.fragment)},m(t,i){ot(e,t,i),n=!0},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function bo(t){let e,n;return e=new oo({}),{c(){it(e.$$.fragment)},m(t,i){ot(e,t,i),n=!0},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function wo(t){let e,n;return e=new ho({}),{c(){it(e.$$.fragment)},m(t,i){ot(e,t,i),n=!0},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function xo(t){let e,n;return e=new Qi({}),{c(){it(e.$$.fragment)},m(t,i){ot(e,t,i),n=!0},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function $o(t){let e,n;return e=new Ln({}),{c(){it(e.$$.fragment)},m(t,i){ot(e,t,i),n=!0},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Lo(t){let e,n;return e=new dn({}),{c(){it(e.$$.fragment)},m(t,i){ot(e,t,i),n=!0},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function To(t){let e,n,i,o,s,r,a;const l=[Lo,$o,xo,wo,bo,yo,vo],c=[];function h(t,e){return"search"===t[0]?0:"reverse"===t[0]?1:"details"===t[0]?2:"deletable"===t[0]?3:"polygons"===t[0]?4:"status"===t[0]?5:"about"===t[0]?6:-1}return~(e=h(t))&&(n=c[e]=l[e](t)),o=new zt({}),{c(){n&&n.c(),i=$(),it(o.$$.fragment)},m(n,l){~e&&c[e].m(n,l),v(n,i,l),ot(o,n,l),s=!0,r||(a=P(window,"popstate",t[2]),r=!0)},p(t,[o]){let s=e;e=h(t),e!==s&&(n&&(X(),tt(c[s],1,1,(()=>{c[s]=null})),J()),~e?(n=c[e],n||(n=c[e]=l[e](t),n.c()),Q(n,1),n.m(i.parentNode,i)):n=null)},i(t){s||(Q(n),Q(o.$$.fragment,t),s=!0)},o(t){tt(n),tt(o.$$.fragment,t),s=!1},d(t){t&&y(i),~e&&c[e].d(t),st(o,t),r=!1,a()}}}function Po(t,e,n){let i,o;u(t,Ct,(t=>n(1,o=t))),St();return t.$$.update=()=>{2&t.$$.dirty&&n(0,i=o.tab)},[i,o,()=>St()]}new class extends lt{constructor(t){super(),at(this,t,Po,To,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
